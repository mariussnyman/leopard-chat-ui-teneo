{"version":3,"sources":["webpack:///./node_modules/vue-loaders/dist/loaders/ball-pulse-sync.js","webpack:///./node_modules/sockjs-client/lib/utils/transport.js","webpack:///./node_modules/markdown-it/lib/common/utils.js","webpack:///./node_modules/markdown-it/lib/rules_block/heading.js","webpack:///./node_modules/markdown-it/lib/index.js","webpack:///./node_modules/markdown-it/lib/token.js","webpack:///./node_modules/markdown-it/lib/rules_inline/state_inline.js","webpack:///./node_modules/@livechat/mitt/dist/livechat-mitt.es.js","webpack:///./node_modules/backo2/index.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/polling.js","webpack:///./node_modules/sockjs-client/lib/version.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/websocket.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/xhr.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///./node_modules/markdown-it/lib/rules_block/lheading.js","webpack:///./node_modules/@livechat/agent-app-widget-sdk/node_modules/@livechat/postmessage/dist/postmessenger-es5.esm.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/@livechat/agent-app-widget-sdk/dist/agentapp-widget.es.js","webpack:///./node_modules/markdown-it/lib/presets/zero.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text_collapse.js","webpack:///./src/components/Modal.vue?af72","webpack:///./node_modules/sockjs-client/lib/utils/random.js","webpack:///./node_modules/sockjs-client/lib/utils/browser.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/iframe-wrap.js","webpack:///./node_modules/markdown-it/lib/rules_inline/autolink.js","webpack:///./node_modules/@babel/runtime/helpers/createSuper.js","webpack:///./node_modules/markdown-it-for-inline/index.js","webpack:///./node_modules/ttl-localstorage/components/localstorage.js","webpack:///./node_modules/@livechat/accounts-sdk/dist/index.esm.js","webpack:///./node_modules/markdown-it/lib/rules_core/block.js","webpack:///./node_modules/artyom.js/build/artyom.js","webpack:///./node_modules/vue-loaders/dist/loaders/line-scale.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/vue-shortkey/dist/index.js","webpack:///./node_modules/sockjs-client/lib/transport/websocket.js","webpack:///./src/utils/postMessage.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-streaming.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/sockjs-client/lib/transport/htmlfile.js","webpack:///./node_modules/markdown-it/lib/rules_inline/newline.js","webpack:///./node_modules/markdown-it/lib/presets/commonmark.js","webpack:///./node_modules/mdurl/format.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/paragraph.js","webpack:///./node_modules/sockjs-client/lib/event/trans-message.js","webpack:///./node_modules/sockjs-client/lib/main.js","webpack:///./node_modules/markdown-it/lib/ruler.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./node_modules/sockjs-client/lib/utils/log.js","webpack:///./node_modules/vue-loaders/dist/loaders/line-scale-pulse-out-rapid.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/markdown-it/lib/rules_inline/backticks.js","webpack:///./node_modules/markdown-it/lib/rules_block/list.js","webpack:///./node_modules/markdown-it/lib/rules_core/normalize.js","webpack:///./node_modules/markdown-it/lib/parser_inline.js","webpack:///./node_modules/uc.micro/categories/Z/regex.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/htmlfile.js","webpack:///./node_modules/markdown-it/lib/helpers/index.js","webpack:///./node_modules/markdown-it/lib/common/html_re.js","webpack:///./node_modules/markdown-it/lib/rules_inline/entity.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/markdown-it/lib/rules_block/html_block.js","webpack:///./src/utils/asr-tts.js","webpack:///./node_modules/sockjs-client/lib/utils/url.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/sockjs-client/lib/transport-list.js","webpack:///./src/utils/firebase.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/markdown-it/lib/rules_inline/escape.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///./node_modules/uc.micro/categories/Cf/regex.js","webpack:///./node_modules/markdown-it/lib/rules_core/state_core.js","webpack:///./src/components/Modal.vue?1b97","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?b749","webpack:///./src/components/Modal.vue?329b","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-local.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/ajax-based.js","webpack:///./node_modules/markdown-it/lib/parser_block.js","webpack:///./node_modules/sockjs-client/lib/shims.js","webpack:///./node_modules/sockjs-client/lib/transport/eventsource.js","webpack:///../../src/util/colorUtils.ts","webpack:///./node_modules/sockjs-client/lib/info-iframe.js","webpack:///./node_modules/uc.micro/categories/P/regex.js","webpack:///./node_modules/markdown-it/lib/renderer.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_title.js","webpack:///src/components/Listening.vue","webpack:///./src/components/Listening.vue?b4f8","webpack:///./src/components/Listening.vue?6c29","webpack:///./src/components/Listening.vue?0418","webpack:///./node_modules/markdown-it/lib/rules_block/table.js","webpack:///./node_modules/gravatar/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/state_block.js","webpack:///./node_modules/markdown-it/lib/rules_inline/balance_pairs.js","webpack:///./node_modules/vee-validate/dist/rules.js","webpack:///./src/utils/vee-validate.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///../../../src/presets/default/index.ts","webpack:///../../src/locale/en.ts","webpack:///../../../src/services/service/index.ts","webpack:///../../../src/services/presets/index.ts","webpack:///../../../src/services/application/index.ts","webpack:///../../../src/services/breakpoint/index.ts","webpack:///../../../src/services/goto/easing-patterns.ts","webpack:///../../../src/services/goto/util.ts","webpack:///../../../src/services/goto/index.ts","webpack:///../../../../src/services/icons/presets/mdi-svg.ts","webpack:///../../../../src/services/icons/presets/md.ts","webpack:///../../../../src/services/icons/presets/mdi.ts","webpack:///../../../../src/services/icons/presets/fa.ts","webpack:///../../../../src/services/icons/presets/fa4.ts","webpack:///../../../../src/services/icons/presets/fa-svg.ts","webpack:///../../../../src/services/icons/presets/index.ts","webpack:///../../../src/services/icons/index.ts","webpack:///../../../src/services/lang/index.ts","webpack:///../../../src/util/color/transformCIELAB.ts","webpack:///../../../src/services/theme/utils.ts","webpack:///../../../src/services/theme/index.ts","webpack:///../src/framework.ts","webpack:///../src/install.ts","webpack:///./src/constants/asr-corrections.js","webpack:///./node_modules/@livechat/deferred/dist/deferred.esm.js","webpack:///./node_modules/redux/es/redux.js","webpack:///./node_modules/@livechat/side-effects-middleware/es/index.js","webpack:///./node_modules/memory-web-storage/es/index.js","webpack:///./node_modules/@livechat/isomorphic-storage/dist/isomorphic-storage.es.js","webpack:///./node_modules/unfetch/dist/unfetch.es.js","webpack:///./node_modules/@livechat/url-utils/dist/url-utils.esm.js","webpack:///./node_modules/@livechat/sockjs-manager/dist/sockjs-manager.esm.js","webpack:///./node_modules/@livechat/platform-client/dist/platform-client.esm.js","webpack:///./node_modules/@livechat/file-upload/dist/file-upload.es.js","webpack:///./node_modules/@livechat/dom-utils/dist/dom-utils.es.js","webpack:///./node_modules/@livechat/customer-auth/dist/customer-auth.esm.js","webpack:///./node_modules/@livechat/customer-sdk/dist/customer-sdk.esm.js","webpack:///./src/utils/live-chat.js","webpack:///./src/utils/setup.js","webpack:///./node_modules/sockjs-client/lib/utils/escape.js","webpack:///./src/constants/translations.js","webpack:///./node_modules/sockjs-client/lib/info-ajax.js","webpack:///./node_modules/markdown-it/lib/presets/default.js","webpack:///./node_modules/gravatar/lib/gravatar.js","webpack:///./node_modules/blueimp-md5/js/md5.js","webpack:///../../../src/util/color/transformSRGB.ts","webpack:///./node_modules/mdurl/decode.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/markdown-it/lib/rules_inline/strikethrough.js","webpack:///./node_modules/json3/lib/json3.js","webpack:///./node_modules/markdown-it/lib/rules_inline/image.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/sockjs-client/lib/event/eventtarget.js","webpack:///./node_modules/markdown-it/lib/rules_core/linkify.js","webpack:///./node_modules/sockjs-client/lib/event/event.js","webpack:///./node_modules/@livechat/promise-try/dist/promise-try.es.js","webpack:///./node_modules/markdown-it/lib/rules_block/code.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xdr.js","webpack:///./node_modules/sockjs-client/lib/transport/iframe.js","webpack:///./node_modules/sockjs-client/lib/iframe-bootstrap.js","webpack:///./node_modules/sockjs-client/lib/location.js","webpack:///./node_modules/markdown-it/lib/rules_core/inline.js","webpack:///./node_modules/uc.micro/categories/Cc/regex.js","webpack:///./node_modules/markdown-it/lib/parser_core.js","webpack:///./src/utils/drag.js","webpack:///./node_modules/sockjs-client/lib/event/emitter.js","webpack:///./node_modules/markdown-it/lib/rules_core/smartquotes.js","webpack:///./src/constants/color-names.js","webpack:///./node_modules/linkify-it/lib/re.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-streaming.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/sockjs-client/lib/info-receiver.js","webpack:///./node_modules/markdown-it/lib/rules_inline/text.js","webpack:///./node_modules/sockjs-client/lib/facade.js","webpack:///./node_modules/markdown-it/lib/rules_core/replacements.js","webpack:///./node_modules/markdown-it/lib/common/entities.js","webpack:///./node_modules/@livechat/data-utils/dist/data-utils.es.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/markdown-it/lib/rules_block/fence.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/jsonp.js","webpack:///./src/store.js","webpack:///./node_modules/sockjs-client/lib/utils/event.js","webpack:///./node_modules/markdown-it/lib/rules_inline/html_inline.js","webpack:///./node_modules/mdurl/encode.js","webpack:///./node_modules/sockjs-client/lib/info-iframe-receiver.js","webpack:///./node_modules/markdown-it/lib/rules_inline/emphasis.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/eventsource.js","webpack:///./src/utils/livechat-config.js","webpack:///./node_modules/uc.micro/properties/Any/regex.js","webpack:///./node_modules/sockjs-client/lib/entry.js","webpack:///./node_modules/markdown-it/lib/rules_inline/link.js","webpack:///./node_modules/ttl-localstorage/components/memorystorage.js","webpack:///./node_modules/sockjs-client/lib/utils/browser-crypto.js","webpack:///./node_modules/markdown-it/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/uc.micro/index.js","webpack:///./node_modules/sockjs-client/lib/utils/object.js","webpack:///./node_modules/markdown-it/lib/rules_block/reference.js","webpack:///./node_modules/mdurl/index.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/abstract-xhr.js","webpack:///./node_modules/mdurl/parse.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-cors.js","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_label.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/markdown-it/lib/common/html_blocks.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-polling.js","webpack:///./node_modules/sockjs-client/lib/event/close.js","webpack:///./src/assets/notification.mp3","webpack:///./node_modules/markdown-it/lib/helpers/parse_link_destination.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-polling.js","webpack:///./src/components/Listening.vue?419f","webpack:///./node_modules/markdown-it/lib/rules_block/blockquote.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/buffered-sender.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/sockjs-client/lib/utils/iframe.js","webpack:///./node_modules/vue-snotify/vue-snotify.esm.js","webpack:///./node_modules/vuex-i18n/dist/vuex-i18n.es.js","webpack:///./node_modules/ttl-localstorage/common/base-api.js","webpack:///./node_modules/bluebird/js/browser/bluebird.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-fake.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/sender-receiver.js","webpack:///./node_modules/ttl-localstorage/index.js","webpack:///./node_modules/sockjs-client/lib/transport/jsonp-polling.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/eventsource.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/jsonp.js","webpack:///./node_modules/linkify-it/index.js","webpack:///./node_modules/markdown-it/lib/rules_block/hr.js","webpack:///./node_modules/promised-location/dist/index.js"],"names":["module","exports","n","e","r","t","o","arguments","length","i","a","Array","isArray","l","c","s","u","f","Symbol","iterator","next","done","value","return","style","name","render","class","Object","defineProperty","enumerable","configurable","writable","transform","concat","this","scale","color","replace","slice","toUpperCase","originName","component","assign","props","type","String","default","Number","install","availableTransports","filterToEnabled","transportsWhitelist","info","transports","main","facade","forEach","trans","transportName","websocket","indexOf","enabled","push","facadeTransport","_hasOwnProperty","prototype","hasOwnProperty","has","object","key","call","isValidEntityCode","fromCodePoint","surrogate1","surrogate2","fromCharCode","UNESCAPE_MD_RE","UNESCAPE_ALL_RE","RegExp","source","DIGITAL_ENTITY_TEST_RE","entities","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","ch","REGEXP_ESCAPE_RE","UNICODE_PUNCT_RE","lib","mdurl","ucmicro","obj","sources","TypeError","keys","isString","toString","unescapeMd","str","unescapeAll","match","escaped","entity","code","charCodeAt","test","toLowerCase","parseInt","escapeHtml","arrayReplaceAt","src","pos","newElements","isSpace","isWhiteSpace","isMdAsciiPunct","isPunctChar","escapeRE","normalizeReference","trim","state","startLine","endLine","silent","level","tmp","token","bMarks","tShift","max","eMarks","sCount","blkIndent","skipSpacesBack","skipCharsBack","line","markup","map","content","children","utils","helpers","Renderer","ParserCore","ParserBlock","ParserInline","LinkifyIt","punycode","config","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","validateLink","url","RECODE_HOSTNAME_FOR","normalizeLink","parsed","parse","hostname","protocol","toASCII","er","encode","format","normalizeLinkText","toUnicode","decode","MarkdownIt","presetName","options","inline","block","core","renderer","linkify","configure","set","presets","self","Error","components","rules","ruler","enableOnly","rules2","ruler2","enable","list","ignoreInvalid","result","chain","missed","filter","disable","use","plugin","args","apply","env","State","process","tokens","parseInline","inlineMode","renderInline","Token","tag","nesting","attrs","meta","hidden","attrIndex","len","attrPush","attrData","attrSet","idx","attrGet","attrJoin","StateInline","md","outTokens","tokens_meta","posMax","pending","pendingLevel","cache","delimiters","_prev_delimiters","pushPending","token_meta","pop","scanDelims","start","canSplitWord","lastChar","nextChar","count","can_open","can_close","isLastWhiteSpace","isLastPunctChar","isNextWhiteSpace","isNextPunctChar","left_flanking","right_flanking","marker","_extends","target","mitt","eventsMap","create","instance","off","handler","once","on","onceHandler","data","maybeSecondArg","Backoff","opts","ms","min","factor","jitter","attempts","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter","inherits","EventEmitter","Polling","Receiver","receiveUrl","AjaxObject","_scheduleReceiver","poll","msg","emit","reason","pollIsClosing","removeAllListeners","abort","Driver","global","WebSocket","MozWebSocket","all","splice","evt","XhrReceiver","bufferPosition","xo","_chunkHandler","bind","status","text","_cleanup","buf","close","_objectWithoutProperties","excluded","sourceKeys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","required","qs","slashes","protocolre","left","trimLeft","address","NaN","ignore","hash","query","lolcation","loc","location","window","finaldestination","Url","unescape","pathname","href","extractProtocol","exec","rest","parser","relative","extracted","instruction","index","instructions","charAt","base","path","split","last","unshift","up","join","port","host","username","password","auth","origin","part","fn","char","ins","stringify","root","nodeType","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","stringFromCharCode","error","RangeError","array","mapDomain","string","parts","ucs2decode","extra","output","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","input","out","basic","j","oldi","w","baseMinusT","codePoint","inputLength","bias","lastIndexOf","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","terminate","oldParentType","nextLine","terminatorRules","getRules","parentType","isEmpty","skipChars","skipSpaces","getLines","fromEvent","node","sink","disposed","ev","removeEventListener","addEventListener","readme","d","readme$2","_len","cbs","_key","res","toPromise","Promise","resolve","reject","listener","_listener","complete","talkback","err","gotValue","readme$3","condition","readme$4","operation","share","sinks","sourceTalkback","_iterator","_isArray","_i","_ref","callbagTake","taken","timeout","delay","timerId","absoluteDelay","Date","scheduleTimeout","now","clearTimeout","setTimeout","flatten","exists","x","absent","outerEnded","outerTalkback","innerTalkback","T","D","innerSource","lazy","unsubed","throwError","end","switchMap","project","requestCounter","makeRequest","ownMessage$","postMessage","payload","factory","request","message","_message$data$result","real","createApi","emitter","createMessage","method","event","arg","_createMessage","owner","createMessageHandler","api","methods","_message$data","then","_message$data2","partitionModel","model","p","sanitizeEvent","getQueryParam","queryParams","search","pair","decodeURIComponent","reduce","params","param","createConnection","origins","handleMessage","pluginId","usePlainConnection","formatMessage","plugin_id","send","parent","_partitionModel","targetOrigin","handshake$","_messageHandler","messageHandler","promise","handle","child","VALID_COMPONENT_TYPES","button","label_value","title","link","validateComponentDefinition","createValidationError","label","id","imgSize","createComponentProcessor","processingPipe","fns","v","connection","initializer","initialized","eventEmitter","processCustomerDetailsComponents","event_name","event_data","init","_sendMessage","track","eventName","eventProperties","event_properties","refreshSessionId","getSessionId","putMessage","watchMessages","modifyCustomerDetailsSection","section","imgUrl","sendQuickReplies","buttons","sendCards","cards","_connection","html","xhtmlOut","breaks","langPrefix","typographer","quotes","highlight","maxNesting","curr","crypto","bytes","randomBytes","ret","substr","number","numberString","isOpera","navigator","userAgent","isKonqueror","hasDomain","document","domain","IframeTransport","objectUtils","transport","IframeWrapTransport","transUrl","baseUrl","iframeInfo","extend","sameOrigin","needBody","roundTrips","EMAIL_RE","AUTOLINK_RE","tail","linkMatch","emailMatch","fullUrl","getPrototypeOf","require","isNativeReflectConstruct","possibleConstructorReturn","Derived","Super","NewTarget","constructor","Reflect","construct","ruleName","tokenType","iteartor","blkIdx","inlineTokens","BaseApi","LocalStorage","LC_OBJECT_ASSIGN","varArgs","to","nextSource","nextKey","Http$1","submit","headers","success","http","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","responseText","postData","get","withCredentials","DONE","AccountsExternalAPI$1","_HttpAPI","subClass","superClass","AccountsExternalAPI","_this","getInfoByCode","getInfoByAccessToken","accessToken","Authorization","signOut","allSessions","delete","__proto__","HttpAPI","endpoint","_options","promisify","statusCode","URL","finalOptions","oldCallback","parsedData","JSON","responseStatus","onIncorrectRegion","region","post","put","setDefaults","setEndpoint","LocalStorage$1","_proto","expirationInSeconds","expiresIn","getTime","localStorage","setItem","getItem","removeItem","remove","buildQueryString","encodeURIComponent","_variables","_getVar","_postMessageDomain","_validPostMessageEventOrigins","SDK","client_id","response_type","linkLabel","login","prompt","onIdentityFetched","onSignedOut","queryStringParams","utm_source","utm_medium","popupRoute","_postMessageUniqueId","_listenerInited","_tid","_lastIdentityError","_lastIdentityData","updateOptions","backendAddress","openPopup","preventDefault","screen","width","top","height","h","_getCurrentPath","_startListening","redirect_uri","flow","callback","cachedData","_getCachedData","access_token","errorResponse","oauth_exception","description","error_description","identity_exception","displayButtons","internalCall","_displayError","elements","getElementsByClassName","createElement","rel","head","appendChild","insertAdjacentHTML","element","getAttribute","setAttribute","onclick","innerHTML","errorMessages","console","warn","errs","errorMessage","_returnSuccessResponse","response","successResponse","entity_id","license","license_id","expires_in","scopes","scope","_onIdentityFetched","fromIframeCache","_removeCachedData","_buildIframe","_cacheData","_removeIframe","iframeRef","getElementById","_getIframeId","parentNode","removeChild","_stopListening","_parseJwt","base64","jsonPayload","atob","_checkPostMessageUniqueId","_receiveMessage","found","_parseError","signed_out","iframe","position","right","opacity","visibility","body","_getCacheKey","initSDK","accountsSdk","sdkInstance","Artyom","ArtyomCommands","ArtyomVoicesIdentifiers","speechSynthesis","getVoices","ArtyomWebkitSpeechRecognition","webkitSpeechRecognition","ArtyomProperties","lang","recognizing","continuous","speed","volume","listen","mode","debug","redirectRecognizedTextOutput","remoteProcessorHandler","lastSay","fatalityPromiseCallback","executionKeyword","obeyKeyword","speaking","obeying","soundex","ArtyomGarbageCollection","ArtyomFlags","restartRecognition","ArtyomGlobalEvents","ERROR","SPEECH_SYNTHESIS_START","SPEECH_SYNTHESIS_END","TEXT_RECOGNIZED","COMMAND_RECOGNITION_START","COMMAND_RECOGNITION_END","COMMAND_MATCHED","NOT_COMMAND_MATCHED","Device","isMobile","isChrome","ArtyomVoice","localService","voiceURI","addCommands","processCommand","command","clearGarbageCollection","preMessage","getVersion","log","detectErrors","emptyCommands","execute","voz","opciones","indexes","encontrado","wildy","opcion","smart","grupo","before","later","triggerEvent","wildcard","item","full","fatality","stop","getAvailableCommands","speechSupported","recognizingSupported","shutUp","cancel","getProperties","getLanguage","hey","artyom_is_allowed","onResultProcessor","interimResults","maxAlternatives","onstart","onerror","timeStamp","onend","cantidadResultados","results","resultIndex","identificated","transcript","isFinal","comando","action","onresult","temporal","interim","initialize","getVoice","CustomEvent","dispatchEvent","repeatLastSay","returnObject","say","when","remoteProcessorService","voiceAvailable","languageCode","isObeying","obey","dontObey","isSpeaking","isRecognizing","getNativeApi","getGarbageCollection","voiceIdentifiersArray","voice","voices","voicesLength","_loop_1","foundVoice","newDictation","settings","dictado","onResult","dictation","flagStartCallback","flagRestart","onError","onStart","onEnd","newPrompt","copyActualCommands","promptCommand","toExe","onMatch","beforePrompt","callbacks","onStartPrompt","onEndPrompt","question","sayRandom","setDebug","simulateInstruction","sentence","foundCommand","shift","codes","b","g","z","splitStringByChunks","chunk_length","prev","substring","restart","_copyInit","talk","actualChunk","totalChunks","SpeechSynthesisUtterance","rate","availableVoice","speak","definitive","chunk","temp_processed","numberOfChunk","date","_getPrototypeOf","setPrototypeOf","__esModule","modifiers","avoid","focus","el","elm","y","encodeKey","from","prevent","directive","update","oldValue","unbind","decodeKey","shiftKey","includes","ctrlKey","metaKey","altKey","bubbles","srcKey","keyDown","NODE_ENV","stopPropagation","find","activeElement","matches","run","fun","nextTick","browser","argv","version","versions","addListener","removeListener","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","Element","matchesSelector","msMatchesSelector","webkitMatchesSelector","cancelable","defaultPrevented","createEvent","initCustomEvent","detail","Event","urlUtils","WebsocketDriver","WebSocketTransport","addPath","ws","onmessage","unloadRef","unloadAdd","onclose","unloadDel","logger","getLogger","PostMessage","store","EMBED","that","receiveMessageFromParent","messageObject","leopardState","commit","leopardConfig","embed","killSessionOnCloseEmbed","dispatch","STORAGE_KEY","TENEO_LAST_INTERACTION_DATE","TENEO_CHAT_HISTORY","sessionStorage","ui","ctxParameters","__webpack_amd_options__","ReferenceError","AjaxBasedTransport","XHRCorsObject","XHRLocalObject","XhrStreamingTransport","nullOrigin","ctor","superCtor","super_","TempCtor","HtmlfileReceiver","HtmlFileTransport","pmax","lineMax","TransportMessageEvent","initEvent","JSON3","escape","eventUtils","EventTarget","CloseEvent","InfoReceiver","SockJS","protocols","CONNECTING","extensions","protocols_whitelist","_transportsWhitelist","_transportOptions","transportOptions","_timeout","sessionId","_generateSessionId","_server","server","parsedUrl","SyntaxError","secure","sortedProtocols","sort","proto","getOrigin","_origin","_urlInfo","isOriginEqual","sameScheme","isSchemeEqual","_ir","_receiveInfo","userSetCode","CLOSING","CLOSED","_close","OPEN","_transport","quote","rtt","_rto","countRTO","_transUrl","base_url","enabledTransports","_transports","_connect","Transport","attachEvent","timeoutMs","_transportTimeoutId","_transportTimeout","transportUrl","transportObj","_transportMessage","_transportClose","_open","wasClean","forceFail","Ruler","__rules__","__cache__","__find__","__compile__","chains","rule","alt","altName","at","opt","beforeName","after","afterName","chainName","symbolObservablePonyfill","observable","logObject","levelExists","_setPrototypeOf","matchStart","matchEnd","skipBulletListMarker","skipOrderedListMarker","contentStart","indent","indentAfterMarker","initial","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","offset","oldListIndent","oldSCount","oldTShift","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","tight","listIndent","bsCount","tokenize","NEWLINES_RE","NULL_RE","_rules","_rules2","postProcess","skipToken","ok","iframeUtils","polluteGlobalNamespace","addQuery","WPrefix","htmlfileEnabled","constructFunc","createHtmlfile","createIframe","iframeObj","loaded","cleanup","axo","iframeEnabled","parseLinkLabel","parseLinkDestination","parseLinkTitle","open_tag","close_tag","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","DIGITAL_RE","NAMED_RE","_defineProperties","descriptor","Constructor","protoProps","staticProps","block_names","HTML_SEQUENCES","lineText","initializeTTS","locale","tts","startsWith","initializeASR","asrCorrections","timeoutVar","asr","getters","stopAudioCapture","userInput","fixedUserInput","replacement","startingText","replaceString","re","webpackPolyfill","deprecate","paths","Firebase","firebase","apps","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","initializing","_typeof","assertThisInitialized","ESCAPED","sham","Proxy","StateCore","Audio","Carousel","CustomModal","FlightItinerary","ImageAnimation","MyBankTransactions","Map","Table","Video","Vimeo","YouTube","actions","audioType","audioUrl","bodyText","customModalItems","displayPusherMessage","images","imageUrl","itinerary","fullscreen","overlay","overlayMessage","currentModalPosition","currentModalSize","pusherEnabled","pusherMessage","showCustomModal","showModal","subTitle","tableFooter","tableHeaders","tableRows","tableTitle","tableEnableSearch","tableRowsPerPage","aria","transactionHeaders","transactionItems","videoType","videoUrl","vimeoVideoId","youTubeVideoId","computed","showPusher","toolbarWidth","watch","mustBeFullscreen","removeCustomStylesFromModal","modalClass","newValue","$store","modalItem","resetModal","isLiveChat","outputUrl","showButtonOnly","currentIframeUrl","hasModal","displayModal","extension","parameters","overrideTitle","transactions","transaction","Description","amount","Amount","videoId","audioFileExt","videoFileExt","itemHasLongResponse","teneoResponse","lastinput","mounted","updated","$nextTick","backButton","hasAttribute","chatModalDiv","onHtmlClickInModal","toggleFullscreen","getFirstChunk","modalElements","className","classList","anchor","contains","updateInputBox","innerText","sendUserInput","hideModal","_vm","_h","$createElement","_c","_self","fullscreenEmbed","$vuetify","breakpoint","mdAndDown","$$v","expression","$event","_v","_s","staticClass","staticStyle","_e","textColor","$t","dark","domProps","directives","rawName","nativeOn","VAlert","VAppBar","VBtn","VCard","VCardActions","VCardText","VCol","VContainer","VDialog","VDivider","VFadeTransition","VIcon","VOverlay","VRow","VSpacer","VSystemBar","VTextField","XhrDriver","noCredentials","SenderReceiver","urlSuffix","ajaxUrl","hasEmptyLines","skipEmptyLines","ArrayPrototype","ObjectPrototype","FunctionPrototype","Function","StringPrototype","array_slice","_toString","isFunction","val","supportsDescriptors","forceAssign","defineProperties","toObject","toInteger","num","abs","Empty","binder","bound","boundLength","boundArgs","properlyBoxesNonStrict","properlyBoxesStrict","boxedString","splitString","thisp","_","__","context","hasFirefox2IndexOfBug","sought","compliantExecNpcg","string_split","separator","limit","separator2","lastIndex","lastLength","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","string_substr","hasNegativeSubstrBug","EventSourceReceiver","EventSourceDriver","EventSourceTransport","rgb","isNaN","hexColor","repeat","intToHex","colorToInt","rgba","hsv","RGBAtoCSS","toHex","RGBAtoHSVA","hex","RGBAtoHex","HSVAtoRGBA","RGBtoInt","InfoReceiverIframe","InfoIframe","go","ifr","default_rules","code_inline","slf","renderAttrs","code_block","fence","highlighted","tmpAttrs","tmpToken","langName","image","renderInlineAsText","renderToken","hardbreak","softbreak","html_block","html_inline","nextToken","needLf","lines","Boolean","getLine","escapedSplit","escapes","lastPos","backTicked","lastBackTick","columns","columnCount","aligns","tableLines","tbodyLines","StateBlock","indent_found","ddIndent","begin","keepLastLF","lineIndent","first","queue","lineStart","processDelimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","jump","email","validate","_a","multiple","emailStr","every","isNullOrUndefined","isEmptyArray","arr","validate$h","cast","allowFalse","valid","computesRequired","_inherits","_isNativeReflectConstruct","_possibleConstructorReturn","_createSuper","scrollBarWidth","thresholds","xs","sm","lg","icons","iconfont","values","current","locales","en","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counterSize","timePicker","am","pm","rtl","theme","cspNonce","customProperties","minifyTheme","themeCache","themes","light","primary","secondary","accent","warning","framework","defaultPreset","userPreset","preset","globalPreset","property","bar","insetFooter","bottom","footer","application","size","uid","acc","xl","xsOnly","smOnly","smAndDown","smAndUp","mdOnly","mdAndUp","lgOnly","lgAndDown","lgAndUp","xlOnly","resizeTimeout","Breakpoint","onResize","passive","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","$","totalOffset","container","_settings","easing","appOffset","getContainer","goTo","isDrawer","isClipped","startTime","performance","targetLocation","_target","getOffset","startLocation","ease","requestAnimationFrame","step","timeElapsed","currentTime","progress","clientHeight","clear","checkboxOn","checkboxOff","checkboxIndeterminate","expand","menu","subgroup","dropdown","radioOn","radioOff","edit","ratingEmpty","ratingFull","ratingHalf","loading","unfold","file","plus","minus","icon","iconSet","mdiSvg","mdi","fa","fa4","faSvg","Icons","fallback","defaultLocale","Lang","getTranslation","usingDefault","shortKey","translation","translator","currentLocale","cielabForwardTransform","cielabReverseTransform","transformedY","xyz","Ln","lab","genBaseColor","variant","genColorVariableName","genColorVariable","lighten","darken","disabled","isDark","vueInstance","vueMeta","Theme","ssrContext","defaults","defaultTheme","metaKeyName","getOptions","metaInfo","vuetifyStylesheet","cssText","nonce","addApp","immediate","deep","styleEl","oldDark","css","cssVar","colors","variablesCss","aColor","variants","variantValue","isItem","parsedTheme","genVariations","currentTheme","installed","service","Service","Vue","registerComponents","beforeCreate","ASR_CORRECTIONS","def","randomString","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","createStore","reducer","preloadedState","enhancer","_ref2","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","isSubscribed","replaceReducer","nextReducer","outerSubscribe","observer","observeState","unsubscribe","_defineProperty","ownKeys","enumerableOnly","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","funcs","testKey","memoryStorage","_value","storage","fetch","header","getAllResponseHeaders","statusText","responseURL","clone","json","xml","responseXML","blob","Blob","entries","credentials","onload","originRegexp","intersperseWithTabOrNewline","_temp","reconnectTimer","_ref$transports","finalUrl","backoff","_ref$min","_ref$max","_ref$jitter","socket","openListener","closeListener","reconnect","messageListener","heartbeatListener","connect","managedSocket","destroy","disconnect","_reconnect","_x","getReadyState","pingTimer","timer","_ref$query","_ref$rescheduleTimeou","rescheduleTimeout","_ref$emitter","manager","bh","connectionHero","check","deferred","_resolve","isSocketOpen","frame","reschedulePing","ping","cleanupPossiblyPendingTasks","toFormData","formData","FormData","append","spec","xhr","upload","_spec$method","onProgress","_spec$withCredentials","onprogress","total","onabort","onResolve","onReject","catch","documentElement","currentStyle","redirectUri","uniqueGroups","licenseId","groupId","clientId","post_message_uri","createError","display","postMessageOrigin","timeoutId","entityId","token_type","creationDate","validateConfig","cacheKey","pendingTokenRequest","cachedToken","retrievingToken","getFreshToken","getToken","hasToken","invalidate","_objectWithoutPropertiesLoose","_toPropertyKey","hint","prim","toPrimitive","getConnectionStatus","getRequest","requests","getSelfId","users","isChatActive","chatId","chat","chats","active","isConnected","getApiOrigin","getServerUrl","removeStoredRequest","setConnectionStatus","createReducer$1","_createReducer","initialState","reducersMap","_ref3","_ref4","_extends2","_ref5","_extends3","previousStatus","page","finalCreateStore","initialStateData","compose","sideEffectsMiddleware","handlers","add","_initialStateData$gro","_initialStateData$pag","_initialStateData$reg","_initialStateData$ref","referrer","_initialStateData$uni","_initialStateData$mob","mobile","others","middlewares","_dispatch","middlewareAPI","middleware","addSideEffectsHandler","customId","custom_id","properties","parseEvent","postback","thread_id","threadId","event_id","eventId","form_id","formId","fields","field","answer","_field$answer","group_id","systemMessage","system_message_type","systemMessageType","recipients","parseActivationChatData","access","thread","groupIds","group_ids","events","sessionFields","session_fields","prefetchToken","fresh","sendRequest","setChatActive","setSelfId","_deferred","getSideStorageKey","_store$getState","sideStorage","sendLoginFlowRequest","createLoginTask","customerDataProvider","task","sentPage","destroy$$1","reconnect$$1","getTokenAndSideStorage","dispatchSelfId","selfId","sendLogin","customer","customer_side_storage","is_mobile","customer_page","race","_store","onSuccess","steps","cancelled","loginResponse","intermediateResult","_FAIL_ALL_REQUESTS_ME","failAllRequests","rejects","requestId","failRequest","requestAction","SUCCESS","freeze","parseCommonEventProps","authorId","author_id","createdAt","created_at","downsizeWithRatio","dimensions","biggerProp","smallerProp","bigger","smaller","ratio","ceil","parseFile","contentType","content_type","thumbnails","thumbnail_url","high","thumbnail2x_url","parseRichMessageElement","subtitle","serverButton","postbackId","postback_id","userIds","user_ids","role","_button","webview_height","webviewHeight","parseEvent$1","filledForm","richMessage","template_id","template","text_vars","textVars","parseGreeting","greeting","uniqueId","unique_id","displayedFirstTime","displayed_first_time","accepted","agent","avatar","jobTitle","job_title","isBot","is_bot","__unsafeJSON","templateId","parseAccess","user","events_seen_up_to","parseThread","order","eventsSeenUpToMap","lc2","queue_pos","waitTime","queue_waiting_time","customerProps","optionalProps","parseCustomerCommonProps","parseCustomer","statistics","chatsCount","chats_count","threadsCount","threads_count","visitsCount","visits_count","pageViewsCount","page_views_count","greetingsShownCount","greetings_shown_count","greetingsAcceptedCount","greetings_accepted_count","parseChatUser","present","FAIL_ALL_REQUESTS_MESSAGES","updateStateIfNeeded","chatsSummary","emitUsers","_rest","handlePush","_ref6","groups","group","availability","handleResponse","_ref7","_ref8","createSideEffectsHandler","_ref9","reinitialize","customer_fields","page_url","_action$payload","_action$payload2","dynamicConfig","eventData","_ref10","_action$payload3","_ref3$payload","request_id","threadsSummary","_splitAt","nonTargetable","targetable","_splitRightWhenAccum","sum","totalEvents","leftover","targeted","threadSummary","distributeSummary","_splitSummary","lastOrderFetched","threadsToFetch","chatHistory","historyState","idle","Infinity","leftToFetch","queuedTasks","totalThreads","_next","getChatThreads","threadIds","getChatThreadsSummary","_splitSummary2","threadsSummaryLeftover","_ref6$","threads","queuedTask","parseChatPropertiesDeletedPush","chat_id","parseChatPropertiesUpdatedPush","parseChatTransferredPush","requesterId","requester_id","transferredTo","agentIds","ids","parseChatUserAddedPush","parseChatUserRemovedPush","userId","user_id","parseCustomerPageUpdatedPush","timestamp","parseCustomerUpdatedPush","parseEventPropertiesDeletedPush","parseEventPropertiesUpdatedPush","parseEventUpdatedPush","parseEventsMarkedAsSeenPush","seenUpTo","seen_up_to","parseGreetingAcceptedPush","chatThreadsSummary","threads_summary","total_threads","mapped","total_events","parseIncomingChatPush","parseIncomingEventPush","parseIncomingGreetingPush","parseIncomingRichMessagePostbackPush","parseIncomingTypingIndicatorPush","typingIndicator","typing_indicator","isTyping","is_typing","parseThreadPropertiesDeletedPush","parseThreadPropertiesUpdatedPush","parseFields","commentLabel","comment_label","parseGetFormResponse","form","withFakeIds","parseGetUrlInfoResponse","urlInfo","image_url","image_width","image_height","imageWidth","imageHeight","onlineGroups","online_groups_ids","customerGroups","customer_groups","monitoringGroupId","monitoring","chats_summary","lastThreadId","last_thread_id","lastEventsPerType","last_event_per_type","_ref4$properties","chatSummary","lastEventPerType","refinedLastEventsPerType","lastEventSummariesArray","eventType","lastEventSummary","eventSummaryA","eventSummaryB","thread_order","lastEvent","lastThreadOrder","totalChats","total_chats","summary","parseListGroupStatusesResponse","groups_status","parseLoginResponse","__priv_dynamic_config","has_active_thread","hasUnreadEvents","has_unread_events","parsePush","resource","handleResponse$1","_getRequest2","_payload$chat","socketListener","_getRequest3","parsedPush","appendString","customerId","_ref$groupId","ticketBody","licence_id","ticket_message","offline_message","visitor_id","requester","subject","_text","_value2","_text2","mail","_value3","_text3","_value4","_text4","_value5","answers","_text5","errHandler","firstError","formatBytes","precision","kilobytes","toFixed","megabytes","uploadError","_uploadError$response","severity","sdkVersion","img","Image","_config$autoConnect","autoConnect","instanceConfig","client","proxy","_client","sendRequestAction$$1","startConnection","acceptGreeting","greetingId","greeting_id","activateChat","cancelGreeting","cancelRate","_params$properties","lastThreadSummary","deleteThreadProperties","rating","deactivateChat","deleteChatProperties","deleteEventProperties","getChatHistory","thread_ids","_ref10$offset","_ref10$limit","getCustomer","getForm","_ref11","getPredictedAgent","getUrlInfo","_ref12","listChats","_ref13","_ref13$offset","_ref13$limit","listGroupStatuses","_temp2","markEventsAsSeen","_ref15","rateChat","_ref16","updateThreadProperties","sendEvent","_sendEvent","sendEvent$$1","attachToLastThread","attach_to_last_thread","sendTicketForm","sendRichMessagePostback","_ref17","setCustomerSessionFields","_ref18","setSneakPeek","_ref19","sneakPeekText","sneak_peek_text","startChat","updateChatProperties","_ref20","updateCustomer","updateCustomerPage","updateEventProperties","_ref21","_ref22","uploadFile","stripHtml","LiveChat","useLocalStorage","storageKey","teneoChatHistory","sdk","authToken","isActiveChat","historyStates","INACTIVE","LOADING","enableLiveChat","liveChat","licenseKey","CustomerSDK","stopChat","liveAgent","showChatWindow","startLiveChat","liveChatResponse","agentAvatar","agentName","hasExtraData","speakBackResponses","dialog","dialogHistory","existingChats","lastMessage","lastMessageAuthorId","author","liveChatStatus","hasLoggedInTeneo","teneoUrl","communicateWithAgent","displayQueueNotification","secondsWait","Vuetify","Ripple","logrocketPlugin","logRocket","sentry","isProduction","logging","LogRocket","createPlugin","sentryDsn","Sentry","Integrations","dsn","integrations","attachProps","logErrors","Setup","TENEO_CHAT_DARK_THEME","ASR_CORRECTIONS_MERGED","CHAT_TITLE","IS_AGENT_ASSIST","doesParameterExist","sheetId","getParameterByName","ENABLE_LIVE_CHAT","FLOAT","THEME","IFRAME_URL","KNOWLEDGE_DATA","LOCALE","REQUEST_PARAMETERS","RESPONSE_ICON","SEND_CTX_PARAMS","TENEO_URL","USE_SESSION_STORAGE","USER_ICON","activeSolution","chatConfig","getSolutionConfig","fixSolutions","addIframeHtml","deepLink","setupDeepLink","setupNoDeepLink","setupTivaSheetId","getMergedAsrCorrections","chatTitle","iframeUrl","knowledgeData","responseIcon","sendContextParams","userIcon","COLOR_NAMES","UNIQUE_KEY","setupContextParams","seupIframeInNonEmbedMode","vuetify","setupVuetifyConfig","setupThirdPartyLogging","setupGeoCapture","contextParams","contextParam","matchingSolutions","solutions","solution","targetContext","sendButton","focusButton","textButton","browserIp","ipUrl","superagent","geoUrl","accept","LOCATION","ip","city","continentCode","continentName","countryCode","countryName","currencySymbol","currencyCode","latitude","longitude","regionCode","regionName","geoplugin_city","geoplugin_continentCode","geoplugin_continentName","geoplugin_countryCode","geoplugin_countryName","geoplugin_currencySymbol","geoplugin_currencyCode","geoplugin_latitude","geoplugin_longitude","geoplugin_regionCode","geoplugin_regionName","loadFreshConfigForNewSessions","configInLocalStorage","_loadDefaultConfig","defaultConfig","mustGetStaticDefaultConfig","defaultConfigUrl","solutionConfig","buildConfig","leopardDefaultCorrections","finalCorrections","solutionResplacements","thisThatArray","PromisedLocation","enableHighAccuracy","maximumAge","mustSendLocationAtLogin","keyExists","obtainLocation","getSessionURL","sessionURL","configureScope","setExtra","createSharableLink","extraLookup","extraEscapable","quoted","escapable","unrolled","TRANSLATIONS","listening","it","fr","de","nl","es","ru","sv","no","da","jp","cn","InfoAjax","t0","isObject","md5","querystring","MD5_REGEX","getHash","getQueryString","queryData","removing","baseURL","cdn","profile_url","https","safeAdd","lsw","md5cmn","cnt","md5ff","md5gg","md5hh","md5ii","binlMD5","olda","oldb","oldc","oldd","binl2rstr","length32","rstr2binl","length8","rstr2hex","str2rstrUTF8","rawMD5","rawHMACMD5","bkey","ipad","opad","raw","srgbForwardMatrix","srgbForwardTransform","C","srgbReverseMatrix","srgbReverseTransform","matrix","decodeCache","exclude","defaultChars","seq","b1","b2","b3","b4","chr","componentChars","prop","sep","eq","regexp","maxKeys","kstr","vstr","startDelim","endDelim","loneMarkers","scanned","isLoader","objectTypes","freeExports","runInContext","nativeJSON","objectProto","getClass","isProperty","attempt","func","errorFunc","exception","isExtended","isSupported","serialized","stringifySupported","toJSON","parseSupported","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","forOwn","Properties","dontEnums","valueOf","isConstructor","hasProperty","Escapes","92","34","8","12","10","13","9","toPaddedString","serializeDate","getData","year","month","time","hours","minutes","seconds","milliseconds","Months","getDay","dateToJSON","nativeStringify","nativeToJSON","escapeChar","character","charCode","reEscape","serialize","whitespace","indentation","stack","prefix","Index","Source","Unescapes","47","98","116","110","102","114","lex","isSigned","temp","hasMembers","walk","previousJSON","isRestored","labelEnd","labelStart","ref","oldPos","references","_listeners","isLinkClose","currentToken","nodes","ln","htmlLinkLevel","urlText","links","blockTokens","pretest","schema","canBubble","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","pairs","XDRObject","_start","xdr","XDomainRequest","_error","ontimeout","windowId","onmessageCallback","_message","detachEvent","iframeMessage","ignored","cdata","FacadeJS","InfoIframeReceiver","parentOrigin","transportMap","bootstrap_iframe","currentWindowId","_send","tok","Core","closestDialog","closest","what","mouseStartX","clientX","mouseStartY","clientY","elStartX","getBoundingClientRect","elStartY","innerWidth","innerHeight","margin","oldTransition","transition","teneo","querySelector","setInterval","fired","ai","QUOTE_TEST_RE","QUOTE_RE","replaceAt","process_inlines","thisLevel","canOpen","canClose","isSingle","openQuote","closeQuote","OUTER","single","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","src_pseudo_letter","src_ip4","src_auth","src_port","src_host_terminator","src_path","src_email_name","src_xn","src_domain_root","src_domain","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","src_host_strict","tpl_host_fuzzy_strict","src_host_port_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","XdrStreamingTransport","cookie_needed","XDR","XHRCors","XHRLocal","XHRFake","doXhr","_getReceiver","timeoutRef","isTerminatorChar","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","tm","replaceFn","replace_scoped","inside_autolink","replace_rare","second","hasOwn","flatMap","iteratee","mapValues","mapper","identity","fromPairs","generateRandomId","generateUniqueId","propPath","arrPath","pathPartIndex","arrOrStr","collection","keyBy","noop","numericSortBy","propOrMapper","elementA","elementB","partitionObject","predicate","pick","pickOwn","splitAt","splitPoint","splitRightWhenAccum","_fn","numbers","toPairs","uniqBy","seen","_createClass","mem","haveEndMarker","area","enctype","acceptCharset","completed","TIE","snotifyOptions","toast","SnotifyPosition","leftBottom","Snotify","setupConfig","Vuex","Modal","Listening","VueLoadersBallPulseSync","VueLoadersLineScale","VueLoadersLineScalePulseOutRapid","productionTip","liveChatAssistConnectCount","getStore","storeSetup","enableDrag","Store","plugins","accessibleAnouncement","requestParameters","timeZone","Intl","DateTimeFormat","resolvedOptions","userInfo","profileImage","conversation","feedbackFormConfig","iframeUrlBase","teneoSessionId","promptTriggerInterval","apiAccessToken","agentID","isAgentAssist","liveChatMessage","showLiveChatProcessing","showOverlayAlert","overlayAlertMessage","modals","showConfigModal","locationInfo","hide508","progressBar","showChatLoading","emergencyConfig","showDelayedResponse","hideConfigMenu","isWebSite","snotify","overlayChat","showUploadButton","showChatButton","closeChatEsc","userInputReadyForSending","isAuthProviderEnabled","_state","provider","authProviders","generateQueryParams","mustCloseBecauseOfEscape","responseDelay","leopardFont","font","responseLookAndFeel","lookAndFeel","questionLookAndFeel","liveChatApiToken","isLiveAgentAssist","isPromptPollingActive","promptTriggers","getPromptPollingIntervalInMilliseconds","pollSeconds","isChatOpen","uuid","getAnimatedIn","isMobileDevice","animation","animations","getAnimatedOut","accentStyling","displayAccent","customCssButtonToolbar","timeZoneParam","encodeURI","uploadConfig","lastReplyItem","uploadConfigJson","getItemProperty","socialAuthEnabled","reverse","userInformationParams","userInfoParams","additional","providerId","displayName","askingForPassword","isAskingForPassword","tResp","wrap","hasParameter","getParameter","inputHelpText","itemInputMask","askingForEmail","isAskingForEmail","agentId","modalPosition","modalSize","outputLink","getLink","liveChatTranscript","profileImageFromEmail","gravatar","isVideoFile","isAudioFile","youTubeIdFromUrl","themeColorName","isLight","vimeoIdFromUrl","extensionIsInline","itemExtensionsModal","itemExtensions","modalExtensions","getJson","some","ordered","ctxParams","hasFeedbackForm","hasInline","hasExtensions","hasMediaExtensions","hasExtensionType","audioInfo","vimeoId","videoInfo","mapInfo","carouselImageArray","hasInlineType","video_url","getActivePromptInterval","_getters","iFrameUrlBase","settingLongResponsesInModal","longResponsesInModal","pulseButton","lastItemAnswerTextCropped","lastItemHasLongResponse","itemAnswerTextCropped","hasLongResponse","dialogs","lastInteractionTime","diff","diffMins","round","getLatestDialogHistory","showFeedbackForm","getFeedbackFormConfig","authenticated","userProfileImage","photoURL","showChatIcons","mutations","SET_EMERGENCY_CONFIG","SET_SNOTIFY","SET_TENEO_SESSION_ID","newSessionId","CLEAR_TENEO_SESSION_ID","HIDE_508_CONTENT","SHOW_508_CONTENT","SET_ACCESIBLE_ANOUNCEMENT","SHOW_OVERLAY_ALERT","SET_CHAT_CONFIG","CLOSE_CHAT_ESC","RESET_MUST_CLOSE","CLOSE_OVERY_ALERT","LIVE_CHAT_API_ACCESS_TOKEN","CHANGE_CHAT_TITLE","RESET_CHAT_TITLE","SHOW_RESPONSE_DELAY","HIDE_RESPONSE_DELAY","SHOW_UPLOAD_BUTTON","HIDE_UPLOAD_BUTTON","HIDE_CUSTOM_MODAL","HIDE_CHAT_WINDOW_DISPLAY_EMBED","HIDE_CHAT_WINDOW","OPEN_CHAT_WINDOW_DISPLAY_EMBED","sendMessageToParent","TOGGLE_CHAT_WINDOW_DISPLAY","SHOW_CHAT_WINDOW","LOGGED_INTO_TENEO","LOG_OUT_TENEO","HIDE_CHAT_BUTTON","SHOW_CHAT_BUTTON","SHOW_CUSTOM_MODAL","PUSH_RESPONSE_TO_DIALOG","PUSH_RESPONSE_TO_DIALOG_HISTORY","PUSH_USER_INPUT_TO_DIALOG_HISTORY","SET_CHAT_TITLE","SET_DIALOG_HISTORY","newHistory","PUSH_USER_INPUT_TO_DIALOG","PUSH_LIVE_CHAT_STATUS_TO_DIALOG","SHOW_SIMPLE_MESSAGE_IN_CHAT","miscMessage","borderPosition","alertType","primient","outlined","SHOW_MESSAGE_IN_CHAT","prominent","PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG","CLEAR_USER_INPUT","SET_FIREBASE","SHOW_CHAT_LOADING","HIDE_CHAT_LOADING","LIVE_CHAT_LOADING","mustShow","SHOW_LIVE_CHAT_LOADING","HIDE_LIVE_CHAT_LOADING","CLEAR_CHAT_HISTORY","LIVE_CHAT","sendMessage","START_LIVE_CHAT","STOP_LIVE_CHAT","DISABLE_LIVE_CHAT","CHANGE_THEME","SHOW_LISTING_OVERLAY","HIDE_LISTENING_OVERLAY","SET_USER_INPUT","START_TTS","STOP_TTS","TTS_ENABLE","useTTS","UPDATE_CHAT_WINDOW_AND_STORAGE","hasLink","newUserInput","mask","newReply","cleanEmptyChunks","teneoAnswer","REMOVE_FORM_CONFIG","itemId","foundHistory","tResHis","formConfig","tResConv","SHOW_PROGRESS_BAR","HIDE_PROGRESS_BAR","SHOW_CONFIG_MODAL","HIDE_CONFIG_MODAL","UPDATE_TENEO_URL","newUrl","SHOW_CHAT_MODAL","STOP_AUDIO_CAPTURE","START_AUDIO_CAPTURE","ADD_FEEDBACK_FORM","CLEAR_FEEDBACK_FORM","HIDE_CHAT_MODAL","CLEAR_DIALOGS","USER_INPUT_READY_FOR_SENDING","USER_INPUT_NOT_READY_FOR_SENDING","REMOVE_MODAL_ITEM","AGENT_NAME","AGENT_ID","AGENT_AVATAR","UPDATE_UI_LOCALE","i18n","SET_PROMPT_TRIGGER_INTERVAL","newInterval","CLEAR_PROMPT_TRIGGER_INTERVAL","clearInterval","UPDATE_FRAME_URL","USER_INFO","CHANGE_ASR_TTS","CLEAR_USER_INFO","shouldBackupSolutionsConfig","dayjs","lastSolutionBackupDate","pastDate","liveChatAddCannedResponse","agentAssistServerUrl","putLiveChatAgentMessage","_context","setupLiveChatAgentAssist","liveChatAgentAssistLastMessage","authorize","profile","message_source","message_id","liveChatConfig","redirectUrl","account_url","openChatWindow","siteFrame","mustLogin","chatButton","router","currentRoute","isChatUiFloating","sendFeedback","feedback","requestParams","queryObj","queryParamStringAsObject","sendInput","setUserInformation","onAuthStateChanged","retyCount","checkExist","logoutSocial","setupFirebase","_reject","loginSocial","socialProvider","GoogleAuthProvider","OAuthProvider","setCustomParameters","tenant","microsoft","domain_hint","domainHint","addScope","FacebookAuthProvider","GithubAuthProvider","useDeviceLanguage","signInWithPopup","credential","additionalUserInfo","phone","mobilePhone","surname","givenName","userPrincipleName","userPrincipalName","loginUserWithUsernameEmailPassword","loginInfo","signInWithEmailAndPassword","registerUserWithUsernameEmailPassword","registrationInfo","createUserWithEmailAndPassword","currentUser","updateProfile","endTeneoSessionLite","endTeneoSession","beginTeneoSession","buildQueryParamsObjectNewTeneoSession","handleLoginResponse","handleTieErrorReponse","playAudioConfirmation","currentUserInput","handlePromptBefore","handleTeneoResponse","handleLiveChatResponse","captureAudio","setupI18n","setupAsr","setupLiveChat","vuexI18n","errResp","sleep","buildQueryParamsObjectUserInput","handleTeneoResponseEarly","handleToastResponse","handleThemeResponse","handlePromptPollingResponse","handleDarkLightThemeResponse","handleFeedbackFormResponse","handleScriptResponse","handleDelayResponse","handleUploadResponse","handleLocationResponse","getOutputText","ttsText","finalLeopardPayload","handleSignalToStartLiveChatReponse","handleChangeChatTitleResponse","handleTieUrlSwitchResponse","mustStop","interval","groupCollapsed","groupEnd","play","feedbackConfig","theScript","eval","getLocator","coords","locationIqKey","locationRequestType","queryParam","postcode","onUnload","afterUnload","isChromePackagedApp","chrome","app","runtime","triggerUnloadCallbacks","lc","encodeCache","keepEscaped","nextCode","ir","isStrong","server_url","transportList","_sockjs_onload","parseReference","MemoryStorage","getRandomValues","Uint8Array","_classCallCheck","Any","Cc","Cf","P","Z","_endLine","destEndPos","destEndLineNo","XHR","AbstractXHRObject","supportsCORS","cors","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","slashesDenoteHost","lowerProto","hec","simplePath","atSign","hostEnd","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","qm","originalModule","disableNested","prevPos","stringifyPrimitive","isFinite","objectKeys","ks","XhrPollingTransport","XdrPollingTransport","adjustTab","lastLineEmpty","oldBMarks","oldBSCount","oldIndent","spaceAfterMarker","wasOutdented","oldLineMax","BufferedSender","sender","sendBuffer","sendStop","sendSchedule","sendScheduleWait","tref","errorCallback","unattach","contentWindow","doc","CollectGarbage","write","parentWindow","SnotifyStyle","SnotifyPrompt","script$$1","functional","moduleIdentifier","createInjector","createInjectorSSR","staticRenderFns","_compiled","_scopeId","isPromptFocused","valueChanged","_f","placeholder","$emit","SnotifyButton","script","_l","bold","$snotify","Toast","onClick","onMouseEnter","onMouseLeave","onExitTransitionEnd","showProgressBar","titleMaxLength","bodyMaxLength","promptType","toastData","animationFrame","paused","isDestroying","initToast","startTimeout","closeOnClick","pauseOnHover","calculate","cancelAnimationFrame","onRemove","exit","created","$on","enter","destroyed","backdrop","notifications","blockSize_a","blockSize_b","stateChanged","left_top","left_center","left_bottom","right_top","right_center","right_bottom","center_top","center_center","center_bottom","dockSize_a","dockSize_b","withBackdrop","setOptions","toasts","newOnTop","maxOnScreen","maxAtPosition","splitToasts","__assign","__decorate","decorators","desc","decorate","__metadata","metadataKey","metadataValue","metadata","SnotifyToast","_eventsHolder","$off","ToastDefaults","oneAtTime","preventDuplicates","rightBottom","TransformArgument","propertyKey","mergeDeep","SetToastType","SnotifyService","simple","confirm","async","mergeToast","Plugin","Vue$$1","trail","i18nVuexModule","namespaced","translations","SET_LOCALE","ADD_LOCALE","flattenTranslations","existingTranslations","__ob__","dep","notify","ex","REPLACE_LOCALE","REMOVE_LOCALE","translationCopy","SET_FALLBACK_LOCALE","setLocale","addLocale","replaceLocale","removeLocale","setFallbackLocale","toReturn","objType","flatObject","plurals","VuexI18nPlugin","moduleName","identifiers","warnings","preserveState","translateFilterName","translateInFilterName","onTranslationNotFound","registerModule","$i18n","$getLanguage","$setLanguage","renderFn","translate","translateInLanguage","defaultValue","pluralization","localeRegional","translationExists","asyncTranslation","additionalTranslations","translateInLanguageFilter","checkKeyExists","getLocale","getLocales","phaseOutExistsFn","checkLocaleExists","localeExists","translateIn","$tlang","matcher","replacements","pluralizationType","resolvePlaceholders","isArray$1","resolvedTranslation","pluralizations","persistent","_synchronous","_lootBag","kt","_isCacheStale","removeKeySync","synchronous","getSync","removeKey","keyTimeout","_getNow","putSync","garbageKeys","runGarbageCollectorSync","keyExistsSync","clearSync","keysSync","isLocalStorageAvailableSync","isSync","timeInSeconds","_dereq_","1","SomePromiseArray","_SomePromiseArray","any","promises","setHowMany","setUnwrap","2","firstLineError","schedule","Queue","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","drainQueues","_drainQueues","_schedule","_drainQueue","_drainQueueStep","_settlePromises","receiver","setScheduler","hasCustomScheduler","haveItemsQueued","fatalError","isNode","stderr","throwLater","invokeLater","_queueTick","invoke","settlePromises","_pushOne","_reset","3","INTERNAL","tryConvertToPromise","calledBind","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_setBoundTo","_setOnCancel","_boundTo","_isBound","4","old","bluebird","noConflict","5","cr","callerCache","getterCache","util","canEvaluate","caller","methodName","classString","namedGetter","indexedGetter","isIdentifier","propertyName","getter","maybeGetter","6","PromiseArray","apiRejection","tryCatch","errorObj","_async","cancellation","_warn","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","7","NEXT_FILTER","getKeys","instances","cb","boundTo","predicateLoop","matchesPredicate","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","_promiseCreated","_pushContext","_popContext","_peekContext","trace","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","enableAsyncHooks","disableAsyncHooks","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","deferUnhandledRejectionCheck","Warning","es5","canAttachTrace","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","wForgottenReturn","unhandledRejectionCheck","_notifyUnhandledRejection","unhandledRejectionClear","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","onPossiblyUnhandledRejection","_getContext","contextBind","onUnhandledRejectionHandled","disableLongStackTraces","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","legacyHandlers","unhandledrejection","onunhandledrejection","rejectionhandled","onrejectionhandled","fireDomEvent","legacy","domEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","cancellationOnCancel","cancellationSetOnCancel","cancellationClearCancellationData","cancellationPropagateFrom","branchesRemainingToCancel","warningsOption","_clearCancellationData","_execute","_fireEvent","nodeSupportsAsyncResource","asyncHooks","cur","isFulfilled","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","formatAndLogError","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","isSoft","localHandler","localEventFired","formatNonError","maxChars","captureStackTrace","parseLineInfoRegex","parseLineInfo","fileName","_promisesCreated","uncycle","stackToIndex","cycleEdgeNode","currentChildLength","stacks","currentLastIndex","currentLastLine","commonRootMeetPoint","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","setBounds","lastLineError","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","deprecated","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","11","PromiseReduce","PromiseAll","promiseAllThis","each","mapSeries","_TypeError","_RangeError","Objectfreeze","subError","nameProperty","defaultMessage","SubError","CancellationError","TimeoutError","AggregateError","OperationalError","cause","errorTypes","RejectionError","isES5","getDescriptor","names","getOwnPropertyNames","propertyIsWritable","ObjectKeys","14","PromiseMap","15","catchFilter","PassThroughHandlerContext","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","isRejected","_passThrough","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","16","Proxyable","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_fulfill","_promiseCancelled","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","traceParent","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","17","spread","18","MappingPromiseArray","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","concurrency","_init$","_init","_values","preservedValues","_totalResolved","booleans","19","_resolveFromSyncValue","20","maybeWrapAsError","rErrorKey","wrapAsOperationalError","markAsOriginatingFromRejection","multiArgs","wrapped","21","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","22","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","setReflectHandler","getDomain","getContextDomain","AsyncResource","getContextAsyncHooks","getContext","APPLY","createContext","nodebackForPromise","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","reflect","didFulfill","didReject","_setIsFinal","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","_isFateSealed","_setAsyncGuaranteed","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_setNoAsyncGuarantee","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","proxyable","shouldBind","_setFollowee","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","toStringTag","defer","toFastProperties","23","resolveValueIfEmpty","asArray","_iterate","_resolveEmptyArray","getActualLength","shouldCopyValues","isResolved","24","THIS","withAppended","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","promisifiableMethods","suffixRegexp","inheritedDataKeys","passesDefaultFilter","keyWithoutAsyncSuffix","makeNodePromisified","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","copyDescriptors","isClass","25","Es6Map","mapToEntries","extractEntry","PropertiesPromiseArray","isMap","_isMap","castValue","keyOffset","26","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","wrapMask","front","_resizeTo","oldCapacity","srcIndex","dst","dstIndex","27","28","ReductionPromiseArray","initialValue","_each","_initialValue","_currentCancellable","_eachValues","valueOrReason","gotAccum","accum","_gotAccum","_eachComplete","_resultCancelled$","29","div","toggleScheduled","div2","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","isRecentNode","nativePromise","standalone","cordova","attributes","toggle","observe","30","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","allSettled","31","CANCELLATION","_howMany","_unwrap","_initialized","howMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","32","__isCancelled","33","hasProp","HandleWrapper","afterValue","successClear","failureClear","handleWrapper","35","NULL","dispose","resources","thenable","_isDisposable","_getDisposer","_setDisposable","tryDispose","Disposer","_data","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","doDispose","_unsetDisposable","using","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","36","tryCatchTarget","globalObject","tryCatcher","Child","Parent","isPrimitive","maybeError","safeToString","appendee","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","ic","foo","rident","filledRange","isError","ArrayFrom","itResult","hasEnvVariables","runInAsyncScope","supportsAsync","senderFunc","pollUrl","JsonpReceiver","jsonpSender","JsonPTransport","decodeURI","urlWithId","_createScript","_abort","scriptErrorTimeout","aborting","script2","_scriptError","errorTimer","loadedOkay","charset","htmlFor","getElementsByTagName","insertBefore","firstChild","_class","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","defaultSchemas","no_http","mailto","tlds_default","compile","__opts__","tlds","__tlds__","untpl","tpl","src_tlds","onCompile","__tlds_replaced__","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","schemaError","__compiled__","__schemas__","compiled","normalize","alias","slist","schema_test","schema_search","__index__","__text_cache__","Match","__last_index__","__schema__","createMatch","schemas","definition","ml","me","tld_pos","testSchemaAt","keepOld","PromiseImpl","nav","geolocation","getCurrentPosition"],"mappings":"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","file":"assets/js/chunk-4aca4c06.a6b10c87.js","sourcesContent":["!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersBallPulseSync=r()}(this,function(){\"use strict\";function r(e,r,n,t){return e(\"div\",{class:((i=r)in(o={\"vue-loaders\":a=!0})?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,o),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},t);var o,i,a}function n(e,r,n,t){var o=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?t:void 0,a={};if(Array.isArray(o)&&void 0!==o[0]&&\"string\"!=typeof o[0]&&(i=o,o=\"background-color\"),o)if(Array.isArray(o)){var l=!0,c=!1,s=void 0;try{for(var u,f=o[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){a[u.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}}else a[o]=r;return e(\"div\",{style:a},i)}var e,t,o,i=\"ball-pulse-sync\";return t=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,o=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:t,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:o}),install:function(e){e.component(o,this.component)}}});\n","'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you with - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and returns list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","import _mitt from 'mitt';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar mitt = _mitt;\n\n// Our wrapper over `mitt` starts here\nvar createMitt = function createMitt() {\n  var eventsMap = Object.create(null);\n  var instance = mitt(eventsMap);\n\n  var off = function off(type, handler) {\n    if (!type) {\n      Object.keys(eventsMap).forEach(function (key) {\n        delete eventsMap[key];\n      });\n      return;\n    }\n\n    instance.off(type, handler);\n  };\n\n  var once = function once(type, handler) {\n    // for '*' type handler is invoked with 2 arguments - type, evt\n    instance.on(type, function onceHandler(data, maybeSecondArg) {\n      instance.off(type, onceHandler);\n      handler(data, maybeSecondArg);\n    });\n  };\n\n  return _extends({}, instance, {\n    off: off,\n    once: once\n  });\n};\n\nexport default createMitt;\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n","module.exports = '1.4.0';\n","'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n} else {\n\tmodule.exports = undefined;\n}\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","import { hasOwn, partitionObject, generateRandomId } from '@livechat/data-utils';\nimport promiseTry from '@livechat/promise-try';\nimport mitt from '@livechat/mitt';\nimport { removeNode } from '@livechat/dom-utils';\n\nvar fromEvent = function fromEvent(node, name, options) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var disposed = false;\n    var handler = function handler(ev) {\n      sink(1, ev);\n    };\n\n    sink(0, function (t) {\n      if (t !== 2) {\n        return;\n      }\n      disposed = true;\n      node.removeEventListener(name, handler, options);\n    });\n\n    if (disposed) {\n      return;\n    }\n\n    node.addEventListener(name, handler, options);\n  };\n};\n\nvar map = function map(f) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      source(0, function (t, d) {\n        sink(t, t === 1 ? f(d) : d);\n      });\n    };\n  };\n};\n\nvar readme = map;\n\nfunction pipe() {\n  for (var _len = arguments.length, cbs = Array(_len), _key = 0; _key < _len; _key++) {\n    cbs[_key] = arguments[_key];\n  }\n\n  var res = cbs[0];\n  for (var i = 1, n = cbs.length; i < n; i++) {\n    res = cbs[i](res);\n  }return res;\n}\n\nvar readme$2 = pipe;\n\nfunction last(source) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var gotValue = false;\n    var disposed = false;\n    var talkback;\n    var value;\n    source(0, function (type, data) {\n      if (type === 0) {\n        talkback = data;\n        sink(0, function (type, data) {\n          if (type === 2) {\n            disposed = true;\n          }\n\n          talkback(type, data);\n        });\n        return;\n      }\n\n      if (type === 1) {\n        gotValue = true;\n        value = data;\n        talkback(1);\n        return;\n      }\n\n      if (type === 2 && !data && gotValue) {\n        sink(1, value);\n\n        if (disposed) {\n          return;\n        }\n      }\n\n      sink(type, data);\n    });\n  };\n}\n\nvar subscribe = function subscribe() {\n  var listener = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (source) {\n    if (typeof listener === \"function\") {\n      listener = { next: listener };\n    }\n\n    var _listener = listener,\n        next = _listener.next,\n        error = _listener.error,\n        complete = _listener.complete;\n\n    var talkback = void 0;\n\n    source(0, function (t, d) {\n      if (t === 0) {\n        talkback = d;\n      }\n      if (t === 1 && next) next(d);\n      if (t === 1 || t === 0) talkback(1);\n      if (t === 2 && !d && complete) complete();\n      if (t === 2 && !!d && error) error(d);\n    });\n\n    var dispose = function dispose() {\n      if (talkback) talkback(2);\n    };\n\n    return dispose;\n  };\n};\n\nfunction toPromise(source) {\n  return new Promise(function (resolve, reject) {\n    subscribe({\n      next: resolve,\n      error: reject,\n      complete: function complete() {\n        var err = new Error('No elements in sequence.');\n        err.code = 'NO_ELEMENTS';\n        reject(err);\n      }\n    })(last(source));\n  });\n}\n\nvar filter = function filter(condition) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var talkback = void 0;\n      source(0, function (t, d) {\n        if (t === 0) {\n          talkback = d;\n          sink(t, d);\n        } else if (t === 1) {\n          if (condition(d)) sink(t, d);else talkback(1);\n        } else sink(t, d);\n      });\n    };\n  };\n};\n\nvar readme$3 = filter;\n\nvar forEach = function forEach(operation) {\n  return function (source) {\n    var talkback = void 0;\n    source(0, function (t, d) {\n      if (t === 0) talkback = d;\n      if (t === 1) operation(d);\n      if (t === 1 || t === 0) talkback(1);\n    });\n  };\n};\n\nvar readme$4 = forEach;\n\nfunction retry(max) {\n  if (max === void 0) {\n    max = -1;\n  }\n\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var inited = false;\n      var retries = max;\n      var sourceTalkback;\n\n      var talkback = function talkback(type, data) {\n        sourceTalkback(type, data);\n      };\n\n      var subscribe = function subscribe() {\n        source(0, function (type, data) {\n          if (type === 0) {\n            sourceTalkback = data;\n\n            if (inited) {\n              talkback(1);\n              return;\n            }\n\n            inited = true;\n            sink(0, talkback);\n            return;\n          }\n\n          if (type === 2 && data) {\n            if (retries !== 0) {\n              retries--;\n              subscribe();\n              return;\n            }\n          }\n\n          sink(type, data);\n        });\n      };\n\n      subscribe();\n    };\n  };\n}\n\nvar share = function share(source) {\n  var sinks = [];\n  var sourceTalkback = void 0;\n\n  return function shared(start, sink) {\n    if (start !== 0) return;\n    sinks.push(sink);\n\n    var talkback = function talkback(t, d) {\n      if (t === 2) {\n        var i = sinks.indexOf(sink);\n        if (i > -1) sinks.splice(i, 1);\n        if (!sinks.length) sourceTalkback(2);\n      } else {\n        sourceTalkback(t, d);\n      }\n    };\n\n    if (sinks.length === 1) {\n      source(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n          sink(0, talkback);\n        } else {\n          for (var _iterator = sinks.slice(0), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref = _i.value;\n            }\n\n            var _s = _ref;\n            _s(t, d);\n          }\n        }if (t === 2) sinks = [];\n      });\n      return;\n    }\n\n    sink(0, talkback);\n  };\n};\n\nfunction makeSubject() {\n  var sinks = [];\n  return function (type, data) {\n    if (type === 0) {\n      var sink = data;\n      sinks.push(sink);\n      sink(0, function (t) {\n        if (t === 2) {\n          var i = sinks.indexOf(sink);\n          if (i > -1) sinks.splice(i, 1);\n        }\n      });\n    } else {\n      var zinkz = sinks.slice(0);\n      for (var i = 0, n = zinkz.length, _sink; i < n; i++) {\n        _sink = zinkz[i];\n        if (sinks.indexOf(_sink) > -1) _sink(type, data);\n      }\n    }\n  };\n}\n\nvar callbagSubject = makeSubject;\n\nvar take = function take(max) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var taken = 0;\n      var sourceTalkback = void 0;\n      function talkback(t, d) {\n        if (taken < max) sourceTalkback(t, d);\n      }\n      source(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n          sink(0, talkback);\n        } else if (t === 1) {\n          if (taken < max) {\n            taken++;\n            sink(t, d);\n            if (taken === max) {\n              sink(2);\n              sourceTalkback(2);\n            }\n          }\n        } else {\n          sink(t, d);\n        }\n      });\n    };\n  };\n};\n\nvar callbagTake = take;\n\nvar UNIQUE = {};\n\nvar takeUntil = function takeUntil(sSrc) {\n  return function (src) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var sourceTalkback = void 0;\n      var sTalkback = void 0;\n      var inited = false;\n      var done = UNIQUE;\n\n      src(0, function (t, d) {\n        if (t === 0) {\n          sourceTalkback = d;\n\n          sSrc(0, function (st, sd) {\n            if (st === 0) {\n              sTalkback = sd;\n              sTalkback(1);\n              return;\n            }\n            if (st === 1) {\n              done = undefined;\n              sTalkback(2);\n              sourceTalkback(2);\n              inited && sink(2);\n              return;\n            }\n            if (st === 2) {\n              sTalkback = null;\n\n              if (sd) {\n                done = sd;\n                sourceTalkback(2);\n                inited && sink(st, sd);\n              }\n            }\n          });\n\n          inited = true;\n\n          sink(0, function (st, sd) {\n            if (done !== UNIQUE) return;\n            if (st === 2 && sTalkback) sTalkback(2);\n            sourceTalkback(st, sd);\n          });\n\n          if (done !== UNIQUE) sink(2, done);\n          return;\n        }\n\n        if (t === 2) sTalkback(2);\n        sink(t, d);\n      });\n    };\n  };\n};\n\nfunction timeout(delay) {\n  return function (source) {\n    return function (start, sink) {\n      if (start !== 0) return;\n      var absoluteDelay = delay instanceof Date;\n      var talkback;\n      var timerId;\n\n      function scheduleTimeout(ms) {\n        timerId = setTimeout(function () {\n          talkback(2);\n          var err = new Error('Timeout.');\n          err.code = 'TIMEOUT';\n          sink(2, err);\n        }, ms);\n      }\n\n      source(0, function (type, data) {\n        if (type === 0) {\n          talkback = data;\n          scheduleTimeout(absoluteDelay ? delay - Date.now() : delay);\n          sink(0, function (type, data) {\n            if (type === 2) {\n              clearTimeout(timerId);\n            }\n\n            talkback(type, data);\n          });\n          return;\n        }\n\n        if (type === 2) {\n          clearTimeout(timerId);\n        } else if (type === 1 && !absoluteDelay) {\n          clearTimeout(timerId);\n          scheduleTimeout(delay);\n        }\n\n        sink(type, data);\n      });\n    };\n  };\n}\n\nvar CALL = 'call';\nvar EMIT = 'emit';\nvar FINGERPRINT = '@@livechat/postmessenger';\nvar HANDSHAKE = 'handshake';\nvar RESPONSE = 'response';\n\nvar flatten = function flatten(source) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var exists = function exists(x) {\n      return typeof x !== 'undefined';\n    };\n    var absent = function absent(x) {\n      return typeof x === 'undefined';\n    };\n    var outerEnded = false;\n    var outerTalkback = void 0;\n    var innerTalkback = void 0;\n    function talkback(t, d) {\n      if (t === 1) (innerTalkback || outerTalkback)(1, d);\n      if (t === 2) {\n        innerTalkback && innerTalkback(2);\n        outerTalkback && outerTalkback(2);\n      }\n    }\n    source(0, function (T, D) {\n      if (T === 0) {\n        outerTalkback = D;\n        sink(0, talkback);\n      } else if (T === 1) {\n        var innerSource = D;\n        if (innerTalkback) innerTalkback(2);\n        innerSource(0, function (t, d) {\n          if (t === 0) {\n            innerTalkback = d;\n            innerTalkback(1);\n          } else if (t === 1) sink(1, d);else if (t === 2 && absent(d)) {\n            if (outerEnded) sink(2);else {\n              innerTalkback = void 0;\n              outerTalkback(1);\n            }\n          } else if (t === 2 && exists(d)) sink(2, d);\n        });\n      } else if (T === 2 && absent(D)) {\n        if (!innerTalkback) sink(2);else outerEnded = true;\n      } else if (T === 2 && exists(D)) sink(2, D);\n    });\n  };\n};\n\nvar lazy = function lazy(f) {\n  return function (start, sink) {\n    if (start === 0) {\n      var unsubed = false;\n      sink(0, function (type) {\n        if (type === 2) unsubed = true;\n      });\n      sink(1, f());\n      if (!unsubed) sink(2);\n    }\n  };\n};\n\nfunction defer(factory) {\n  return flatten(lazy(factory));\n}\n\nfunction throwError(error) {\n  return function (start, sink) {\n    if (start !== 0) return;\n    var disposed = false;\n    sink(0, function (end) {\n      if (end !== 2) return;\n      disposed = true;\n    });\n    if (disposed) return;\n    sink(2, error || new Error());\n  };\n}\n\nfunction switchMap(project) {\n\treturn function (source) {\n\t\treturn flatten(readme(project)(source));\n\t};\n}\n\nvar requestCounter = 0;\n\nvar makeRequest = (function (ownMessage$, postMessage, payload) {\n\treturn defer(function () {\n\t\tvar request = requestCounter++;\n\t\tpayload.request = request;\n\t\tpostMessage(payload);\n\n\t\treturn readme$2(ownMessage$, readme$3(function (message) {\n\t\t\treturn message.type === RESPONSE && message.request === request;\n\t\t}), switchMap(function (message) {\n\t\t\tif (!message.data.error) {\n\t\t\t\treturn lazy(function () {\n\t\t\t\t\treturn message.data.result;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar _message$data$result = message.data.result,\n\t\t\t    real = _message$data$result.real,\n\t\t\t    error = _message$data$result.error;\n\n\n\t\t\tif (!real) {\n\t\t\t\treturn throwError(error);\n\t\t\t}\n\n\t\t\tvar err = new Error(error.message);\n\n\t\t\tif (hasOwn('code', error)) {\n\t\t\t\terr.code = error.code;\n\t\t\t}\n\n\t\t\treturn throwError(err);\n\t\t}), callbagTake(1));\n\t});\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar createApi = (function (emitter, ownMessage$, createMessage, postMessage) {\n\treturn _extends({}, emitter, {\n\t\tcall: function call(method) {\n\t\t\tfor (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\targs[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\treturn readme$2(makeRequest(ownMessage$, postMessage, createMessage(CALL, { method: method, args: args })), toPromise);\n\t\t},\n\t\temit: function emit(event, arg) {\n\t\t\tpostMessage(createMessage(EMIT, { event: event, arg: arg }));\n\t\t}\n\t});\n});\n\nvar _createMessage = (function (owner, instance, type, data) {\n\tvar _ref;\n\n\treturn _ref = {}, _ref[FINGERPRINT] = true, _ref.owner = owner, _ref.instance = instance, _ref.type = type, _ref.data = data, _ref;\n});\n\nvar createMessageHandler = (function (api, emit, postMessage, methods) {\n\treturn function (message) {\n\t\tswitch (message.type) {\n\t\t\tcase CALL:\n\t\t\t\tpromiseTry(function () {\n\t\t\t\t\tvar _message$data = message.data,\n\t\t\t\t\t    method = _message$data.method,\n\t\t\t\t\t    args = _message$data.args;\n\n\t\t\t\t\tvar fn = methods[method];\n\t\t\t\t\treturn fn.apply(api, args);\n\t\t\t\t}).then(function (result) {\n\t\t\t\t\tmessage.type = RESPONSE;\n\t\t\t\t\tmessage.data = { error: false, result: result };\n\t\t\t\t\tpostMessage(message);\n\t\t\t\t}, function (error) {\n\t\t\t\t\tmessage.type = RESPONSE;\n\t\t\t\t\tvar result = void 0;\n\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\tresult = { real: true, error: { message: error.message } };\n\n\t\t\t\t\t\tif (hasOwn('code', error)) {\n\t\t\t\t\t\t\tresult.error.code = error.code;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = { real: false, error: error };\n\t\t\t\t\t}\n\t\t\t\t\tmessage.data = { error: true, result: result };\n\t\t\t\t\tpostMessage(message);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\tcase EMIT:\n\t\t\t\tvar _message$data2 = message.data,\n\t\t\t\t    event = _message$data2.event,\n\t\t\t\t    arg = _message$data2.arg;\n\n\t\t\t\temit(event, arg);\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n});\n\nvar debug = false;\n\nvar log = function log() {\n\tvar _console;\n\n\tif (!debug) {\n\t\treturn;\n\t}\n\n\t(_console = console).log.apply(_console, arguments);\n};\n\nvar setDebug = function setDebug(shouldLog) {\n\tdebug = shouldLog;\n};\n\nvar partitionModel = (function (model) {\n  return partitionObject(function (value) {\n    return typeof value === 'function';\n  }, model);\n});\n\nvar sanitizeEvent = (function (event) {\n  return !!event.data && event.data[FINGERPRINT];\n});\n\nvar owner = generateRandomId();\nvar instanceCounter = 0;\n\nvar resolveOrigin = function resolveOrigin(url) {\n\tvar anchor = document.createElement('a');\n\tanchor.href = url;\n\tvar protocol = anchor.protocol.length > 4 ? anchor.protocol : window.location.protocol;\n\tvar host = void 0;\n\tif (anchor.host.length) {\n\t\thost = anchor.port === '80' || anchor.port === '443' ? anchor.hostname : anchor.host;\n\t} else {\n\t\thost = window.location.host;\n\t}\n\treturn anchor.origin || protocol + '//' + host;\n};\n\nvar windowMessage$ = readme$2(fromEvent(window, 'message'), readme$3(function (event) {\n\treturn sanitizeEvent(event) && event.data.owner === owner;\n}), readme(function (event) {\n\treturn event.data;\n}), share);\n\nfunction createIframeInstance(frame) {\n\tvar model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\tvar _partitionModel = partitionModel(model),\n\t    methods = _partitionModel[0],\n\t    data = _partitionModel[1];\n\n\tvar destroy$ = callbagSubject();\n\tvar instance = instanceCounter++;\n\tvar target = frame.contentWindow;\n\tvar targetOrigin = resolveOrigin(frame.src);\n\tvar emitter = mitt();\n\n\tvar createMessage = function createMessage(type, payload) {\n\t\treturn _createMessage(owner, instance, type, payload);\n\t};\n\tvar destroy = function destroy() {\n\t\tvar error = new Error('Destroyed.');\n\t\terror.code = 'DESTROYED';\n\t\tdestroy$(2, error);\n\t};\n\tvar postMessage = function postMessage(message) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[PARENT] sending:', message);\n\t\t}\n\n\t\ttarget.postMessage(message, targetOrigin);\n\t};\n\n\tvar ownMessage$ = readme$2(windowMessage$, takeUntil(destroy$), readme$3(function (message) {\n\t\treturn message.instance === instance;\n\t}), share);\n\n\tvar api = createApi(emitter, ownMessage$, createMessage, postMessage);\n\n\tvar handshake$ = readme$2(fromEvent(frame, 'load'), takeUntil(destroy$), switchMap(function () {\n\t\treturn readme$2(makeRequest(ownMessage$, postMessage, createMessage(HANDSHAKE, data)), timeout(500), retry(5));\n\t}), callbagTake(1), share);\n\n\tvar _messageHandler = createMessageHandler(api, emitter.emit, postMessage, methods);\n\tvar messageHandler = process.env.NODE_ENV !== 'production' ? function (message) {\n\t\tlog('[PARENT] received:', message);\n\t\t_messageHandler(message);\n\t} : _messageHandler;\n\n\treadme$2(handshake$, switchMap(function () {\n\t\treturn ownMessage$;\n\t}), readme$3(function (message) {\n\t\treturn message.instance === instance;\n\t}), readme$4(messageHandler));\n\n\treturn {\n\t\tapi: api,\n\t\tdestroy: destroy,\n\t\thandshake$: handshake$\n\t};\n}\n\nfunction connectExistingIframe(_ref, model) {\n\tvar frame = _ref.frame;\n\n\tvar _createIframeInstance = createIframeInstance(frame, model),\n\t    api = _createIframeInstance.api,\n\t    destroy = _createIframeInstance.destroy,\n\t    handshake$ = _createIframeInstance.handshake$;\n\n\treturn {\n\t\tdestroy: destroy,\n\t\tpromise: readme$2(handshake$, readme(function (handshakeData) {\n\t\t\tapi.data = handshakeData;\n\t\t\tapi.destroy = destroy;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nvar ownMessage$ = readme$2(fromEvent(window, 'message'), readme$3(sanitizeEvent), readme(function (event) {\n\tevent.data.origin = event.origin;\n\treturn event.data;\n}), share);\n\nfunction connectToParent() {\n\tvar model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\tvar _partitionModel = partitionModel(model),\n\t    methods = _partitionModel[0],\n\t    data = _partitionModel[1];\n\n\tvar target = window.parent;\n\tvar targetOrigin = void 0;\n\tvar owner = void 0;\n\tvar instance = void 0;\n\tvar emitter = mitt();\n\tvar createMessage = function createMessage(type, payload) {\n\t\treturn _createMessage(owner, instance, type, payload);\n\t};\n\tvar postMessage = function postMessage(message) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[CHILD] sending:', message);\n\t\t}\n\t\ttarget.postMessage(message, targetOrigin);\n\t};\n\n\tvar api = createApi(emitter, ownMessage$, createMessage, postMessage);\n\n\tvar handshake$ = readme$2(ownMessage$, readme$3(function (message) {\n\t\treturn message.type === HANDSHAKE;\n\t}), timeout(3000), callbagTake(1), share);\n\n\treadme$2(handshake$, readme$4(function (message) {\n\t\ttargetOrigin = message.origin;\n\t\towner = message.owner;\n\t\tinstance = message.instance;\n\t}));\n\n\treadme$2(handshake$, readme$4(function (request) {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\tlog('[CHILD] received handshake');\n\t\t}\n\n\t\tpostMessage(_extends({}, request, { type: RESPONSE, data: { error: false, result: data } }));\n\t}));\n\n\tvar _messageHandler = createMessageHandler(api, emitter.emit, postMessage, methods);\n\tvar messageHandler = process.env.NODE_ENV !== 'production' ? function (message) {\n\t\tlog('[CHILD] received:', message);\n\t\t_messageHandler(message);\n\t} : _messageHandler;\n\n\treadme$2(handshake$, switchMap(function () {\n\t\treturn ownMessage$;\n\t}), readme$4(messageHandler));\n\n\treturn {\n\t\tpromise: readme$2(handshake$, readme(function (message) {\n\t\t\tapi.data = message.data;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nvar _createIframe = function _createIframe(container, url) {\n\tvar frame = document.createElement('iframe');\n\tcontainer.appendChild(frame);\n\tframe.src = url;\n\treturn frame;\n};\n\nfunction createIframe(_ref, model) {\n\tvar container = _ref.container,\n\t    url = _ref.url;\n\n\tvar frame = _createIframe(container, url);\n\n\tvar _createIframeInstance = createIframeInstance(frame, model),\n\t    api = _createIframeInstance.api,\n\t    _destroy = _createIframeInstance.destroy,\n\t    handshake$ = _createIframeInstance.handshake$;\n\n\tvar destroy = function destroy() {\n\t\tremoveNode(frame);\n\t\t_destroy();\n\t};\n\n\treturn {\n\t\tdestroy: destroy,\n\t\tframe: frame,\n\t\tpromise: readme$2(handshake$, readme(function (handshakeData) {\n\t\t\tapi.data = handshakeData;\n\t\t\tapi.destroy = destroy;\n\t\t\tapi.frame = frame;\n\t\t\treturn api;\n\t\t}), toPromise)\n\t};\n}\n\nexport { connectExistingIframe, connectToParent, createIframe, setDebug };\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import mitt from 'mitt';\nimport { connectToParent } from '@livechat/postmessage/es5';\nimport _extends from '@babel/runtime/helpers/esm/extends';\n\nvar getQueryParams = function getQueryParams() {\n  return location.search.replace(/^\\?/, '').split('&').map(function (pair) {\n    return pair.split('=').map(decodeURIComponent);\n  }).reduce(function (params, _ref) {\n    var param = _ref[0],\n        value = _ref[1];\n    params[param] = value;\n    return params;\n  }, {});\n};\nvar getQueryParam = function getQueryParam(name) {\n  var queryParams = getQueryParams();\n  return queryParams[name] !== undefined ? queryParams[name] : null;\n};\nvar pipe = function pipe() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function (x) {\n    return fns.reduce(function (v, fn) {\n      return fn(v);\n    }, x);\n  };\n};\n\nfunction createConnection(_ref) {\n  var handleMessage = _ref.handleMessage;\n  var pluginId = getQueryParam('plugin_id');\n  var usePlainConnection = getQueryParam('connection') === 'plain';\n\n  var formatMessage = function formatMessage(message) {\n    return _extends({}, message, {\n      plugin_id: pluginId\n    });\n  };\n\n  var createTrustedConnection = function createTrustedConnection() {\n    return connectToParent({\n      handle: handleMessage\n    }).promise.then(function (child) {\n      return {\n        send: function send(message) {\n          return child.call('handle', formatMessage(message)).then(function () {});\n        }\n      };\n    });\n  };\n\n  var createPlainConnection = function createPlainConnection() {\n    var origins = {\n      'http://my.lc:3000': true,\n      'https://my.labs.livechatinc.com': true,\n      'https://my.staging.livechatinc.com': true,\n      'https://my.livechatinc.com': true\n    };\n\n    var isOwnEvent = function isOwnEvent(event) {\n      return origins[event.origin] === true;\n    };\n\n    window.addEventListener('message', function (event) {\n      if (isOwnEvent(event)) {\n        handleMessage(event.data);\n      }\n    });\n    return {\n      send: function send(message) {\n        parent.postMessage(formatMessage(message), '*');\n        return Promise.resolve();\n      }\n    };\n  };\n\n  return usePlainConnection ? Promise.resolve(createPlainConnection()) : createTrustedConnection();\n}\n\nfunction createMessageHandler(_ref) {\n  var eventEmitter = _ref.eventEmitter;\n  return function handleMessage(message) {\n    if (!message || !message.event_name) {\n      return;\n    }\n\n    switch (message.event_name) {\n      case 'livechat:customer_profile':\n        eventEmitter.emit('customer_profile', message.event_data);\n        break;\n\n      case 'livechat:customer_profile_hidden':\n        eventEmitter.emit('customer_profile_hidden', message.event_data);\n        break;\n\n      case 'livechat:message':\n        eventEmitter.emit('message', message.event_data);\n        break;\n\n      case 'livechat:customer_details_section_button_click':\n        eventEmitter.emit('customer_details_section_button_click', message.event_data);\n        break;\n\n      case 'livechat:message_box_text':\n        eventEmitter.emit('message_box_text', message.event_data);\n        break;\n    }\n  };\n}\n\nvar VALID_COMPONENT_TYPES = {\n  button: true,\n  label_value: true,\n  title: true,\n  link: true,\n  line: true\n};\n\nvar cloneComponentDefinition = function cloneComponentDefinition(component) {\n  return _extends({}, component);\n};\n\nfunction validateComponentDefinition(component) {\n  function createValidationError(error) {\n    throw new Error(error);\n  }\n\n  if (!component || !component.type) {\n    createValidationError(\"You must supply a component definition with a 'type' property\");\n  }\n\n  var type = component.type,\n      data = component.data;\n\n  if (VALID_COMPONENT_TYPES[type] !== true) {\n    createValidationError(\"'\" + type + \"' is not a valid component type\");\n  }\n\n  switch (type) {\n    case 'button':\n      if (!data || !data.label) {\n        createValidationError(\"The button component must have a 'label' property\");\n      }\n\n      if (!data.id) {\n        createValidationError(\"The button component must have a 'id' property\");\n      }\n\n      break;\n\n    case 'link':\n      if (!data || !data.url) {\n        createValidationError(\"The link component must have a 'url' property\");\n      }\n\n      break;\n\n    case 'title':\n      if (!data || !data.title) {\n        createValidationError(\"The title component must have a 'title' property\");\n      }\n\n      if (typeof data.imgSize !== 'undefined') {\n        if (data.imgSize !== 'small' || data.imgSize !== 'big') {\n          createValidationError(\"The title component must have a valid 'imgSize' property, allowed values are 'small' and 'big'\");\n        }\n      }\n\n      break;\n  }\n\n  return component;\n}\n\nfunction createComponentProcessor() {\n  var processingPipe = pipe(cloneComponentDefinition, validateComponentDefinition);\n  return function processComponents(components) {\n    return components.map(processingPipe);\n  };\n}\n\nfunction createSdk() {\n  var initMessage = 'plugin_inited';\n  var connection;\n  var initialized = false;\n  var initializer;\n  var eventEmitter = mitt();\n  var handleMessage = createMessageHandler({\n    eventEmitter: eventEmitter\n  });\n  var processCustomerDetailsComponents = createComponentProcessor();\n\n  var getConnection = function getConnection() {\n    if (connection) {\n      return Promise.resolve(connection);\n    }\n\n    return createConnection({\n      handleMessage: handleMessage\n    }).then(function (_connection) {\n      return connection = _connection;\n    });\n  };\n\n  return {\n    init: function init() {\n      if (!initializer) {\n        initializer = this._sendMessage(initMessage).then(function () {\n          initialized = true;\n        });\n      }\n\n      return initializer;\n    },\n    on: eventEmitter.on,\n    off: eventEmitter.off,\n    track: function track(eventName, eventProperties) {\n      if (eventName === void 0) {\n        eventName = '';\n      }\n\n      if (eventProperties === void 0) {\n        eventProperties = {};\n      }\n\n      if (typeof eventName !== 'string' || typeof eventProperties !== 'object') {\n        return false;\n      }\n\n      return this._sendMessage('track', {\n        event_name: eventName,\n        event_properties: eventProperties\n      });\n    },\n    refreshSessionId: function refreshSessionId() {\n      return this._sendMessage('plugin_loaded');\n    },\n    getSessionId: function getSessionId() {\n      return null;\n    },\n    putMessage: function putMessage(data) {\n      return this._sendMessage('put_message', data);\n    },\n    watchMessages: function watchMessages() {\n      return this._sendMessage('watch_messages');\n    },\n    modifyCustomerDetailsSection: function modifyCustomerDetailsSection(section) {\n      if (!section) {\n        throw new Error('You need to provide a section defintion');\n      }\n\n      var title = section.title,\n          imgUrl = section.imgUrl,\n          components = section.components;\n\n      if (!title) {\n        throw new Error(\"You need to provide a title for the new section using the 'title' property\");\n      }\n\n      if (!Array.isArray(components) || !components.length) {\n        throw new Error(\"You need to provide an array of component definitions for your section using the 'components' property\");\n      }\n\n      return this._sendMessage('customer_details_section', {\n        title: title,\n        imgUrl: imgUrl,\n        components: processCustomerDetailsComponents(components)\n      });\n    },\n    sendQuickReplies: function sendQuickReplies(title, buttons) {\n      return this._sendMessage('send_quick_replies', {\n        title: title,\n        buttons: buttons\n      });\n    },\n    sendCards: function sendCards(cards) {\n      return this._sendMessage('send_cards', Array.isArray(cards) ? cards : [cards]);\n    },\n    _sendMessage: function _sendMessage(message, data) {\n      if (data === void 0) {\n        data = null;\n      }\n\n      if (message !== initMessage && !initialized) {\n        throw new Error('Before any operation you must initialize the SDK using the `init` method and wait for it to resolve');\n      }\n\n      return getConnection().then(function (_connection) {\n        _connection.send({\n          message: message,\n          data: data\n        });\n      });\n    }\n  };\n}\n\nvar index = createSdk();\n\nexport default index;\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n\n/* global crypto:true */\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nvar possibleConstructorReturn = require(\"./possibleConstructorReturn\");\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nmodule.exports = _createSuper;","'use strict';\n\n\nmodule.exports = function for_inline_plugin(md, ruleName, tokenType, iteartor) {\n\n  function scan(state) {\n    var i, blkIdx, inlineTokens;\n\n    for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n      if (state.tokens[blkIdx].type !== 'inline') {\n        continue;\n      }\n\n      inlineTokens = state.tokens[blkIdx].children;\n\n      for (i = inlineTokens.length - 1; i >= 0; i--) {\n        if (inlineTokens[i].type !== tokenType) {\n          continue;\n        }\n\n        iteartor(inlineTokens, i);\n      }\n    }\n  }\n\n  md.core.ruler.push(ruleName, scan);\n};\n","const BaseApi = require('../common/base-api');\n\nconst IS_PERSISENT = true;\n\nclass LocalStorage extends BaseApi {\n  constructor() {\n    super(IS_PERSISENT);\n  }\n}\n\nmodule.exports = new LocalStorage();\n","var LC_OBJECT_ASSIGN = (function () {\n  'use strict';\n\n  // used when building with rollup\n  function objectAssign(target, varArgs) {\n    // .length of function is 2\n    if (target == null) {\n      // TypeError if undefined or null\n      throw new TypeError(\"Cannot convert undefined or null to object\");\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments[index];\n\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  }\n\n  return objectAssign;\n\n}());\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n/* eslint-disable no-param-reassign, @typescript-eslint/explicit-function-return-type */\nvar Http = function Http() {\n  this.submit = function (url, options) {\n    options = LC_OBJECT_ASSIGN({}, options);\n    options.headers = options.headers || [];\n\n    options.success = options.success || function () {};\n\n    options.error = options.error || function () {};\n\n    options.method = options.method || 'POST';\n    var http = new XMLHttpRequest();\n    http.open(options.method, url, true);\n    Object.keys(options.headers).forEach(function (key) {\n      return http.setRequestHeader(key, options.headers[key]);\n    });\n\n    http.onreadystatechange = function () {\n      if (http.readyState !== 4) {\n        return false;\n      }\n\n      if (http.status >= 200 && http.status <= 299) {\n        options.success(http.responseText, http.status);\n      } else {\n        options.error(http.responseText, http.status);\n      }\n\n      return true;\n    };\n\n    http.send(options.postData);\n  };\n\n  this.get = function (url, options) {\n    var http = new XMLHttpRequest();\n    http.open('GET', url, true);\n\n    if (options.withCredentials === true) {\n      http.withCredentials = true;\n    }\n\n    Object.keys(options.headers).forEach(function (key) {\n      return http.setRequestHeader(key, options.headers[key]);\n    });\n\n    http.onreadystatechange = function () {\n      if (http.readyState !== XMLHttpRequest.DONE) {\n        return false;\n      }\n\n      if (http.status === 200) {\n        options.success(http.responseText, http.status);\n      } else {\n        options.error(http.responseText, http.status);\n      }\n\n      return true;\n    };\n\n    http.send(options.postData);\n  };\n};\n\nvar Http$1 = new Http();\n\n/* @todo fix eslint errors */\n\n/* eslint-disable no-param-reassign, @typescript-eslint/explicit-function-return-type, prefer-promise-reject-errors */\n\nvar HttpAPI =\n/*#__PURE__*/\nfunction () {\n  function HttpAPI(endpoint, headers, _options) {\n    var _this = this;\n\n    if (headers === void 0) {\n      headers = {};\n    }\n\n    if (_options === void 0) {\n      _options = {};\n    }\n\n    this.endpoint = void 0;\n    this.headers = void 0;\n    this.options = void 0;\n\n    this.promisify = function (options) {\n      if (options.success == null && options.error == null) {\n        return new Promise(function (resolve, reject) {\n          options.success = function (data, statusCode) {\n            resolve({\n              data: data,\n              statusCode: statusCode\n            });\n          };\n\n          options.error = function (data, statusCode) {\n            reject({\n              data: data,\n              statusCode: statusCode\n            });\n          };\n        });\n      }\n\n      return null;\n    };\n\n    this.URL = function (path) {\n      if (typeof _this.endpoint === 'function') {\n        return _this.endpoint() + path;\n      }\n\n      return _this.endpoint + path;\n    };\n\n    this.finalOptions = function (path, data, options, method) {\n      var parsedData = JSON.stringify(data);\n      var finalOptions = LC_OBJECT_ASSIGN({}, options);\n      finalOptions.postData = parsedData;\n      finalOptions.headers = LC_OBJECT_ASSIGN(finalOptions.headers || {}, _this.headers);\n\n      if (finalOptions.success) {\n        finalOptions.success = function () {\n          var oldCallback = finalOptions.success;\n          return function (responseText, responseStatus) {\n            try {\n              responseText = JSON.parse(responseText);\n            } catch (e) {\n              responseText = {};\n            }\n\n            oldCallback(responseText, responseStatus);\n          };\n        }();\n      }\n\n      if (finalOptions.error) {\n        finalOptions.error = function () {\n          var oldCallback = finalOptions.error;\n          return function (responseText, responseStatus) {\n            try {\n              responseText = JSON.parse(responseText);\n            } catch (e) {\n              responseText = {};\n            }\n\n            if (responseText.error === 'wrong region' || responseStatus === 421) {\n              if (_this.options.onIncorrectRegion) {\n                _this.options.onIncorrectRegion(responseText.region);\n              }\n\n              _this[method](path, data, options);\n\n              return;\n            }\n\n            oldCallback(responseText, responseStatus);\n          };\n        }();\n      }\n\n      return finalOptions;\n    };\n\n    this.get = function (path, options) {\n      Http$1.get(_this.URL(path), _this.finalOptions(path, {}, options, 'get'));\n    };\n\n    this.post = function (path, data, options) {\n      Http$1.submit(_this.URL(path), _this.finalOptions(path, data, options, 'post'));\n    };\n\n    this.put = function (path, data, options) {\n      options.method = 'PUT';\n      Http$1.submit(_this.URL(path), _this.finalOptions(path, data, options, 'put'));\n    };\n\n    this.delete = function (path, data, options) {\n      options.method = 'DELETE';\n      Http$1.submit(_this.URL(path), _this.finalOptions(path, data, options, 'delete'));\n    };\n\n    this.setDefaults = function (options) {\n      options = options || {};\n      options.headers = options.headers || {};\n      return options;\n    };\n\n    this.endpoint = endpoint;\n    this.headers = headers;\n    this.options = _options;\n  }\n\n  var _proto = HttpAPI.prototype;\n\n  _proto.setEndpoint = function setEndpoint(endpoint) {\n    this.endpoint = endpoint;\n  };\n\n  return HttpAPI;\n}();\n\nvar AccountsExternalAPI =\n/*#__PURE__*/\nfunction (_HttpAPI) {\n  _inheritsLoose(AccountsExternalAPI, _HttpAPI);\n\n  function AccountsExternalAPI() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _HttpAPI.call.apply(_HttpAPI, [this].concat(args)) || this;\n\n    _this.getInfoByCode = function (code, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this.get(\"/info?code=\" + code + \"&type=code\", options);\n    };\n\n    _this.getInfoByAccessToken = function (accessToken, opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      var options = opts;\n      options.headers = LC_OBJECT_ASSIGN({\n        Authorization: \"Bearer \" + accessToken\n      }, options.headers);\n\n      _this.get('/info', options);\n    };\n\n    _this.signOut = function (accessToken, allSessions, opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      var options = opts;\n      options.headers = LC_OBJECT_ASSIGN({\n        Authorization: \"Bearer \" + accessToken\n      }, options.headers);\n\n      if (allSessions === true) {\n        _this.delete('/v2/sessions', {}, options);\n\n        return;\n      }\n\n      _this.delete('/v2/sessions/my', {}, options);\n    };\n\n    return _this;\n  }\n\n  return AccountsExternalAPI;\n}(HttpAPI);\n\nvar AccountsExternalAPI$1 = new AccountsExternalAPI(\"https://accounts.livechatinc.com\");\n\nvar LocalStorage =\n/*#__PURE__*/\nfunction () {\n  function LocalStorage() {}\n\n  var _proto = LocalStorage.prototype;\n\n  _proto.set = function set(key, value, expirationInSeconds) {\n    if (expirationInSeconds === void 0) {\n      expirationInSeconds = null;\n    }\n\n    var data = {\n      value: value,\n      expiresIn: new Date().getTime() + expirationInSeconds * 1000\n    };\n\n    try {\n      localStorage.setItem(key, JSON.stringify(data));\n    } catch (e) {//\n    }\n  };\n\n  _proto.get = function get(key) {\n    var data;\n\n    try {\n      data = JSON.parse(localStorage.getItem(key));\n    } catch (e) {\n      return localStorage.getItem(key);\n    }\n\n    if (data !== null) {\n      if (data.expiresIn !== null && data.expiresIn < new Date().getTime()) {\n        localStorage.removeItem(key);\n      } else {\n        return data.value;\n      }\n    }\n\n    return null;\n  };\n\n  _proto.remove = function remove(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (e) {//\n    }\n  };\n\n  return LocalStorage;\n}();\n\nvar LocalStorage$1 = new LocalStorage();\n\nfunction buildQueryString(params) {\n  if (Object.keys(params).length === 0) return \"\";\n  return \"?\" + Object.keys(params).map(function (key) {\n    return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n  }).join(\"&\");\n}\n\nvar _variables = {\n  'popup-window-name': 'livechat-login-popup',\n  'console-url': 'https://developers.livechatinc.com/console/',\n  'login-button-class': 'livechat-login-button',\n  'cache-prefix': 'livechat_cache',\n  'text-button-product-name': 'Live<span>Chat</span>'\n};\n\nvar _getVar = function _getVar(key) {\n  return _variables[key];\n};\n\nvar _postMessageDomain = 'https://accounts.livechatinc.com';\nvar _validPostMessageEventOrigins = [];\n\nvar SDK = function SDK(_options) {\n  var _this = this;\n\n  this._options = {\n    client_id: null,\n    response_type: 'token',\n    linkLabel: null,\n    login: 'auto',\n    // `auto` - automatic iframe login, `semiauto` - automatic iframe login with forced popup on button, `button` - logs in after click, `popup` - allways display popup\n    prompt: '',\n    // force consent prompt, pass `consent` to force consent prompt\n    onIdentityFetched: function onIdentityFetched() {},\n    onSignedOut: function onSignedOut() {},\n    queryStringParams: {\n      utm_source: 'accounts.livechatinc.com',\n      utm_medium: 'accounts-sdk'\n    },\n    popupRoute: ''\n  };\n  this._postMessageUniqueId = null;\n  this._listenerInited = false;\n  this._tid = false;\n  this._lastIdentityError = null;\n  this._lastIdentityData = null;\n\n  this.updateOptions = function (options) {\n    _this._options = LC_OBJECT_ASSIGN(_this._options, options);\n\n    if (options.backendAddress) {\n      _postMessageDomain = options.backendAddress;\n    }\n\n    AccountsExternalAPI$1.setEndpoint(_postMessageDomain);\n\n    if (_this._options.login === 'popup' || _this._options.login === 'semiauto') {\n      _this._options.popupRoute = 'signin';\n    }\n  };\n\n  this.openPopup = function (e) {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    var w = 500;\n    var h = 650;\n    var left = window.screen.width / 2 - w / 2;\n    var top = window.screen.height / 2 - h / 2;\n\n    var origin = _this._getCurrentPath();\n\n    _this._startListening();\n\n    window.open(_postMessageDomain + \"/\" + _this._options.popupRoute + buildQueryString(_extends({\n      client_id: _this._options.client_id,\n      state: _this._postMessageUniqueId,\n      response_type: _this._options.response_type,\n      redirect_uri: origin,\n      flow: 'button',\n      prompt: _this._options.prompt\n    }, _this._options.queryStringParams)), _getVar('popup-window-name'), \"resizable,scrollbars,width=\" + w + \",height=\" + h + \",left=\" + left + \",top=\" + top);\n  };\n\n  this.signOut = function (callback) {\n    if (callback === void 0) {\n      callback = function callback() {};\n    }\n\n    var cachedData = _this._getCachedData();\n\n    if (cachedData == null || cachedData.access_token == null) {\n      callback({\n        identity_exception: 'unauthorized'\n      });\n      return;\n    }\n\n    AccountsExternalAPI$1.signOut(cachedData.access_token, false, {\n      success: function success() {\n        callback();\n      },\n      error: function error(errorResponse) {\n        if (errorResponse.error === 'insufficient_scope') {\n          callback({\n            oauth_exception: errorResponse.error,\n            description: errorResponse.error_description\n          });\n        } else if (errorResponse.oauth_exception) {\n          callback(errorResponse);\n        } else {\n          callback({\n            oauth_exception: 'server_error'\n          });\n        }\n      }\n    });\n  };\n\n  this.displayButtons = function (opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    if (opts.internalCall !== true && _this._lastIdentityError && _this._lastIdentityError.oauth_exception === 'invalid_request') {\n      _this._displayError([\"Button could not be displayed. Probably you are running this script on a domain that is not whitelisted in your app's settings.\", \"Visit developers console to update your app's domain list: \" + _getVar('console-url')]);\n\n      return;\n    } // append ready-to-use buttons if developer used `livechat-login-button` class\n\n\n    var elements = document.getElementsByClassName(_getVar('login-button-class'));\n\n    if (elements.length > 0) {\n      // include Lato font\n      var link = document.createElement('link');\n      link.id = _getVar('login-button-class') + \"-font\";\n      link.rel = 'stylesheet';\n      link.href = '//fonts.googleapis.com/css?family=Lato:300,400,700,900';\n      document.head.appendChild(link); // include CSS styles\n\n      document.head.insertAdjacentHTML('beforeend', // eslint-disable-next-line no-useless-concat\n      \"\" + ('<style>' + (\".\" + _getVar('login-button-class') + \" a {\")) + ['color: #5a6976', 'display: inline-block', 'font-size: 16px', 'line-height: 1.5', 'font-family: \"Lato\", sans-serif', 'font-weight: 400', 'text-decoration: none', 'border: 1px solid #ddd', 'border-radius: 3px', 'padding: 8px 24px 9px'].join(';') + \"}\" + (\".\" + _getVar('login-button-class') + \" a:hover {\" + ['border-color: #888', 'color: #5a6976'].join(';') + \"}\") + (\".\" + _getVar('login-button-class') + \" span {\" + ['color: #f56e21'].join(';') + \"</style>\")); // inject <a> link with button\n\n      for (var i = 0, len = elements.length; i < len; i += 1) {\n        var element = elements[i];\n\n        if (element.getAttribute('data-inited') !== '1') {\n          element.setAttribute('data-inited', '1');\n          var a = document.createElement('a');\n          a.href = '';\n          a.onclick = _this.openPopup;\n\n          if (_this._options.linkLabel) {\n            a.text = _this._options.linkLabel;\n          } else {\n            a.innerHTML = \"Sign in with <strong>\" + _getVar('text-button-product-name') + \"</strong>\";\n          }\n\n          element.appendChild(a);\n        }\n      }\n    }\n  };\n\n  this._displayError = function (errorMessages) {\n    if (!window.console || !window.console.warn) {\n      return;\n    }\n\n    var errs = errorMessages;\n\n    if (!(errorMessages instanceof Array)) {\n      errs = [errorMessages];\n    }\n\n    errs.forEach(function (errorMessage) {\n      return window.console.warn(\"[accountsSdk] \" + errorMessage);\n    });\n  };\n\n  this._returnSuccessResponse = function (data, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var response = {};\n\n    if (data.code) {\n      response.code = data.code;\n      AccountsExternalAPI$1.getInfoByCode(data.code, {\n        success: function success(successResponse) {\n          response.client_id = successResponse.client_id;\n          response.entity_id = successResponse.entity_id;\n          response.license = successResponse.license_id;\n          response.expires_in = successResponse.expires_in;\n          response.scopes = successResponse.scope ? successResponse.scope.split(',') : [];\n\n          _this._onIdentityFetched(null, response);\n        },\n        error: function error(errorResponse) {\n          if (opts.fromIframeCache) {\n            _this._removeCachedData();\n\n            _this._buildIframe();\n          } else {\n            _this._onIdentityFetched(errorResponse, null);\n          }\n        }\n      });\n    } else {\n      response.access_token = data.access_token;\n      AccountsExternalAPI$1.getInfoByAccessToken(data.access_token, {\n        success: function success(successResponse) {\n          response.client_id = successResponse.client_id;\n          response.entity_id = successResponse.entity_id;\n          response.license = successResponse.license_id;\n          response.expires_in = successResponse.expires_in;\n          response.scopes = successResponse.scope ? successResponse.scope.split(',') : [];\n\n          _this._cacheData({\n            access_token: data.access_token,\n            expires_in: successResponse.expires_in\n          });\n\n          _this._onIdentityFetched(null, response);\n        },\n        error: function error(errorResponse) {\n          if (opts.fromIframeCache) {\n            _this._removeCachedData();\n\n            _this._buildIframe();\n          } else {\n            _this._onIdentityFetched(errorResponse, null);\n          }\n        }\n      });\n    }\n  };\n\n  this._removeIframe = function () {\n    var iframeRef = document.getElementById(_this._getIframeId());\n\n    if (iframeRef && iframeRef.parentNode) {\n      iframeRef.parentNode.removeChild(iframeRef);\n    }\n\n    _this._stopListening();\n  };\n\n  this._parseJwt = function (token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  };\n\n  this._checkPostMessageUniqueId = function (state) {\n    if (state === _this._postMessageUniqueId) {\n      return true;\n    }\n\n    try {\n      return _this._parseJwt(state).state === _this._postMessageUniqueId;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  this._receiveMessage = function (event) {\n    var found = false;\n\n    for (var i = 0; i < _validPostMessageEventOrigins.length; i += 1) {\n      if (event.origin === _validPostMessageEventOrigins[i]) {\n        found = true;\n        break;\n      }\n    }\n\n    if (found === false) {\n      return;\n    }\n\n    if (!event.data || !event.data.state || !_this._checkPostMessageUniqueId(event.data.state)) {\n      return;\n    }\n\n    clearTimeout(_this._tid);\n\n    _this._removeIframe();\n\n    if (event.data.error) {\n      _this._parseError(event.data.error);\n    } else if (event.data.signed_out === true) {\n      _this._options.onSignedOut();\n    } else if (event.data.data) {\n      _this._returnSuccessResponse(event.data.data);\n    }\n  };\n\n  this._parseError = function (error) {\n    _this._onIdentityFetched(error, null);\n\n    if (_this._lastIdentityError) {\n      if (_this._lastIdentityError.oauth_exception === 'invalid_request') {\n        _this._displayError([\"Authorization process returned 'invalid_request' error.\", \"Probably you are running this script on a domain that is not whitelisted in your app's settings.\", \"Visit developers console to update your app's domain list: \" + _getVar('console-url')]);\n      } else if (_this._lastIdentityError.oauth_exception === 'access_denied') {\n        _this._displayError([\"Authorization process returned 'access_denied' error.\", 'Probably this application is installed on a different account and you do not have access to it.']);\n      } else if (_this._lastIdentityError.identity_exception === 'invalid_request') {\n        _this._displayError([\"Authentication process returned 'invalid_request' error.\", 'You may be loading accountsSdk on a domain that is not whitelisted.']);\n      }\n    }\n  };\n\n  this._onIdentityFetched = function (error, data) {\n    _this._lastIdentityError = error;\n    _this._lastIdentityData = data;\n\n    _this.displayButtons({\n      internalCall: true\n    });\n\n    _this._options.onIdentityFetched(error, data);\n  };\n\n  this._buildIframe = function (endpoint) {\n    if (endpoint === void 0) {\n      endpoint = '';\n    }\n\n    _this._startListening({\n      timeout: 5000\n    });\n\n    var iframe = document.createElement('iframe');\n    iframe.setAttribute('src', _postMessageDomain + \"/\" + endpoint + buildQueryString(_extends({\n      client_id: _this._options.client_id,\n      state: _this._postMessageUniqueId,\n      response_type: _this._options.response_type,\n      redirect_uri: _this._getCurrentPath(),\n      flow: 'button',\n      prompt: _this._options.prompt\n    }, _this._options.queryStringParams)));\n    iframe.setAttribute('id', _this._getIframeId());\n    iframe.style.width = '1px';\n    iframe.style.height = '1px';\n    iframe.style.position = 'fixed';\n    iframe.style.top = '0';\n    iframe.style.right = '0';\n    iframe.style.opacity = '0';\n    iframe.style.visibility = 'none';\n    document.body.appendChild(iframe);\n  };\n\n  this._getCurrentPath = function () {\n    return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? \":\" + window.location.port : '') + window.location.pathname;\n  };\n\n  this._getCacheKey = function () {\n    return _getVar('cache-prefix') + \".\" + _this._options.client_id + \".\" + _this._options.response_type;\n  };\n\n  this._cacheData = function (data) {\n    LocalStorage$1.set(_this._getCacheKey(), data, data.expires_in);\n  };\n\n  this._getCachedData = function () {\n    return LocalStorage$1.get(_this._getCacheKey());\n  };\n\n  this._removeCachedData = function () {\n    return LocalStorage$1.remove(_this._getCacheKey());\n  };\n\n  this._getIframeId = function () {\n    return _getVar('login-button-class') + \"-iframe.\" + _this._options.client_id + \".\" + _this._options.response_type;\n  };\n\n  this._startListening = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (_this._listenerInited) {\n      return;\n    }\n\n    if (options.timeout) {\n      _this._tid = setTimeout(function () {\n        _this._parseError({\n          identity_exception: 'invalid_request'\n        });\n      }, options.timeout);\n    }\n\n    _this._listenerInited = true;\n    window.addEventListener('message', _this._receiveMessage, false);\n  };\n\n  this._stopListening = function () {\n    _this._listenerInited = false;\n    window.removeEventListener('message', _this._receiveMessage, false);\n  };\n\n  this.initSDK = function () {\n    if (!_this._options.client_id) {\n      if (window.console && window.console.warn) {\n        // eslint-disable-next-line no-console\n        console.error('[accountsSdk] Required \"client_id\" param is missing in init() method.');\n      }\n\n      return;\n    }\n\n    var cachedData = _this._getCachedData();\n\n    if (cachedData) {\n      _this._returnSuccessResponse(cachedData, {\n        fromIframeCache: true\n      });\n    } else if (_this._options.login === 'auto' || _this._options.login === 'semiauto') {\n      _this._buildIframe();\n    } else {\n      _this.displayButtons();\n    }\n  };\n\n  this._postMessageUniqueId = Math.random().toString(36).substr(2, 9);\n  this.updateOptions(_options);\n\n  _validPostMessageEventOrigins.push(_postMessageDomain.replace(/livechatinc\\.com$/, 'livechat.com'));\n\n  _validPostMessageEventOrigins.push(_postMessageDomain.replace(/livechat\\.com$/, 'livechatinc.com'));\n};\n\nvar accountsSdk = {\n  init: function init(opts) {\n    var sdkInstance = new SDK(opts);\n    sdkInstance.initSDK();\n    return sdkInstance;\n  }\n};\n\nexport { accountsSdk };\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","\"use strict\";\n/**\n * Artyom.js is a voice control, speech recognition and speech synthesis JavaScript library.\n *\n * @requires {webkitSpeechRecognition && speechSynthesis}\n * @license MIT\n * @version 1.0.6\n * @copyright 2017 Our Code World (www.ourcodeworld.com) All Rights Reserved.\n * @author Carlos Delgado (https://github.com/sdkcarlos) and Sema García (https://github.com/semagarcia)\n * @see https://sdkcarlos.github.io/sites/artyom.html\n * @see http://docs.ourcodeworld.com/projects/artyom-js\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/// <reference path=\"artyom.d.ts\" />\n// Remove \"export default \" keywords if willing to build with `npm run artyom-build-window`\nvar Artyom = /** @class */ (function () {\n    // Triggered at the declaration of\n    function Artyom() {\n        this.ArtyomCommands = [];\n        this.ArtyomVoicesIdentifiers = {\n            // German\n            \"de-DE\": [\"Google Deutsch\", \"de-DE\", \"de_DE\"],\n            // Spanish\n            \"es-ES\": [\"Google español\", \"es-ES\", \"es_ES\", \"es-MX\", \"es_MX\"],\n            // Italian\n            \"it-IT\": [\"Google italiano\", \"it-IT\", \"it_IT\"],\n            // Japanese\n            \"ja-JP\": [\"Google 日本人\", \"ja-JP\", \"ja_JP\"],\n            // English USA\n            \"en-US\": [\"Google US English\", \"en-US\", \"en_US\"],\n            // English UK\n            \"en-GB\": [\"Google UK English Male\", \"Google UK English Female\", \"en-GB\", \"en_GB\"],\n            // Brazilian Portuguese\n            \"pt-BR\": [\"Google português do Brasil\", \"pt-PT\", \"pt-BR\", \"pt_PT\", \"pt_BR\"],\n            // Portugal Portuguese\n            // Note: in desktop, there's no voice for portugal Portuguese\n            \"pt-PT\": [\"Google português do Brasil\", \"pt-PT\", \"pt_PT\"],\n            // Russian\n            \"ru-RU\": [\"Google русский\", \"ru-RU\", \"ru_RU\"],\n            // Dutch (holland)\n            \"nl-NL\": [\"Google Nederlands\", \"nl-NL\", \"nl_NL\"],\n            // French\n            \"fr-FR\": [\"Google français\", \"fr-FR\", \"fr_FR\"],\n            // Polish\n            \"pl-PL\": [\"Google polski\", \"pl-PL\", \"pl_PL\"],\n            // Indonesian\n            \"id-ID\": [\"Google Bahasa Indonesia\", \"id-ID\", \"id_ID\"],\n            // Hindi\n            \"hi-IN\": [\"Google हिन्दी\", \"hi-IN\", \"hi_IN\"],\n            // Mandarin Chinese\n            \"zh-CN\": [\"Google 普通话（中国大陆）\", \"zh-CN\", \"zh_CN\"],\n            // Cantonese Chinese\n            \"zh-HK\": [\"Google 粤語（香港）\", \"zh-HK\", \"zh_HK\"],\n            // Native voice\n            \"native\": [\"native\"]\n        };\n        // Important: retrieve the voices of the browser as soon as possible.\n        // Normally, the execution of speechSynthesis.getVoices will return at the first time an empty array.\n        if (window.hasOwnProperty('speechSynthesis')) {\n            speechSynthesis.getVoices();\n        }\n        else {\n            console.error(\"Artyom.js can't speak without the Speech Synthesis API.\");\n        }\n        // This instance of webkitSpeechRecognition is the one used by Artyom.\n        if (window.hasOwnProperty('webkitSpeechRecognition')) {\n            this.ArtyomWebkitSpeechRecognition = new window.webkitSpeechRecognition();\n        }\n        else {\n            console.error(\"Artyom.js can't recognize voice without the Speech Recognition API.\");\n        }\n        this.ArtyomProperties = {\n            lang: 'en-GB',\n            recognizing: false,\n            continuous: false,\n            speed: 1,\n            volume: 1,\n            listen: false,\n            mode: \"normal\",\n            debug: false,\n            helpers: {\n                redirectRecognizedTextOutput: null,\n                remoteProcessorHandler: null,\n                lastSay: null,\n                fatalityPromiseCallback: null\n            },\n            executionKeyword: null,\n            obeyKeyword: null,\n            speaking: false,\n            obeying: true,\n            soundex: false,\n            name: null\n        };\n        this.ArtyomGarbageCollection = [];\n        this.ArtyomFlags = {\n            restartRecognition: false\n        };\n        this.ArtyomGlobalEvents = {\n            ERROR: \"ERROR\",\n            SPEECH_SYNTHESIS_START: \"SPEECH_SYNTHESIS_START\",\n            SPEECH_SYNTHESIS_END: \"SPEECH_SYNTHESIS_END\",\n            TEXT_RECOGNIZED: \"TEXT_RECOGNIZED\",\n            COMMAND_RECOGNITION_START: \"COMMAND_RECOGNITION_START\",\n            COMMAND_RECOGNITION_END: \"COMMAND_RECOGNITION_END\",\n            COMMAND_MATCHED: \"COMMAND_MATCHED\",\n            NOT_COMMAND_MATCHED: \"NOT_COMMAND_MATCHED\"\n        };\n        this.Device = {\n            isMobile: false,\n            isChrome: true\n        };\n        if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {\n            this.Device.isMobile = true;\n        }\n        if (navigator.userAgent.indexOf(\"Chrome\") == -1) {\n            this.Device.isChrome = false;\n        }\n        /**\n         * The default voice of Artyom in the Desktop. In mobile, you will need to initialize (or force the language)\n         * with a language code in order to find an available voice in the device, otherwise it will use the native voice.\n         */\n        this.ArtyomVoice = {\n            default: false,\n            lang: \"en-GB\",\n            localService: false,\n            name: \"Google UK English Male\",\n            voiceURI: \"Google UK English Male\"\n        };\n    }\n    /**\n     * Add dinamically commands to artyom using\n     * You can even add commands while artyom is active.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/addcommands\n     * @since 0.6\n     * @param {Object | Array[Objects]} param\n     * @returns {undefined}\n     */\n    Artyom.prototype.addCommands = function (param) {\n        var _this = this;\n        var processCommand = function (command) {\n            if (command.hasOwnProperty(\"indexes\")) {\n                _this.ArtyomCommands.push(command);\n            }\n            else {\n                console.error(\"The given command doesn't provide any index to execute.\");\n            }\n        };\n        if (param instanceof Array) {\n            for (var i = 0; i < param.length; i++) {\n                processCommand(param[i]);\n            }\n        }\n        else {\n            processCommand(param);\n        }\n        return true;\n    };\n    ;\n    /**\n     * The SpeechSynthesisUtterance objects are stored in the artyom_garbage_collector variable\n     * to prevent the wrong behaviour of artyom.say.\n     * Use this method to clear all spoken SpeechSynthesisUtterance unused objects.\n     *\n     * @returns {Array<any>}\n     */\n    Artyom.prototype.clearGarbageCollection = function () {\n        return this.ArtyomGarbageCollection = [];\n    };\n    ;\n    /**\n     * Displays a message in the console if the artyom propery DEBUG is set to true.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/debug\n     * @returns {undefined}\n     */\n    Artyom.prototype.debug = function (message, type) {\n        var preMessage = \"[v\" + this.getVersion() + \"] Artyom.js\";\n        if (this.ArtyomProperties.debug === true) {\n            switch (type) {\n                case \"error\":\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #C12127; color: black;', 'color:black;');\n                    break;\n                case \"warn\":\n                    console.warn(message);\n                    break;\n                case \"info\":\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #4285F4; color: #FFFFFF', 'color:black;');\n                    break;\n                default:\n                    console.log(\"%c\" + preMessage + \":%c \" + message, 'background: #005454; color: #BFF8F8', 'color:black;');\n                    break;\n            }\n        }\n    };\n    /**\n     * Artyom have it's own diagnostics.\n     * Run this function in order to detect why artyom is not initialized.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/detecterrors\n     * @param {type} callback\n     * @returns {}\n     */\n    Artyom.prototype.detectErrors = function () {\n        var _this = this;\n        if ((window.location.protocol) == \"file:\") {\n            var message = \"Error: running Artyom directly from a file. The APIs require a different communication protocol like HTTP or HTTPS\";\n            console.error(message);\n            return {\n                code: \"artyom_error_localfile\",\n                message: message\n            };\n        }\n        if (!_this.Device.isChrome) {\n            var message = \"Error: the Speech Recognition and Speech Synthesis APIs require the Google Chrome Browser to work.\";\n            console.error(message);\n            return {\n                code: \"artyom_error_browser_unsupported\",\n                message: message\n            };\n        }\n        if (window.location.protocol != \"https:\") {\n            console.warn(\"Warning: artyom is being executed using the '\" + window.location.protocol + \"' protocol. The continuous mode requires a secure protocol (HTTPS)\");\n        }\n        return false;\n    };\n    /**\n     * Removes all the added commands of artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/emptycommands\n     * @since 0.6\n     * @returns {Array}\n     */\n    Artyom.prototype.emptyCommands = function () {\n        return this.ArtyomCommands = [];\n    };\n    /**\n     * Returns an object with data of the matched element\n     *\n     * @private\n     * @param {string} comando\n     * @returns {MatchedCommand}\n     */\n    Artyom.prototype.execute = function (voz) {\n        var _this = this;\n        if (!voz) {\n            console.warn(\"Internal error: Execution of empty command\");\n            return;\n        }\n        // If artyom was initialized with a name, verify that the name begins with it to allow the execution of commands.\n        if (_this.ArtyomProperties.name) {\n            if (voz.indexOf(_this.ArtyomProperties.name) != 0) {\n                _this.debug(\"Artyom requires with a name \\\"\" + _this.ArtyomProperties.name + \"\\\" but the name wasn't spoken.\", \"warn\");\n                return;\n            }\n            // Remove name from voice command\n            voz = voz.substr(_this.ArtyomProperties.name.length);\n        }\n        _this.debug(\">> \" + voz);\n        /** @3\n         * Artyom needs time to think that\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            var wildy = \"\";\n            for (var c = 0; c < opciones.length; c++) {\n                var opcion = opciones[c];\n                if (!instruction.smart) {\n                    continue; //Jump if is not smart command\n                }\n                // Process RegExp\n                if (opcion instanceof RegExp) {\n                    // If RegExp matches\n                    if (opcion.test(voz)) {\n                        _this.debug(\">> REGEX \" + opcion.toString() + \" MATCHED AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                        encontrado = parseInt(c.toString());\n                    }\n                    // Otherwise just wildcards\n                }\n                else {\n                    if (opcion.indexOf(\"*\") != -1) {\n                        ///LOGIC HERE\n                        var grupo = opcion.split(\"*\");\n                        if (grupo.length > 2) {\n                            console.warn(\"Artyom found a smart command with \" + (grupo.length - 1) + \" wildcards. Artyom only support 1 wildcard for each command. Sorry\");\n                            continue;\n                        }\n                        //START SMART COMMAND\n                        var before = grupo[0];\n                        var later = grupo[1];\n                        // Wildcard in the end\n                        if ((later == \"\") || (later == \" \")) {\n                            if ((voz.indexOf(before) != -1) || ((voz.toLowerCase()).indexOf(before.toLowerCase()) != -1)) {\n                                wildy = voz.replace(before, '');\n                                wildy = (wildy.toLowerCase()).replace(before.toLowerCase(), '');\n                                encontrado = parseInt(c.toString());\n                            }\n                        }\n                        else {\n                            if ((voz.indexOf(before) != -1) || ((voz.toLowerCase()).indexOf(before.toLowerCase()) != -1)) {\n                                if ((voz.indexOf(later) != -1) || ((voz.toLowerCase()).indexOf(later.toLowerCase()) != -1)) {\n                                    wildy = voz.replace(before, '').replace(later, '');\n                                    wildy = (wildy.toLowerCase()).replace(before.toLowerCase(), '').replace(later.toLowerCase(), '');\n                                    wildy = (wildy.toLowerCase()).replace(later.toLowerCase(), '');\n                                    encontrado = parseInt(c.toString());\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        console.warn(\"Founded command marked as SMART but have no wildcard in the indexes, remove the SMART for prevent extensive memory consuming or add the wildcard *\");\n                    }\n                }\n                if ((encontrado >= 0)) {\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction,\n                    wildcard: {\n                        item: wildy,\n                        full: voz\n                    }\n                };\n                return response;\n            }\n        } //End @3\n        /** @1\n         * Search for IDENTICAL matches in the commands if nothing matches\n         * start with a index match in commands\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            /**\n             * Execution of match with identical commands\n             */\n            for (var c = 0; c < opciones.length; c++) {\n                var opcion = opciones[c];\n                if (instruction.smart) {\n                    continue; //Jump wildcard commands\n                }\n                if ((voz === opcion)) {\n                    _this.debug(\">> MATCHED FULL EXACT OPTION \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n                else if ((voz.toLowerCase() === opcion.toLowerCase())) {\n                    _this.debug(\">> MATCHED OPTION CHANGING ALL TO LOWERCASE \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction\n                };\n                return response;\n            }\n        } //End @1\n        /**\n         * Step 3 Commands recognition.\n         * If the command is not smart, and any of the commands match exactly then try to find\n         * a command in all the quote.\n         */\n        for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n            var instruction = _this.ArtyomCommands[i];\n            var opciones = instruction.indexes;\n            var encontrado = -1;\n            /**\n             * Execution of match with index\n             */\n            for (var c = 0; c < opciones.length; c++) {\n                if (instruction.smart) {\n                    continue; //Jump wildcard commands\n                }\n                var opcion = opciones[c];\n                if ((voz.indexOf(opcion) >= 0)) {\n                    _this.debug(\">> MATCHED INDEX EXACT OPTION \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n                else if (((voz.toLowerCase()).indexOf(opcion.toLowerCase()) >= 0)) {\n                    _this.debug(\">> MATCHED INDEX OPTION CHANGING ALL TO LOWERCASE \" + opcion + \" AGAINST \" + voz + \" WITH INDEX \" + c + \" IN COMMAND \", \"info\");\n                    encontrado = parseInt(c.toString());\n                    break;\n                }\n            }\n            if (encontrado >= 0) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                var response = {\n                    index: encontrado,\n                    instruction: instruction\n                };\n                return response;\n            }\n        } //End Step 3\n        /**\n         * If the soundex options is enabled, proceed to process the commands in case that any of the previous\n         * ways of processing (exact, lowercase and command in quote) didn't match anything.\n         * Based on the soundex algorithm match a command if the spoken text is similar to any of the artyom commands.\n         * Example :\n         * If you have a command with \"Open Wallmart\" and \"Open Willmar\" is recognized, the open wallmart command will be triggered.\n         * soundex(\"Open Wallmart\") == soundex(\"Open Willmar\") <= true\n         *\n         */\n        if (_this.ArtyomProperties.soundex) {\n            for (var i = 0; i < _this.ArtyomCommands.length; i++) {\n                var instruction = _this.ArtyomCommands[i];\n                var opciones = instruction.indexes;\n                var encontrado = -1;\n                for (var c = 0; c < opciones.length; c++) {\n                    var opcion = opciones[c];\n                    if (instruction.smart) {\n                        continue; //Jump wildcard commands\n                    }\n                    if (_this.soundex(voz) == _this.soundex(opcion)) {\n                        _this.debug(\">> Matched Soundex command '\" + opcion + \"' AGAINST '\" + voz + \"' with index \" + c, \"info\");\n                        encontrado = parseInt(c.toString());\n                        _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_MATCHED);\n                        var response = {\n                            index: encontrado,\n                            instruction: instruction\n                        };\n                        return response;\n                    }\n                }\n            }\n        }\n        _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.NOT_COMMAND_MATCHED);\n        _this.triggerEvent(_this.ArtyomGlobalEvents.NOT_COMMAND_MATCHED);\n        return;\n    };\n    /**\n     * Force artyom to stop listen even if is in continuos mode.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/fatality\n     * @returns {Boolean}\n     */\n    Artyom.prototype.fatality = function () {\n        var _this = this;\n        //fatalityPromiseCallback\n        return new Promise(function (resolve, reject) {\n            // Expose the fatality promise callback to the helpers object of Artyom.\n            // The promise isn't resolved here itself but in the onend callback of\n            // the speechRecognition instance of artyom\n            _this.ArtyomProperties.helpers.fatalityPromiseCallback = resolve;\n            try {\n                // If config is continuous mode, deactivate anyway.\n                _this.ArtyomFlags.restartRecognition = false;\n                _this.ArtyomWebkitSpeechRecognition.stop();\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    };\n    /**\n     * Returns an array with all the available commands for artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getavailablecommands\n     * @readonly\n     * @returns {Array}\n     */\n    Artyom.prototype.getAvailableCommands = function () {\n        return this.ArtyomCommands;\n    };\n    /**\n     * Artyom can return inmediately the voices available in your browser.\n     *\n     * @readonly\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getvoices\n     * @returns {Array}\n     */\n    Artyom.prototype.getVoices = function () {\n        return window.speechSynthesis.getVoices();\n    };\n    /**\n     * Verify if the browser supports speechSynthesis.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/speechsupported\n     * @returns {Boolean}\n     */\n    Artyom.prototype.speechSupported = function () {\n        return 'speechSynthesis' in window;\n    };\n    /**\n     * Verify if the browser supports webkitSpeechRecognition.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/recognizingsupported\n     * @returns {Boolean}\n     */\n    Artyom.prototype.recognizingSupported = function () {\n        return 'webkitSpeechRecognition' in window;\n    };\n    /**\n     * Stops the actual and pendings messages that artyom have to say.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/shutup\n     * @returns {undefined}\n     */\n    Artyom.prototype.shutUp = function () {\n        if ('speechSynthesis' in window) {\n            do {\n                window.speechSynthesis.cancel();\n            } while (window.speechSynthesis.pending === true);\n        }\n        this.ArtyomProperties.speaking = false;\n        this.clearGarbageCollection();\n    };\n    /**\n     * Returns an object with the actual properties of artyom.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getproperties\n     * @returns {object}\n     */\n    Artyom.prototype.getProperties = function () {\n        return this.ArtyomProperties;\n    };\n    /**\n     * Returns the code language of artyom according to initialize function.\n     * if initialize not used returns english GB.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/getlanguage\n     * @returns {String}\n     */\n    Artyom.prototype.getLanguage = function () {\n        return this.ArtyomProperties.lang;\n    };\n    /**\n     * Retrieves the used version of Artyom.js\n     *\n     * @returns {String}\n     */\n    Artyom.prototype.getVersion = function () {\n        return '1.0.6';\n    };\n    /**\n     * Artyom awaits for orders when this function\n     * is executed.\n     *\n     * If artyom gets a first parameter the instance will be stopped.\n     *\n     * @private\n     * @returns {undefined}\n     */\n    Artyom.prototype.hey = function (resolve, reject) {\n        var start_timestamp;\n        var artyom_is_allowed;\n        var _this = this;\n        /**\n         * On mobile devices the recognized text is always thrown twice.\n         * By setting the following configuration, fixes the issue\n         */\n        if (this.Device.isMobile) {\n            this.ArtyomWebkitSpeechRecognition.continuous = false;\n            this.ArtyomWebkitSpeechRecognition.interimResults = false;\n            this.ArtyomWebkitSpeechRecognition.maxAlternatives = 1;\n        }\n        else {\n            this.ArtyomWebkitSpeechRecognition.continuous = true;\n            this.ArtyomWebkitSpeechRecognition.interimResults = true;\n        }\n        this.ArtyomWebkitSpeechRecognition.lang = this.ArtyomProperties.lang;\n        this.ArtyomWebkitSpeechRecognition.onstart = function () {\n            _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.COMMAND_RECOGNITION_START);\n            _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_START);\n            _this.ArtyomProperties.recognizing = true;\n            artyom_is_allowed = true;\n            resolve();\n        };\n        /**\n         * Handle all artyom posible exceptions\n         *\n         * @param {type} event\n         * @returns {undefined}\n         */\n        this.ArtyomWebkitSpeechRecognition.onerror = function (event) {\n            // Reject promise on initialization\n            reject(event.error);\n            // Dispath error globally (artyom.when)\n            _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                code: event.error\n            });\n            if (event.error == 'audio-capture') {\n                artyom_is_allowed = false;\n            }\n            if (event.error == 'not-allowed') {\n                artyom_is_allowed = false;\n                if (event.timeStamp - start_timestamp < 100) {\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                        code: \"info-blocked\",\n                        message: \"Artyom needs the permision of the microphone, is blocked.\"\n                    });\n                }\n                else {\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                        code: \"info-denied\",\n                        message: \"Artyom needs the permision of the microphone, is denied\"\n                    });\n                }\n            }\n        };\n        /**\n         * Check if continuous mode is active and restart the recognition.\n         * Throw events too.\n         *\n         * @returns {undefined}\n         */\n        _this.ArtyomWebkitSpeechRecognition.onend = function () {\n            if (_this.ArtyomFlags.restartRecognition === true) {\n                if (artyom_is_allowed === true) {\n                    _this.ArtyomWebkitSpeechRecognition.start();\n                    _this.debug(\"Continuous mode enabled, restarting\", \"info\");\n                }\n                else {\n                    console.error(\"Verify the microphone and check for the table of errors in sdkcarlos.github.io/sites/artyom.html to solve your problem. If you want to give your user a message when an error appears add an artyom listener\");\n                }\n                _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END, {\n                    code: \"continuous_mode_enabled\",\n                    message: \"OnEnd event reached with continuous mode\"\n                });\n            }\n            else {\n                // If the fatality promise callback was set, invoke it\n                if (_this.ArtyomProperties.helpers.fatalityPromiseCallback) {\n                    // As the speech recognition doesn't finish really, wait 500ms\n                    // to trigger the real fatality callback\n                    setTimeout(function () {\n                        _this.ArtyomProperties.helpers.fatalityPromiseCallback();\n                    }, 500);\n                    _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END, {\n                        code: \"continuous_mode_disabled\",\n                        message: \"OnEnd event reached without continuous mode\"\n                    });\n                }\n            }\n            _this.ArtyomProperties.recognizing = false;\n        };\n        /**\n         * Declare the processor dinamycally according to the mode of artyom\n         * to increase the performance.\n         *\n         * @type {Function}\n         * @return\n         */\n        var onResultProcessor;\n        // Process the recognition in normal mode\n        if (_this.ArtyomProperties.mode == \"normal\") {\n            onResultProcessor = function (event) {\n                if (!_this.ArtyomCommands.length) {\n                    _this.debug(\"No commands to process in normal mode.\");\n                    return;\n                }\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    if (event.results[i].isFinal) {\n                        var comando = _this.execute(identificated.trim());\n                        // Redirect the output of the text if necessary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, true);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in normal mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            // Execute the command if smart\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item, comando.wildcard.full);\n                                // Execute a normal command\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    else {\n                        // Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, false);\n                        }\n                        if (typeof (_this.ArtyomProperties.executionKeyword) === \"string\") {\n                            if (identificated.indexOf(_this.ArtyomProperties.executionKeyword) != -1) {\n                                var comando = _this.execute(identificated.replace(_this.ArtyomProperties.executionKeyword, '').trim());\n                                if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                                    _this.debug(\"<< Executing command ordered by ExecutionKeyword >>\", 'info');\n                                    _this.ArtyomWebkitSpeechRecognition.stop();\n                                    _this.ArtyomProperties.recognizing = false;\n                                    //Executing Command Action\n                                    if (comando.wildcard) {\n                                        comando.instruction.action(comando.index, comando.wildcard.item, comando.wildcard.full);\n                                    }\n                                    else {\n                                        comando.instruction.action(comando.index);\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        _this.debug(\"Normal mode : \" + identificated);\n                    }\n                }\n            };\n        }\n        // Process the recognition in quick mode\n        if (_this.ArtyomProperties.mode == \"quick\") {\n            onResultProcessor = function (event) {\n                if (!_this.ArtyomCommands.length) {\n                    _this.debug(\"No commands to process.\");\n                    return;\n                }\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    if (!event.results[i].isFinal) {\n                        var comando = _this.execute(identificated.trim());\n                        //Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, true);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in quick mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            //Executing Command Action\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item);\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    else {\n                        var comando = _this.execute(identificated.trim());\n                        //Redirect output when necesary\n                        if (typeof (_this.ArtyomProperties.helpers.redirectRecognizedTextOutput) === \"function\") {\n                            _this.ArtyomProperties.helpers.redirectRecognizedTextOutput(identificated, false);\n                        }\n                        if ((comando) && (_this.ArtyomProperties.recognizing == true)) {\n                            _this.debug(\"<< Executing Matching Recognition in quick mode >>\", \"info\");\n                            _this.ArtyomWebkitSpeechRecognition.stop();\n                            _this.ArtyomProperties.recognizing = false;\n                            //Executing Command Action\n                            if (comando.wildcard) {\n                                comando.instruction.action(comando.index, comando.wildcard.item);\n                            }\n                            else {\n                                comando.instruction.action(comando.index);\n                            }\n                            break;\n                        }\n                    }\n                    _this.debug(\"Quick mode : \" + identificated);\n                }\n            };\n        }\n        // Process the recognition in remote mode\n        if (_this.ArtyomProperties.mode == \"remote\") {\n            onResultProcessor = function (event) {\n                var cantidadResultados = event.results.length;\n                _this.triggerEvent(_this.ArtyomGlobalEvents.TEXT_RECOGNIZED);\n                if (typeof (_this.ArtyomProperties.helpers.remoteProcessorHandler) !== \"function\") {\n                    return _this.debug(\"The remoteProcessorService is undefined.\", \"warn\");\n                }\n                for (var i = event.resultIndex; i < cantidadResultados; ++i) {\n                    var identificated = event.results[i][0].transcript;\n                    _this.ArtyomProperties.helpers.remoteProcessorHandler({\n                        text: identificated,\n                        isFinal: event.results[i].isFinal\n                    });\n                }\n            };\n        }\n        /**\n         * Process the recognition event with the previously\n         * declared processor function.\n         *\n         * @param {type} event\n         * @returns {undefined}\n         */\n        _this.ArtyomWebkitSpeechRecognition.onresult = function (event) {\n            if (_this.ArtyomProperties.obeying) {\n                onResultProcessor(event);\n            }\n            else {\n                // Handle obeyKeyword if exists and artyom is not obeying\n                if (!_this.ArtyomProperties.obeyKeyword) {\n                    return;\n                }\n                var temporal = \"\";\n                var interim = \"\";\n                for (var i = 0; i < event.results.length; ++i) {\n                    if (event.results[i].isFinal) {\n                        temporal += event.results[i][0].transcript;\n                    }\n                    else {\n                        interim += event.results[i][0].transcript;\n                    }\n                }\n                _this.debug(\"Artyom is not obeying\", \"warn\");\n                // If the obeyKeyword is found in the recognized text\n                // enable command recognition again\n                if (((interim).indexOf(_this.ArtyomProperties.obeyKeyword) > -1) || (temporal).indexOf(_this.ArtyomProperties.obeyKeyword) > -1) {\n                    _this.ArtyomProperties.obeying = true;\n                }\n            }\n        };\n        if (_this.ArtyomProperties.recognizing) {\n            _this.ArtyomWebkitSpeechRecognition.stop();\n            _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END);\n            _this.triggerEvent(_this.ArtyomGlobalEvents.COMMAND_RECOGNITION_END);\n        }\n        else {\n            try {\n                _this.ArtyomWebkitSpeechRecognition.start();\n            }\n            catch (e) {\n                _this.triggerEvent(_this.ArtyomGlobalEvents.ERROR, {\n                    code: \"recognition_overlap\",\n                    message: \"A webkitSpeechRecognition instance has been started while there's already running. Is recommendable to restart the Browser\"\n                });\n            }\n        }\n    };\n    /**\n     * Set up artyom for the application.\n     *\n     * This function will set the default language used by artyom\n     * or notice the user if artyom is not supported in the actual\n     * browser\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/initialize\n     * @param {Object} config\n     * @returns {Boolean}\n     */\n    Artyom.prototype.initialize = function (config) {\n        var _this = this;\n        if (typeof (config) !== \"object\") {\n            return Promise.reject(\"You must give the configuration for start artyom properly.\");\n        }\n        if (config.hasOwnProperty(\"lang\")) {\n            _this.ArtyomVoice = _this.getVoice(config.lang);\n            _this.ArtyomProperties.lang = config.lang;\n        }\n        if (config.hasOwnProperty(\"continuous\")) {\n            if (config.continuous) {\n                this.ArtyomProperties.continuous = true;\n                this.ArtyomFlags.restartRecognition = true;\n            }\n            else {\n                this.ArtyomProperties.continuous = false;\n                this.ArtyomFlags.restartRecognition = false;\n            }\n        }\n        if (config.hasOwnProperty(\"speed\")) {\n            this.ArtyomProperties.speed = config.speed;\n        }\n        if (config.hasOwnProperty(\"soundex\")) {\n            this.ArtyomProperties.soundex = config.soundex;\n        }\n        if (config.hasOwnProperty(\"executionKeyword\")) {\n            this.ArtyomProperties.executionKeyword = config.executionKeyword;\n        }\n        if (config.hasOwnProperty(\"obeyKeyword\")) {\n            this.ArtyomProperties.obeyKeyword = config.obeyKeyword;\n        }\n        if (config.hasOwnProperty(\"volume\")) {\n            this.ArtyomProperties.volume = config.volume;\n        }\n        if (config.hasOwnProperty(\"listen\")) {\n            this.ArtyomProperties.listen = config.listen;\n        }\n        if (config.hasOwnProperty(\"name\")) {\n            this.ArtyomProperties.name = config.name;\n        }\n        if (config.hasOwnProperty(\"debug\")) {\n            this.ArtyomProperties.debug = config.debug;\n        }\n        else {\n            console.warn(\"The initialization doesn't provide how the debug mode should be handled. Is recommendable to set this value either to true or false.\");\n        }\n        if (config.mode) {\n            this.ArtyomProperties.mode = config.mode;\n        }\n        if (this.ArtyomProperties.listen === true) {\n            return new Promise(function (resolve, reject) {\n                _this.hey(resolve, reject);\n            });\n        }\n        return Promise.resolve(true);\n    };\n    /**\n     * Add commands like an artisan. If you use artyom for simple tasks\n     * then probably you don't like to write a lot to achieve it.\n     *\n     * Use the artisan syntax to write less, but with the same accuracy.\n     *\n     * @disclaimer Not a promise-based implementation, just syntax.\n     * @returns {Boolean}\n     */\n    Artyom.prototype.on = function (indexes, smart) {\n        var _this = this;\n        return {\n            then: function (action) {\n                var command = {\n                    indexes: indexes,\n                    action: action\n                };\n                if (smart) {\n                    command.smart = true;\n                }\n                _this.addCommands(command);\n            }\n        };\n    };\n    /**\n     * Generates an artyom event with the designed name\n     *\n     * @param {type} name\n     * @returns {undefined}\n     */\n    Artyom.prototype.triggerEvent = function (name, param) {\n        var event = new CustomEvent(name, {\n            'detail': param\n        });\n        document.dispatchEvent(event);\n        return event;\n    };\n    /**\n     * Repeats the last sentence that artyom said.\n     * Useful in noisy environments.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/repeatlastsay\n     * @param {Boolean} returnObject If set to true, an object with the text and the timestamp when was executed will be returned.\n     * @returns {Object}\n     */\n    Artyom.prototype.repeatLastSay = function (returnObject) {\n        var last = this.ArtyomProperties.helpers.lastSay;\n        if (returnObject) {\n            return last;\n        }\n        else {\n            if (last != null) {\n                this.say(last.text);\n            }\n        }\n    };\n    /**\n     * Create a listener when an artyom action is called.\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/when\n     * @param {type} event\n     * @param {type} action\n     * @returns {undefined}\n     */\n    Artyom.prototype.when = function (event, action) {\n        return document.addEventListener(event, function (e) {\n            action(e[\"detail\"]);\n        }, false);\n    };\n    /**\n     * Process the recognized text if artyom is active in remote mode.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.remoteProcessorService = function (action) {\n        this.ArtyomProperties.helpers.remoteProcessorHandler = action;\n        return true;\n    };\n    /**\n     * Verify if there's a voice available for a language using its language code identifier.\n     *\n     * @return {Boolean}\n     */\n    Artyom.prototype.voiceAvailable = function (languageCode) {\n        return typeof (this.getVoice(languageCode)) !== \"undefined\";\n    };\n    /**\n     * A boolean to check if artyom is obeying commands or not.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isObeying = function () {\n        return this.ArtyomProperties.obeying;\n    };\n    /**\n     * Allow artyom to obey commands again.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.obey = function () {\n        return this.ArtyomProperties.obeying = true;\n    };\n    /**\n     * Pause the processing of commands. Artyom still listening in the background and it can be resumed after a couple of seconds.\n     *\n     * @returns {Boolean}\n     */\n    Artyom.prototype.dontObey = function () {\n        return this.ArtyomProperties.obeying = false;\n    };\n    /**\n     * This function returns a boolean according to the speechSynthesis status\n     * if artyom is speaking, will return true.\n     *\n     * Note: This is not a feature of speechSynthesis, therefore this value hangs on\n     * the fiability of the onStart and onEnd events of the speechSynthesis\n     *\n     * @since 0.9.3\n     * @summary Returns true if speechSynthesis is active\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isSpeaking = function () {\n        return this.ArtyomProperties.speaking;\n    };\n    /**\n     * This function returns a boolean according to the SpeechRecognition status\n     * if artyom is listening, will return true.\n     *\n     * Note: This is not a feature of SpeechRecognition, therefore this value hangs on\n     * the fiability of the onStart and onEnd events of the SpeechRecognition\n     *\n     * @since 0.9.3\n     * @summary Returns true if SpeechRecognition is active\n     * @returns {Boolean}\n     */\n    Artyom.prototype.isRecognizing = function () {\n        return this.ArtyomProperties.recognizing;\n    };\n    /**\n     * This function will return the webkitSpeechRecognition object used by artyom\n     * retrieve it only to debug on it or get some values, do not make changes directly\n     *\n     * @readonly\n     * @since 0.9.2\n     * @summary Retrieve the native webkitSpeechRecognition object\n     * @returns {Object webkitSpeechRecognition}\n     */\n    Artyom.prototype.getNativeApi = function () {\n        return this.ArtyomWebkitSpeechRecognition;\n    };\n    /**\n     * Returns the SpeechSynthesisUtterance garbageobjects.\n     *\n     * @returns {Array}\n     */\n    Artyom.prototype.getGarbageCollection = function () {\n        return this.ArtyomGarbageCollection;\n    };\n    /**\n     *  Retrieve a single voice of the browser by it's language code.\n     *  It will return the first voice available for the language on every device.\n     *\n     * @param languageCode\n     */\n    Artyom.prototype.getVoice = function (languageCode) {\n        var voiceIdentifiersArray = this.ArtyomVoicesIdentifiers[languageCode];\n        if (!voiceIdentifiersArray) {\n            console.warn(\"The providen language \" + languageCode + \" isn't available, using English Great britain as default\");\n            voiceIdentifiersArray = this.ArtyomVoicesIdentifiers[\"en-GB\"];\n        }\n        var voice = undefined;\n        var voices = speechSynthesis.getVoices();\n        var voicesLength = voiceIdentifiersArray.length;\n        var _loop_1 = function (i) {\n            var foundVoice = voices.filter(function (voice) {\n                return ((voice.name == voiceIdentifiersArray[i]) || (voice.lang == voiceIdentifiersArray[i]));\n            })[0];\n            if (foundVoice) {\n                voice = foundVoice;\n                return \"break\";\n            }\n        };\n        for (var i = 0; i < voicesLength; i++) {\n            var state_1 = _loop_1(i);\n            if (state_1 === \"break\")\n                break;\n        }\n        return voice;\n    };\n    /**\n     * Artyom provide an easy way to create a\n     * dictation for your user.\n     *\n     * Just create an instance and start and stop when you want\n     *\n     * @returns Object | newDictation\n     */\n    Artyom.prototype.newDictation = function (settings) {\n        var _this = this;\n        if (!_this.recognizingSupported()) {\n            console.error(\"SpeechRecognition is not supported in this browser\");\n            return false;\n        }\n        var dictado = new window.webkitSpeechRecognition();\n        dictado.continuous = true;\n        dictado.interimResults = true;\n        dictado.lang = _this.ArtyomProperties.lang;\n        dictado.onresult = function (event) {\n            var temporal = \"\";\n            var interim = \"\";\n            for (var i = 0; i < event.results.length; ++i) {\n                if (event.results[i].isFinal) {\n                    temporal += event.results[i][0].transcript;\n                }\n                else {\n                    interim += event.results[i][0].transcript;\n                }\n            }\n            if (settings.onResult) {\n                settings.onResult(interim, temporal);\n            }\n        };\n        return new function () {\n            var dictation = dictado;\n            var flagStartCallback = true;\n            var flagRestart = false;\n            this.onError = null;\n            this.start = function () {\n                if (settings.continuous === true) {\n                    flagRestart = true;\n                }\n                dictation.onstart = function () {\n                    if (typeof (settings.onStart) === \"function\") {\n                        if (flagStartCallback === true) {\n                            settings.onStart();\n                        }\n                    }\n                };\n                dictation.onend = function () {\n                    if (flagRestart === true) {\n                        flagStartCallback = false;\n                        dictation.start();\n                    }\n                    else {\n                        flagStartCallback = true;\n                        if (typeof (settings.onEnd) === \"function\") {\n                            settings.onEnd();\n                        }\n                    }\n                };\n                dictation.start();\n            };\n            this.stop = function () {\n                flagRestart = false;\n                dictation.stop();\n            };\n            if (typeof (settings.onError) === \"function\") {\n                dictation.onerror = settings.onError;\n            }\n        };\n    };\n    /**\n     * A voice prompt will be executed.\n     *\n     * @param {type} config\n     * @returns {undefined}\n     */\n    Artyom.prototype.newPrompt = function (config) {\n        if (typeof (config) !== \"object\") {\n            console.error(\"Expected the prompt configuration.\");\n        }\n        var copyActualCommands = Object.assign([], this.ArtyomCommands);\n        var _this = this;\n        this.emptyCommands();\n        var promptCommand = {\n            description: \"Setting the artyom commands only for the prompt. The commands will be restored after the prompt finishes\",\n            indexes: config.options,\n            action: function (i, wildcard) {\n                _this.ArtyomCommands = copyActualCommands;\n                var toExe = config.onMatch(i, wildcard);\n                if (typeof (toExe) !== \"function\") {\n                    console.error(\"onMatch function expects a returning function to be executed\");\n                    return;\n                }\n                toExe();\n            }\n        };\n        if (config.smart) {\n            promptCommand.smart = true;\n        }\n        this.addCommands(promptCommand);\n        if (typeof (config.beforePrompt) !== \"undefined\") {\n            config.beforePrompt();\n        }\n        var callbacks = {\n            onStart: function () {\n                if (typeof (config.onStartPrompt) !== \"undefined\") {\n                    config.onStartPrompt();\n                }\n            },\n            onEnd: function () {\n                if (typeof (config.onEndPrompt) !== \"undefined\") {\n                    config.onEndPrompt();\n                }\n            }\n        };\n        this.say(config.question, callbacks);\n    };\n    /**\n     * Says a random quote and returns it's object\n     *\n     * @param {type} data\n     * @returns {object}\n     */\n    Artyom.prototype.sayRandom = function (data) {\n        if (data instanceof Array) {\n            var index = Math.floor(Math.random() * data.length);\n            this.say(data[index]);\n            return {\n                text: data[index],\n                index: index\n            };\n        }\n        else {\n            console.error(\"Random quotes must be in an array !\");\n            return null;\n        }\n    };\n    /**\n     * Shortcut method to enable the artyom debug on the fly.\n     *\n     * @returns {Array}\n     */\n    Artyom.prototype.setDebug = function (status) {\n        if (status) {\n            return this.ArtyomProperties.debug = true;\n        }\n        else {\n            return this.ArtyomProperties.debug = false;\n        }\n    };\n    /**\n     * Simulate a voice command via JS\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/simulateinstruction\n     * @param {type} sentence\n     * @returns {undefined}\n     */\n    Artyom.prototype.simulateInstruction = function (sentence) {\n        var _this = this;\n        if ((!sentence) || (typeof (sentence) !== \"string\")) {\n            console.warn(\"Cannot execute a non string command\");\n            return false;\n        }\n        var foundCommand = _this.execute(sentence); //Command founded object\n        if (typeof (foundCommand) === \"object\") {\n            if (foundCommand.instruction) {\n                if (foundCommand.instruction.smart) {\n                    _this.debug('Smart command matches with simulation, executing', \"info\");\n                    foundCommand.instruction.action(foundCommand.index, foundCommand.wildcard.item, foundCommand.wildcard.full);\n                }\n                else {\n                    _this.debug('Command matches with simulation, executing', \"info\");\n                    foundCommand.instruction.action(foundCommand.index); //Execute Normal command\n                }\n                return true;\n            }\n        }\n        else {\n            console.warn(\"No command founded trying with \" + sentence);\n            return false;\n        }\n    };\n    /**\n     * Javascript implementation of the soundex algorithm.\n     * @see https://gist.github.com/shawndumas/1262659\n     * @returns {String}\n     */\n    Artyom.prototype.soundex = function (s) {\n        var a = s.toLowerCase().split('');\n        var f = a.shift();\n        var r = '';\n        var codes = { a: \"\", e: \"\", i: \"\", o: \"\", u: \"\", b: 1, f: 1, p: 1, v: 1, c: 2, g: 2, j: 2, k: 2, q: 2, s: 2, x: 2, z: 2, d: 3, t: 3, l: 4, m: 5, n: 5, r: 6 };\n        r = f + a\n            .map(function (v, i, a) {\n            return codes[v];\n        })\n            .filter(function (v, i, a) {\n            return ((i === 0) ? v !== codes[f] : v !== a[i - 1]);\n        })\n            .join('');\n        return (r + '000').slice(0, 4).toUpperCase();\n    };\n    /**\n     * Splits a string into an array of strings with a limited size (chunk_length).\n     *\n     * @param {String} input text to split into chunks\n     * @param {Integer} chunk_length limit of characters in every chunk\n     */\n    Artyom.prototype.splitStringByChunks = function (input, chunk_length) {\n        input = input || \"\";\n        chunk_length = chunk_length || 100;\n        var curr = chunk_length;\n        var prev = 0;\n        var output = [];\n        while (input[curr]) {\n            if (input[curr++] == ' ') {\n                output.push(input.substring(prev, curr));\n                prev = curr;\n                curr += chunk_length;\n            }\n        }\n        output.push(input.substr(prev));\n        return output;\n    };\n    /**\n     * Allows to retrieve the recognized spoken text of artyom\n     * and do something with it everytime something is recognized\n     *\n     * @param {String} action\n     * @returns {Boolean}\n     */\n    Artyom.prototype.redirectRecognizedTextOutput = function (action) {\n        if (typeof (action) != \"function\") {\n            console.warn(\"Expected function to handle the recognized text ...\");\n            return false;\n        }\n        this.ArtyomProperties.helpers.redirectRecognizedTextOutput = action;\n        return true;\n    };\n    /**\n     * Restarts artyom with the initial configuration.\n     *\n     * @param configuration\n     */\n    Artyom.prototype.restart = function () {\n        var _this = this;\n        var _copyInit = _this.ArtyomProperties;\n        return new Promise(function (resolve, reject) {\n            _this.fatality().then(function () {\n                _this.initialize(_copyInit).then(resolve, reject);\n            });\n        });\n    };\n    /**\n     * Talks a text according to the given parameters.\n     *\n     * @private This function is only to be used internally.\n     * @param {String} text Text to be spoken\n     * @param {Int} actualChunk Number of chunk of the\n     * @param {Int} totalChunks\n     * @returns {undefined}\n     */\n    Artyom.prototype.talk = function (text, actualChunk, totalChunks, callbacks) {\n        var _this = this;\n        var msg = new SpeechSynthesisUtterance();\n        msg.text = text;\n        msg.volume = this.ArtyomProperties.volume;\n        msg.rate = this.ArtyomProperties.speed;\n        // Select the voice according to the selected\n        var availableVoice = _this.getVoice(_this.ArtyomProperties.lang);\n        if (callbacks) {\n            // If the language to speak has been forced, use it\n            if (callbacks.hasOwnProperty(\"lang\")) {\n                availableVoice = _this.getVoice(callbacks.lang);\n            }\n        }\n        // If is a mobile device, provide only the language code in the lang property i.e \"es_ES\"\n        if (this.Device.isMobile) {\n            // Try to set the voice only if exists, otherwise don't use anything to use the native voice\n            if (availableVoice) {\n                msg.lang = availableVoice.lang;\n            }\n            // If browser provide the entire object\n        }\n        else {\n            msg.voice = availableVoice;\n        }\n        // If is first text chunk (onStart)\n        if (actualChunk == 1) {\n            msg.addEventListener('start', function () {\n                // Set artyom is talking\n                _this.ArtyomProperties.speaking = true;\n                // Trigger the onSpeechSynthesisStart event\n                _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START);\n                _this.triggerEvent(_this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_START);\n                // Trigger the onStart callback if exists\n                if (callbacks) {\n                    if (typeof (callbacks.onStart) == \"function\") {\n                        callbacks.onStart.call(msg);\n                    }\n                }\n            });\n        }\n        // If is final text chunk (onEnd)\n        if ((actualChunk) >= totalChunks) {\n            msg.addEventListener('end', function () {\n                // Set artyom is talking\n                _this.ArtyomProperties.speaking = false;\n                // Trigger the onSpeechSynthesisEnd event\n                _this.debug(\"Event reached : \" + _this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END);\n                _this.triggerEvent(_this.ArtyomGlobalEvents.SPEECH_SYNTHESIS_END);\n                // Trigger the onEnd callback if exists.\n                if (callbacks) {\n                    if (typeof (callbacks.onEnd) == \"function\") {\n                        callbacks.onEnd.call(msg);\n                    }\n                }\n            });\n        }\n        // Notice how many chunks were processed for the given text.\n        this.debug((actualChunk) + \" text chunk processed succesfully out of \" + totalChunks);\n        // Important : Save the SpeechSynthesisUtterance object in memory, otherwise it will get lost\n        this.ArtyomGarbageCollection.push(msg);\n        window.speechSynthesis.speak(msg);\n    };\n    /**\n     * Process the given text into chunks and execute the private function talk\n     *\n     * @tutorial http://docs.ourcodeworld.com/projects/artyom-js/documentation/methods/say\n     * @param {String} message Text to be spoken\n     * @param {Object} callbacks\n     * @returns {undefined}\n     */\n    Artyom.prototype.say = function (message, callbacks) {\n        var artyom_say_max_chunk_length = 115;\n        var _this = this;\n        var definitive = [];\n        if (this.speechSupported()) {\n            if (typeof (message) != 'string') {\n                return console.warn(\"Artyom expects a string to speak \" + typeof message + \" given\");\n            }\n            if (!message.length) {\n                return console.warn(\"Cannot speak empty string\");\n            }\n            // If the providen text is long, proceed to split it\n            if (message.length > artyom_say_max_chunk_length) {\n                // Split the given text by pause reading characters [\",\",\":\",\";\",\". \"] to provide a natural reading feeling.\n                var naturalReading = message.split(/,|:|\\. |;/);\n                naturalReading.forEach(function (chunk, index) {\n                    // If the sentence is too long and could block the API, split it to prevent any errors.\n                    if (chunk.length > artyom_say_max_chunk_length) {\n                        // Process the providen string into strings (withing an array) of maximum aprox. 115 characters to prevent any error with the API.\n                        var temp_processed = _this.splitStringByChunks(chunk, artyom_say_max_chunk_length);\n                        // Add items of the processed sentence into the definitive chunk.\n                        definitive.push.apply(definitive, temp_processed);\n                    }\n                    else {\n                        // Otherwise just add the sentence to being spoken.\n                        definitive.push(chunk);\n                    }\n                });\n            }\n            else {\n                definitive.push(message);\n            }\n            // Clean any empty item in array\n            definitive = definitive.filter(function (e) { return e; });\n            // Finally proceed to talk the chunks and assign the callbacks.\n            definitive.forEach(function (chunk, index) {\n                var numberOfChunk = (index + 1);\n                if (chunk) {\n                    _this.talk(chunk, numberOfChunk, definitive.length, callbacks);\n                }\n            });\n            // Save the spoken text into the lastSay object of artyom\n            _this.ArtyomProperties.helpers.lastSay = {\n                text: message,\n                date: new Date()\n            };\n        }\n    };\n    return Artyom;\n}());\nexports.default = Artyom;\n","!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersLineScale=r()}(this,function(){\"use strict\";function r(e,r,n,o){return e(\"div\",{class:((i=r)in(t={\"vue-loaders\":a=!0})?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},o);var t,i,a}function n(e,r,n,o){var t=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?o:void 0,a={};if(Array.isArray(t)&&void 0!==t[0]&&\"string\"!=typeof t[0]&&(i=t,t=\"background-color\"),t)if(Array.isArray(t)){var l=!0,c=!1,s=void 0;try{for(var f,u=t[Symbol.iterator]();!(l=(f=u.next()).done);l=!0){a[f.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw s}}}else a[t]=r;return e(\"div\",{style:a},i)}var e,o,t,i=\"line-scale\";return o=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,t=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:o,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:t}),install:function(e){e.component(t,this.component)}}});\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"VueShortkey\",[],t):\"object\"==typeof exports?exports.VueShortkey=t():e.VueShortkey=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"../dist/\",t(t.s=0)}([function(e,t,n){\"use strict\";(function(r){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var c;n(2),n(3);var u={},i={},a=[],l=[],s=!1,f=function(e){return e=\"string\"==typeof e?JSON.parse(e.replace(/\\'/gi,'\"')):e,e instanceof Array?{\"\":e}:e},p=function(e,t,n,r){var o=!0===n.modifiers.push,c=!0===n.modifiers.avoid,u=!0==!n.modifiers.focus,i=!0===n.modifiers.once;c?(a=a.filter(function(e){return!e===t}),a.push(t)):v({b:e,push:o,once:i,focus:u,el:r.elm})},y=function(e,t){for(var n in e){var r=u.encodeKey(e[n]),o=i[r].el.indexOf(t);i[r].el.length>1&&o>-1?i[r].el.splice(o,1):delete i[r]}};u.install=function(e,t){l=[].concat(o(t&&t.prevent?t.prevent:[])),e.directive(\"shortkey\",{bind:function(e,t,n){var r=f(t.value);p(r,e,t,n)},update:function(e,t,n){var r=f(t.oldValue);y(r,e);var o=f(t.value);p(o,e,t,n)},unbind:function(e,t){var n=f(t.value);y(n,e)}})},u.decodeKey=function(e){return d(e)},u.encodeKey=function(e){var t={};t.shiftKey=e.includes(\"shift\"),t.ctrlKey=e.includes(\"ctrl\"),t.metaKey=e.includes(\"meta\"),t.altKey=e.includes(\"alt\");var n=d(t);return n+=e.filter(function(e){return![\"shift\",\"ctrl\",\"meta\",\"alt\"].includes(e)}).join(\"\")};var d=function(e){var t=\"\";return(\"Shift\"===e.key||e.shiftKey)&&(t+=\"shift\"),(\"Control\"===e.key||e.ctrlKey)&&(t+=\"ctrl\"),(\"Meta\"===e.key||e.metaKey)&&(t+=\"meta\"),(\"Alt\"===e.key||e.altKey)&&(t+=\"alt\"),\"ArrowUp\"===e.key&&(t+=\"arrowup\"),\"ArrowLeft\"===e.key&&(t+=\"arrowleft\"),\"ArrowRight\"===e.key&&(t+=\"arrowright\"),\"ArrowDown\"===e.key&&(t+=\"arrowdown\"),\"AltGraph\"===e.key&&(t+=\"altgraph\"),\"Escape\"===e.key&&(t+=\"esc\"),\"Enter\"===e.key&&(t+=\"enter\"),\"Tab\"===e.key&&(t+=\"tab\"),\" \"===e.key&&(t+=\"space\"),\"PageUp\"===e.key&&(t+=\"pageup\"),\"PageDown\"===e.key&&(t+=\"pagedown\"),\"Home\"===e.key&&(t+=\"home\"),\"End\"===e.key&&(t+=\"end\"),\"Delete\"===e.key&&(t+=\"del\"),\"Backspace\"===e.key&&(t+=\"backspace\"),\"Insert\"===e.key&&(t+=\"insert\"),\"NumLock\"===e.key&&(t+=\"numlock\"),\"CapsLock\"===e.key&&(t+=\"capslock\"),\"Pause\"===e.key&&(t+=\"pause\"),\"ContextMenu\"===e.key&&(t+=\"contextmenu\"),\"ScrollLock\"===e.key&&(t+=\"scrolllock\"),\"BrowserHome\"===e.key&&(t+=\"browserhome\"),\"MediaSelect\"===e.key&&(t+=\"mediaselect\"),(e.key&&\" \"!==e.key&&1===e.key.length||/F\\d{1,2}|\\//g.test(e.key))&&(t+=e.key.toLowerCase()),t},h=function(e){var t=new CustomEvent(\"shortkey\",{bubbles:!1});i[e].key&&(t.srcKey=i[e].key);var n=i[e].el;n[n.length-1].dispatchEvent(t)};u.keyDown=function(e){(!i[e].once&&!i[e].push||i[e].push&&!s)&&h(e)},r&&Object({NODE_ENV:\"production\"})&&function(){document.addEventListener(\"keydown\",function(e){var t=u.decodeKey(e);if(m(t))if(e.preventDefault(),e.stopPropagation(),i[t].focus)u.keyDown(t),s=!0;else if(!s){var n=i[t].el;n[n.length-1].focus(),s=!0}},!0),document.addEventListener(\"keyup\",function(e){var t=u.decodeKey(e);m(t)&&(e.preventDefault(),e.stopPropagation(),(i[t].once||i[t].push)&&h(t)),s=!1},!0)}();var v=function(e){var t=e.b,n=e.push,r=e.once,o=e.focus,c=e.el;for(var a in t){var l=u.encodeKey(t[a]),s=i[l]&&i[l].el?i[l].el:[];s.push(c),i[l]={push:n,once:r,focus:o,key:a,el:s}}},m=function(e){var t=!!a.find(function(e){return e===document.activeElement}),n=!!l.find(function(e){return document.activeElement&&document.activeElement.matches(e)});return!!i[e]&&!(t||n)};void 0!==e&&e.exports?e.exports=u:void 0!==(c=function(){return u}.call(t,n,t,e))&&(e.exports=c)}).call(t,n(1))},function(e,t){function n(){throw new Error(\"setTimeout has not been defined\")}function r(){throw new Error(\"clearTimeout has not been defined\")}function o(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function c(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function u(){h&&y&&(h=!1,y.length?d=y.concat(d):v=-1,d.length&&i())}function i(){if(!h){var e=o(u);h=!0;for(var t=d.length;t;){for(y=d,d=[];++v<t;)y&&y[v].run();v=-1,t=d.length}y=null,h=!1,c(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var s,f,p=e.exports={};!function(){try{s=\"function\"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{f=\"function\"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var y,d=[],h=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new a(e,t)),1!==d.length||h||o(i)},a.prototype.run=function(){this.fun.apply(null,this.array)},p.title=\"browser\",p.browser=!0,p.env={},p.argv=[],p.version=\"\",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error(\"process.binding is not supported\")},p.cwd=function(){return\"/\"},p.chdir=function(e){throw new Error(\"process.chdir is not supported\")},p.umask=function(){return 0}},function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},function(e,t){!function(){if(\"undefined\"!=typeof window)try{var e=new window.CustomEvent(\"test\",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error(\"Could not prevent default\")}catch(e){var t=function(e,t){var n,r;return t=t||{},t.bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,n=document.createEvent(\"CustomEvent\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,\"defaultPrevented\",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}()}])});\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  var ws = this.ws;\n  this._cleanup();\n  if (ws) {\n    ws.close();\n  }\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n","const logger = require(\"@/utils/logging\").getLogger(\"postMessage.js\");\n\nexport default class PostMessage {\n  constructor(store, config) {\n    this.store = store;\n    this.config = config;\n    if (config.EMBED) {\n      logger.info(\"Listening for messages from parent\");\n      let that = this;\n      window.addEventListener(\n        \"message\",\n        function (event) {\n          that.receiveMessageFromParent(event);\n        },\n        false\n      );\n    }\n  }\n\n  sendMessageToParent(message) {\n    logger.debug(`store: sendMessageToParent: ${message}`);\n    if (parent) {\n      parent.postMessage(message, \"*\"); // post multiple times to each domain you want leopard on. Specifiy origin for each post.\n      logger.debug(\"Message from Leopard >> Embed : \" + message);\n    }\n  }\n\n  receiveMessageFromParent(event) {\n    try {\n      // if (event.origin !== \"http://example.com:8080\") return;\n\n      if (event.data) {\n        let messageObject = JSON.parse(event.data);\n        if (\"info\" in messageObject && \"id\" in messageObject) {\n          return true;\n        }\n\n        logger.debug(\"Recived a message from parent...\");\n        logger.debug(messageObject);\n        // event.source.postMessage(\"This is a message sent back from Leopard to the site embedding Leopard\", event.origin);\n\n        if (\"leopardState\" in messageObject && messageObject.leopardState === \"closed\") {\n          this.store.commit(\"HIDE_CHAT_WINDOW_DISPLAY_EMBED\");\n          setTimeout(\n            function () {\n              if (this.config.EMBED && window.leopardConfig.embed.killSessionOnCloseEmbed) {\n                // should kill the session and clear dialog history\n                logger.info(\"Killing Teneo Session\");\n                this.store.dispatch(\"endTeneoSession\");\n                localStorage.removeItem(STORAGE_KEY + this.config.TENEO_LAST_INTERACTION_DATE);\n                localStorage.removeItem(STORAGE_KEY + this.config.TENEO_CHAT_HISTORY);\n                sessionStorage.removeItem(STORAGE_KEY + \"teneo-chat-history\");\n              }\n              this.store.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\n              return;\n            }.bind(this),\n            1000\n          );\n        }\n        if (\"height\" in messageObject && \"width\" in messageObject) {\n          logger.info(`Event from parent`, event);\n          this.store.state.ui.parent = {\n            height: messageObject.height,\n            width: messageObject.width\n          };\n          logger.debug(\n            `receiveMessageFromParent: height: ${messageObject.height} width: ${messageObject.width}`\n          );\n        } else {\n          this.store.state.connection.ctxParameters = messageObject;\n        }\n      }\n    } catch (error) {\n      return true;\n    }\n  }\n}\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n","'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n  this._timeout = options.timeout || 0;\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https:' && !secure) {\n    throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transport) {\n      this._transport.close();\n    }\n\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON3.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport && this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n","!function(e,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define(r):(e=e||self).VueLoadersLineScalePulseOutRapid=r()}(this,function(){\"use strict\";function r(e,r,n,o){return e(\"div\",{class:((i=r)in(t={\"vue-loaders\":a=!0})?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a,t),style:{transform:void 0!==n?\"scale(\".concat(n,\")\"):void 0}},o);var t,i,a}function n(e,r,n,o){var t=2<arguments.length&&void 0!==n?n:\"background-color\",i=3<arguments.length?o:void 0,a={};if(Array.isArray(t)&&void 0!==t[0]&&\"string\"!=typeof t[0]&&(i=t,t=\"background-color\"),t)if(Array.isArray(t)){var l=!0,c=!1,s=void 0;try{for(var u,f=t[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){a[u.value]=r}}catch(e){c=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}}else a[t]=r;return e(\"div\",{style:a},i)}var e,o,t,i=\"line-scale-pulse-out-rapid\";return o=(e={name:i,render:function(e){return r(e,i,this.scale,[n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color),n(e,this.color)])}}).name,t=\"VueLoaders\"+e.name.replace(/\\..+/,\"\").replace(/-[\\w]/g,function(e){return e.slice(-1).toUpperCase()}).replace(/^\\w/,function(e){return e.toUpperCase()}),{originName:o,component:Object.assign({props:{color:{type:String,default:\"#ffffff\"},scale:{type:[String,Number]}}},e,{name:t}),install:function(e){e.component(t,this.component)}}});\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","import Artyom from \"artyom.js\"; // for speech recognition and tts\nimport replaceString from \"replace-string\";\nconst logger = require(\"@/utils/logging\").getLogger(\"asr-tts.js\");\n\nexport function initializeTTS(locale) {\n  let tts = null;\n  // Artyom Speech Recognition and TTS\n  if (\n    Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\n    Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\n  ) {\n    tts = new Artyom();\n\n    if (locale === \"en-us-male\") {\n      tts.ArtyomVoicesIdentifiers[\"en-US\"] = [\n        \"Google US English\",\n        \"Microsoft David Desktop - English (United States)\",\n        \"en-US\",\n        \"en_US\"\n      ];\n    } else if (locale === \"en-us-female\") {\n      tts.ArtyomVoicesIdentifiers[\"en-US\"] = [\n        \"Microsoft Zira Desktop - English (United States)\",\n        \"Google US English\",\n        \"en-US\",\n        \"en_US\"\n      ];\n    } else if (locale === \"en-uk-male\") {\n      tts.ArtyomVoicesIdentifiers[\"en-GB\"] = [\n        \"Google UK English Male\",\n        \"Google UK English Female\",\n        \"en-GB\",\n        \"en_GB\"\n      ];\n    } else {\n      tts.ArtyomVoicesIdentifiers[\"en-GB\"] = [\n        \"Google UK English Female\",\n        \"Google UK English Male\",\n        \"en-GB\",\n        \"en_GB\"\n      ];\n    }\n\n    // artyom.ArtyomVoicesIdentifiers[\"en-ZA\"] = [\"Google US English\", \"en-US\", \"en_US\"];\n    tts.initialize({\n      soundex: true,\n      continuous: false,\n      listen: false, // Start recognizing\n      lang:\n        locale === \"fr\"\n          ? \"fr-FR\"\n          : locale === \"ru\"\n          ? \"ru-RU\"\n          : locale === \"da\"\n          ? \"da-DK\"\n          : locale === \"sv\"\n          ? \"sv-SE\"\n          : locale === \"no\"\n          ? \"no-NO\"\n          : locale === \"de\"\n          ? \"de-DE\"\n          : locale === \"it\"\n          ? \"it-IT\"\n          : locale === \"nl\"\n          ? \"nl-NL\"\n          : locale === \"es\"\n          ? \"es-ES\"\n          : locale === \"jp\"\n          ? \"ja-JP\"\n          : locale === \"cn\"\n          ? \"zh-CN\"\n          : locale === \"cn(hk)\"\n          ? \"zh-HK\"\n          : locale === \"id\"\n          ? \"id-ID\"\n          : locale.startsWith(\"en-us\")\n          ? \"en-US\"\n          : \"en-GB\",\n      debug: false\n    });\n  }\n  return tts;\n}\n\nexport function initializeASR(store, asrCorrections) {\n  // let asr = null;\n  let timeoutVar;\n  if (store.state.tts.tts !== null) {\n    store.state.asr.asr = store.state.tts.tts.newDictation({\n      soundex: true,\n      continuous: false, // Enable continuous if HTTPS connection\n      onResult: function(text) {\n        clearTimeout(timeoutVar);\n        // Do something with the text\n        if (text) {\n          //text = text.replace(/^\\w/, c => c.toUpperCase()); // upercases first letter of user input -- use cautiously\n          text = text.replace(/what's/gi, \"what is\");\n          store.commit(\"SET_USER_INPUT\", text);\n        }\n        timeoutVar = setTimeout(function() {\n          logger.debug(\"timeout - aborting recognition\");\n          store.state.asr.asr.stop();\n          if (text) {\n            store.commit(\"SET_USER_INPUT\", text); // final transcript from ASR\n          }\n        }, 800);\n      },\n      onStart: function() {\n        logger.debug(\"ASR capture started\");\n      },\n      onEnd: function() {\n        store.commit(\"HIDE_LISTENING_OVERLAY\");\n\n        if (store.getters.stopAudioCapture) {\n          logger.debug(\"ASR capture was manually stopped\");\n          store.commit(\"CLEAR_USER_INPUT\");\n          store.commit(\"STOP_AUDIO_CAPTURE\");\n          // store.state.asr.stopAudioCapture = false;\n          return;\n        }\n        // let's fix sany ASR transcription erros\n\n        if (store.getters.userInput) {\n          let fixedUserInput = store.getters.userInput;\n          logger.debug(\"Final Transcription from ASR: \" + store.state.userInput.userInput);\n          asrCorrections.forEach(replacement => {\n            let startingText = fixedUserInput;\n\n            if (replacement[0].indexOf(\".\") > -1) {\n              fixedUserInput = replaceString(\n                fixedUserInput.toLowerCase(),\n                replacement[0].toLowerCase(),\n                replacement[1].toLowerCase()\n              );\n            } else {\n              let search = replacement[0].replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"); // escase any special characters\n              var re = new RegExp(\"\\\\b\" + search + \"\\\\b\", \"gi\");\n              // fixedUserInput = fixedUserInput.toLowerCase().replace(re, replacement[1].toLowerCase());\n              fixedUserInput = fixedUserInput.replace(re, replacement[1]);\n            }\n\n            // logger.debug(\n            //   `Starting: ${startingText} | Ending: ${fixedUserInput}`\n            // );\n\n            if (startingText.toLowerCase() !== fixedUserInput.toLowerCase()) {\n              logger.debug(\n                \"Made a change to ASR response: \" + replacement[0] + \" >> \" + replacement[1]\n              );\n            }\n          });\n\n          if (store.getters.userInput.toLowerCase() !== fixedUserInput.toLowerCase()) {\n            store.commit(\"SET_USER_INPUT\", fixedUserInput);\n            logger.debug(`Final Transcription: ${fixedUserInput}`);\n          }\n\n          setTimeout(function() {\n            store.commit(\"USER_INPUT_READY_FOR_SENDING\");\n          }, 500);\n        }\n      }\n    });\n  }\n  // return asr;\n}\n","'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n","const logger = require(\"@/utils/logging\").getLogger(\"firebase.js\");\n\nexport default class Firebase {\n  static firebase;\n  static initialized = false;\n\n  static init() {\n    if (!Firebase.initialized) {\n      return new Promise(function(resolve, reject) {\n        Promise.all([\n          import(/* webpackChunkName: \"firebase\" */ \"firebase/app\"),\n          import(/* webpackChunkName: \"firebase\" */ \"firebase/auth\")\n        ])\n          .then(([firebase]) => {\n            if (firebase.apps.length === 0) {\n              logger.debug(\"Initializing Firebase\");\n              firebase.initializeApp({\n                apiKey: window.leopardConfig.firebase.apiKey,\n                authDomain: window.leopardConfig.firebase.authDomain,\n                projectId: window.leopardConfig.firebase.projectId,\n                storageBucket: window.leopardConfig.firebase.storageBucket,\n                messagingSenderId: window.leopardConfig.firebase.messagingSenderId\n              });\n            }\n            Firebase.firebase = firebase;\n            Firebase.initialized = true;\n            Firebase.initializing = false;\n            resolve(firebase);\n          })\n          .catch(err => {\n            reject(err);\n          });\n      });\n    }\n  }\n\n  static getInstance() {\n    if (Firebase.initialized) {\n      return Firebase.firebase;\n    } else {\n      throw new Error(\"Firebase not initialized\");\n    }\n  }\n}\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('CustomModal',{attrs:{\"items\":_vm.customModalItems,\"toolbar-width\":_vm.toolbarWidth}}),(_vm.showModal)?_c('v-dialog',{attrs:{\"leave-absolute\":\"\",\"scrollable\":\"\",\"persistent\":\"\",\"no-click-animation\":\"\",\"content-class\":_vm.embed && !_vm.fullscreenEmbed\n        ? 'teneo-modal-embed'\n        : _vm.fullscreenEmbed\n        ? 'teneo-modal-fullscreen'\n        : 'teneo-modal',\"hide-overlay\":\"\",\"width\":_vm.currentModalSize === 'small'\n        ? 360\n        : _vm.currentModalSize === 'medium'\n        ? 500\n        : _vm.currentModalSize === 'large'\n        ? 700\n        : 900,\"fullscreen\":_vm.fullscreen ||\n        _vm.currentModalSize === 'fullscreen' ||\n        _vm.currentModalPosition === 'fullscreen' ||\n        _vm.$vuetify.breakpoint.mdAndDown},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('v-card',[_c('v-fade-transition',[_c('v-overlay',{attrs:{\"absolute\":\"\",\"opacity\":\"0.7\",\"value\":_vm.overlay}},[_c('v-alert',{attrs:{\"border\":\"left\",\"light\":\"\",\"colored-border\":\"\",\"type\":\"info\",\"elevation\":\"2\"},on:{\"click\":function($event){_vm.overlay = false}}},[_vm._v(_vm._s(_vm.overlayMessage))])],1)],1),_c('v-system-bar',{class:{\n          'grab-cursor': !_vm.fullscreen && !_vm.embed && !_vm.$vuetify.breakpoint.mdAndDown,\n          'teneo-toolbar-embed': _vm.embed && !_vm.fullscreenEmbed,\n          'teneo-toolbar-embed-fullscreen': _vm.fullscreenEmbed\n        },attrs:{\"height\":\"25px\",\"color\":\"primary darken-3\",\"dark\":\"\"}},[_c('v-spacer',{staticClass:\"teneo-systembar-spacer\",staticStyle:{\"height\":\"30px\"}}),(\n            _vm.currentModalPosition !== 'fullscreen' &&\n              _vm.currentModalSize !== 'fullscreen' &&\n              !_vm.embed &&\n              !_vm.$vuetify.breakpoint.mdAndDown\n          )?_c('v-icon',{attrs:{\"tabindex\":\"0\",\"tag\":\"button\",\"aria-label\":_vm.fullscreen ? 'Restore dialog size' : 'Maximize dialog'},on:{\"click\":_vm.toggleFullscreen}},[_vm._v(_vm._s(_vm.fullscreen ? \"mdi-window-restore\" : \"mdi-window-maximize\"))]):_vm._e(),_c('v-icon',{attrs:{\"tag\":\"button\",\"aria-label\":\"Close dialog\",\"tabindex\":\"0\"},on:{\"click\":_vm.hideModal}},[_vm._v(\"mdi-close\")])],1),_c('v-app-bar',{attrs:{\"dense\":_vm.title.length < 43,\"color\":(\"primary \" + (_vm.textColor('primary')))}},[_c('h2',{staticClass:\"subtitle-1\",attrs:{\"aria-label\":_vm.aria ? _vm.aria : _vm.title ? _vm.title : _vm.$t('more.info.title')}},[_vm._v(_vm._s(_vm.title ? _vm.title : _vm.$t(\"more.info.title\")))]),_c('v-spacer')],1),_c('v-card-text',{staticClass:\"px-2 mx-0 py-0\",class:{ 'dark-scroll': _vm.dark, 'light-scroll': !_vm.dark },staticStyle:{\"height\":\"90%\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"start\",\"justify\":\"start\"}},[_c('v-col',{staticClass:\"pa-2\",attrs:{\"cols\":\"12\"}},[(_vm.subTitle)?_c('div',{staticClass:\"subtitle-2 font-weight-bold\",domProps:{\"innerHTML\":_vm._s(_vm.subTitle)}}):_vm._e(),_c('YouTube',{attrs:{\"video-id\":_vm.youTubeVideoId}}),_c('Vimeo',{attrs:{\"video-id\":_vm.vimeoVideoId}}),_c('Audio',{attrs:{\"url\":_vm.audioUrl}}),_c('Video',{attrs:{\"url\":_vm.videoUrl,\"type\":_vm.videoType}}),(_vm.address)?_c('Map',{attrs:{\"address\":_vm.address}}):_vm._e(),_c('ImageAnimation',{attrs:{\"url\":_vm.imageUrl}}),_c('Carousel',{attrs:{\"image-items\":_vm.images}}),(_vm.itinerary || _vm.bodyText || _vm.transactionItems.length || _vm.tableRows.length)?_c('div',[(_vm.itinerary)?_c('FlightItinerary',{attrs:{\"itinerary\":_vm.itinerary}}):_vm._e(),(_vm.bodyText)?_c('v-card-text',{staticClass:\"cardText\",attrs:{\"id\":\"chat-modal-html\",\"scrollable\":\"\"},domProps:{\"innerHTML\":_vm._s(_vm.bodyText)}}):_vm._e(),(_vm.transactionItems.length > 0 || _vm.tableRows.length > 0)?_c('v-row',{staticClass:\"fill-height mx-1\",attrs:{\"align\":\"end\",\"justify\":\"start\"}},[(_vm.tableTitle)?_c('v-row',[_c('v-col',{staticClass:\"ml-4\",attrs:{\"cols\":\"8\"}},[_c('h3',[_vm._v(_vm._s(_vm.tableTitle))])])],1):_c('v-spacer'),(_vm.tableEnableSearch)?_c('v-col',{staticClass:\"mr-2\",attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-table-search\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1):_vm._e()],1):_vm._e(),_c('MyBankTransactions',{attrs:{\"headers\":_vm.transactionHeaders,\"items\":_vm.transactionItems,\"search\":_vm.search}}),_c('Table',{attrs:{\"headers\":_vm.tableHeaders,\"items\":_vm.tableRows,\"search\":_vm.search,\"footer\":_vm.tableFooter,\"rows-per-page\":_vm.tableRowsPerPage}})],1):_vm._e()],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:(['ctrl', 'alt', 'arrowleft']),expression:\"['ctrl', 'alt', 'arrowleft']\"}],attrs:{\"id\":\"leopard-back-to-chat-button\",\"color\":\"secondary white--text\",\"small\":\"\"},nativeOn:{\"click\":function($event){return _vm.hideModal($event)},\"shortkey\":function($event){return _vm.hideModal($event)}}},[_vm._v(_vm._s(_vm.$t(\"back.to.chat.button\")))])],1)],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span>\n    <CustomModal :items=\"customModalItems\" :toolbar-width=\"toolbarWidth\"></CustomModal>\n    <!-- Display Pusher Message -->\n    <!-- <Pusher\n      :displayPusherMessage=\"displayPusherMessage\"\n      :pusherMessage=\"pusherMessage\"\n    ></Pusher>-->\n\n    <!-- show normal message -->\n    <v-dialog\n      v-if=\"showModal\"\n      v-model=\"showModal\"\n      leave-absolute\n      scrollable\n      persistent\n      no-click-animation\n      :content-class=\"\n        embed && !fullscreenEmbed\n          ? 'teneo-modal-embed'\n          : fullscreenEmbed\n          ? 'teneo-modal-fullscreen'\n          : 'teneo-modal'\n      \"\n      hide-overlay\n      :width=\"\n        currentModalSize === 'small'\n          ? 360\n          : currentModalSize === 'medium'\n          ? 500\n          : currentModalSize === 'large'\n          ? 700\n          : 900\n      \"\n      :fullscreen=\"\n        fullscreen ||\n          currentModalSize === 'fullscreen' ||\n          currentModalPosition === 'fullscreen' ||\n          $vuetify.breakpoint.mdAndDown\n      \"\n    >\n      <v-card>\n        <v-fade-transition>\n          <v-overlay absolute opacity=\"0.7\" :value=\"overlay\">\n            <v-alert\n              border=\"left\"\n              light\n              colored-border\n              type=\"info\"\n              elevation=\"2\"\n              @click=\"overlay = false\"\n            >{{ overlayMessage }}</v-alert>\n          </v-overlay>\n        </v-fade-transition>\n        <v-system-bar\n          height=\"25px\"\n          color=\"primary darken-3\"\n          :class=\"{\n            'grab-cursor': !fullscreen && !embed && !$vuetify.breakpoint.mdAndDown,\n            'teneo-toolbar-embed': embed && !fullscreenEmbed,\n            'teneo-toolbar-embed-fullscreen': fullscreenEmbed\n          }\"\n          dark\n        >\n          <v-spacer style=\"height:30px\" class=\"teneo-systembar-spacer\"></v-spacer>\n          <v-icon\n            v-if=\"\n              currentModalPosition !== 'fullscreen' &&\n                currentModalSize !== 'fullscreen' &&\n                !embed &&\n                !$vuetify.breakpoint.mdAndDown\n            \"\n            tabindex=\"0\"\n            tag=\"button\"\n            :aria-label=\"fullscreen ? 'Restore dialog size' : 'Maximize dialog'\"\n            @click=\"toggleFullscreen\"\n          >{{ fullscreen ? \"mdi-window-restore\" : \"mdi-window-maximize\" }}</v-icon>\n          <v-icon tag=\"button\" aria-label=\"Close dialog\" tabindex=\"0\" @click=\"hideModal\">mdi-close</v-icon>\n        </v-system-bar>\n\n        <v-app-bar :dense=\"title.length < 43\" :color=\"`primary ${textColor('primary')}`\">\n          <h2\n            class=\"subtitle-1\"\n            :aria-label=\"aria ? aria : title ? title : $t('more.info.title')\"\n          >{{ title ? title : $t(\"more.info.title\") }}</h2>\n          <v-spacer></v-spacer>\n        </v-app-bar>\n        <v-card-text\n          style=\"height: 90%;\"\n          class=\"px-2 mx-0 py-0\"\n          :class=\"{ 'dark-scroll': dark, 'light-scroll': !dark }\"\n        >\n          <v-container fluid>\n            <v-row align=\"start\" justify=\"start\">\n              <v-col cols=\"12\" class=\"pa-2\">\n                <!-- display the modal title and sub-title -->\n\n                <!-- Sub-Title -->\n                <div v-if=\"subTitle\" class=\"subtitle-2 font-weight-bold\" v-html=\"subTitle\"></div>\n\n                <!-- YouTube -->\n                <YouTube :video-id=\"youTubeVideoId\"></YouTube>\n\n                <!-- Vimeo -->\n                <Vimeo :video-id=\"vimeoVideoId\"></Vimeo>\n\n                <!-- Audio -->\n                <Audio :url=\"audioUrl\"></Audio>\n\n                <!-- Misc Video -->\n                <Video :url=\"videoUrl\" :type=\"videoType\"></Video>\n\n                <!-- Gogle Map -->\n                <Map v-if=\"address\" :address=\"address\"></Map>\n\n                <!-- show an image if available -->\n                <ImageAnimation :url=\"imageUrl\"></ImageAnimation>\n\n                <!-- show a carousel of images if available -->\n                <Carousel :image-items=\"images\"></Carousel>\n\n                <!-- Show the body text, flight itineary, and any tables if available -->\n                <div v-if=\"itinerary || bodyText || transactionItems.length || tableRows.length\">\n                  <!-- Show the flight itinerary -->\n                  <FlightItinerary v-if=\"itinerary\" :itinerary=\"itinerary\"></FlightItinerary>\n\n                  <!-- show the body text -->\n                  <v-card-text\n                    v-if=\"bodyText\"\n                    id=\"chat-modal-html\"\n                    class=\"cardText\"\n                    scrollable\n                    v-html=\"bodyText\"\n                  ></v-card-text>\n\n                  <!-- data tables -->\n                  <v-row\n                    v-if=\"transactionItems.length > 0 || tableRows.length > 0\"\n                    class=\"fill-height mx-1\"\n                    align=\"end\"\n                    justify=\"start\"\n                  >\n                    <!-- table title -->\n                    <v-row v-if=\"tableTitle\">\n                      <v-col cols=\"8\" class=\"ml-4\">\n                        <h3>{{ tableTitle }}</h3>\n                      </v-col>\n                    </v-row>\n                    <v-spacer v-else></v-spacer>\n                    <!-- show a search input box for the table -->\n                    <v-col v-if=\"tableEnableSearch\" cols=\"4\" class=\"mr-2\">\n                      <v-text-field\n                        v-model=\"search\"\n                        append-icon=\"mdi-table-search\"\n                        label=\"Search\"\n                        single-line\n                        hide-details\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n\n                  <!-- Show the MyBank Transactions as a Table -->\n                  <MyBankTransactions\n                    :headers=\"transactionHeaders\"\n                    :items=\"transactionItems\"\n                    :search=\"search\"\n                  ></MyBankTransactions>\n\n                  <!-- Show a Generic Data Table -->\n                  <Table\n                    :headers=\"tableHeaders\"\n                    :items=\"tableRows\"\n                    :search=\"search\"\n                    :footer=\"tableFooter\"\n                    :rows-per-page=\"tableRowsPerPage\"\n                  ></Table>\n                </div>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn\n            id=\"leopard-back-to-chat-button\"\n            v-shortkey=\"['ctrl', 'alt', 'arrowleft']\"\n            color=\"secondary white--text\"\n            small\n            @click.native=\"hideModal\"\n            @shortkey.native=\"hideModal\"\n          >{{ $t(\"back.to.chat.button\") }}</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </span>\n</template>\n\n<script>\nimport { stripHtmlTags, removeAll } from \"@/utils/utils\";\nimport { mapGetters } from \"vuex\";\n\nconst logger = require(\"@/utils/logging\").getLogger(\"Modal.vue\");\n\nexport default {\n  components: {\n    Audio: () => import(\"@/components/Audio\"),\n    Carousel: () => import(\"@/components/Carousel\"),\n    CustomModal: () => import(\"@/components/CustomModal\"),\n    FlightItinerary: () => import(\"@/components/FlightItinerary\"),\n    ImageAnimation: () => import(\"@/components/ImageAnimation\"),\n    MyBankTransactions: () => import(\"@/components/MyBankTransactions\"),\n    Map: () => import(\"@/components/Map\"),\n    // Pusher,\n    Table: () => import(\"@/components/Table\"),\n    Video: () => import(\"@/components/Video\"),\n    Vimeo: () => import(\"@/components/Vimeo\"),\n    YouTube: () => import(\"@/components/YouTube\")\n  },\n  data() {\n    return {\n      actions: \"\",\n      audioType: \"\",\n      audioUrl: \"\",\n      bodyText: \"\",\n      customModalItems: [],\n      displayPusherMessage: false,\n      images: [],\n      imageUrl: \"\",\n      itinerary: \"\",\n      fullscreen: false,\n      overlay: false,\n      overlayMessage: \"\",\n      currentModalPosition: \"center\", // left / right / center / fullscreen\n      currentModalSize: \"small\", // small / medium / large / x-large / fullscreen \"\" = full screen\n      pusherEnabled: false,\n      pusherMessage: \"\",\n      search: \"\",\n      showCustomModal: false,\n      showModal: false,\n      subTitle: \"\",\n      tableFooter: \"\",\n      tableHeaders: [],\n      tableRows: [],\n      tableTitle: \"\",\n      tableEnableSearch: false,\n      tableRowsPerPage: [5, 10, 25],\n      title: \"\",\n      aria: \"\",\n      transactionHeaders: [\n        {\n          align: \"left\",\n          sortable: false,\n          text: \"Date\",\n          value: \"date\",\n          width: \"20%\"\n        },\n        {\n          align: \"left\",\n          text: \"Description\",\n          value: \"description\",\n          width: \"65%\"\n        },\n        {\n          align: \"right\",\n          sortable: true,\n          text: \"Amount\",\n          value: \"amount\",\n          width: \"15%\"\n        }\n      ],\n      transactionItems: [],\n      videoType: \"\",\n      videoUrl: \"\",\n      address: \"\",\n      vimeoVideoId: \"\",\n      youTubeVideoId: \"\"\n    };\n  },\n  computed: {\n    ...mapGetters([\n      \"dark\",\n      \"embed\",\n      \"textColor\",\n      \"fullscreenEmbed\",\n      \"showButtonOnly\",\n      \"extensionIsInline\",\n      \"hasInline\",\n      \"hasModal\",\n      \"hasInlineType\",\n      \"iFrameUrlBase\",\n      \"itemExtensions\",\n      \"itemExtensionsModal\",\n      \"isAudioFile\",\n      \"isLiveChat\",\n      \"isVideoFile\",\n      \"liveChatTranscript\",\n      \"modalItem\",\n      \"modalSize\",\n      \"modalPosition\",\n      \"outputLink\",\n      \"userInput\",\n      \"vimeoIdFromUrl\",\n      \"youTubeIdFromUrl\",\n      \"itemHasLongResponse\"\n    ]),\n    showPusher() {\n      // if (this.displayPusherMessage) {\n      //   return true;\n      // }\n      // return false;\n      return false;\n    },\n    toolbarWidth() {\n      if (this.currentModalSize) {\n        logger.debug(\"Adjusted the custom modal toolbar style\");\n        return `teneo-modal-${this.currentModalSize}-width`;\n      }\n      return \"\";\n    }\n  },\n  watch: {\n    fullscreen(mustBeFullscreen) {\n      if (mustBeFullscreen) {\n        this.removeCustomStylesFromModal();\n      } else {\n        this.modalClass();\n      }\n    },\n    showModal(newValue) {\n      if (newValue) {\n        this.$store.commit(\"HIDE_508_CONTENT\");\n        logger.info(`Modal Open - Hiding 508 content in the chat window`);\n      } else {\n        this.$store.commit(\"SHOW_508_CONTENT\");\n        logger.info(`Modal Closed - Hiding 508 content in the chat window`);\n      }\n    },\n    modalItem() {\n      if (\n        (this.modalItem && this.$store.getters.showModal) ||\n        this.itemHasLongResponse(this.modalItem)\n      ) {\n        logger.debug(\"About to RESET MODAL\");\n        this.resetModal();\n        const item = this.modalItem;\n        const transcript = this.liveChatTranscript(item);\n        let displayModal = false;\n\n        // check if user wants to talk to a live agent\n        logger.debug(`Live Chat? :${this.isLiveChat}`);\n        if (transcript && this.isLiveChat) {\n          this.$store.commit(\n            \"LIVE_CHAT\",\n            `======= VIRTUAL ASSISTANT CONVERSATION HISTORY =======\\n${transcript}====================================================\\n`\n          );\n          this.$store.commit(\"HIDE_CHAT_MODAL\"); // stops the transcript from being sent back constantly during a live chat\n        }\n        // send URL's to the I-FRAME\n        const outputUrl = this.outputLink(item);\n        if (outputUrl !== \"\" && !this.showButtonOnly) {\n          if (String(outputUrl).startsWith(\"./\")) {\n            const currentIframeUrl = this.iFrameUrlBase + outputUrl.substring(2, outputUrl.length);\n            this.$store.commit(\"UPDATE_FRAME_URL\", currentIframeUrl);\n          } else {\n            this.$store.commit(\"UPDATE_FRAME_URL\", outputUrl);\n          }\n        }\n\n        if (this.hasModal(this.modalItem)) {\n          const extensions = this.itemExtensionsModal(item);\n          extensions.forEach(extension => {\n            this.transactionItems = [];\n            displayModal = true;\n\n            if (extension.title) {\n              this.title = extension.title;\n            }\n            if (extension.aria) {\n              this.aria = extension.aria;\n            }\n\n            // check for modal sizes and positions\n            if (this.modalSize(item)) {\n              this.currentModalSize = this.modalSize(item);\n            }\n\n            if (this.modalPosition(item)) {\n              this.currentModalPosition = this.modalPosition(item);\n            }\n\n            // check for flight itinerary\n            if (extension.name === \"displayItinerary\") {\n              this.subTitle = this.getFirstChunk(item.text);\n              this.itinerary = extension.parameters;\n            }\n\n            // check for displayTranactionTable - myBank\n            if (extension.name === \"displayTable\") {\n              if (\"overrideTitle\" in extension.parameters && extension.parameters.overrideTitle) {\n                // this.title = extension.parameters.title;\n              } else {\n                // if (!this.title) {\n                //   this.title = this.getFirstChunk(item.text);\n                // }\n                this.tableTitle = extension.parameters.title;\n              }\n              this.tableEnableSearch = extension.parameters.enableSearch;\n              this.tableRows = extension.parameters.rows;\n              this.tableHeaders = extension.parameters.headers;\n              this.tableRowsPerPage = extension.parameters.rowsPerPage;\n            }\n\n            // check for displayTranactionTable - myBank\n            if (extension.name === \"displayTransactionsTable\") {\n              // if (!this.title) {\n              //   this.title = this.getFirstChunk(item.text);\n              // }\n              this.transactionItems = [];\n              extension.parameters.transactions.transactions.forEach(transaction => {\n                logger.debug(transaction);\n                this.transactionItems.push({\n                  date: transaction.Date,\n                  description: transaction.Description,\n                  amount: transaction.Amount\n                });\n              });\n            }\n\n            // check for display image action\n            if (extension.name === \"displayImage\") {\n              this.imageUrl = extension.parameters.image_url;\n            }\n\n            // check for display image action\n            if (extension.name === \"displayImageCarousel\") {\n              this.images = extension.parameters.images;\n            }\n\n            // check for basic card action\n            if (extension.name === \"displayBasicCard\") {\n              this.title = extension.parameters.title;\n              this.bodyText = extension.parameters.content;\n            }\n\n            // check for image card action\n            if (extension.name === \"displayImageCard\") {\n              this.title = extension.parameters.title;\n              this.bodyText = extension.parameters.content;\n              this.imageUrl = extension.parameters.image_url;\n            }\n\n            // check for panel card action\n            if (extension.name === \"displayPanelCard\") {\n              this.bodyText = extension.parameters.content;\n            }\n\n            // Check for a custom modal layout\n            if (String(extension.name).startsWith(\"displayModal\")) {\n              displayModal = false;\n              this.showCustomModal = true;\n              this.customModalItems = extension.items;\n              this.$store.commit(\"SHOW_CUSTOM_MODAL\");\n            }\n\n            // check for horizontal card action\n            if (extension.name === \"displayHorizontalCard\") {\n              this.imageUrl = extension.parameters.image;\n              this.title = extension.parameters.title;\n              this.bodyText = extension.parameters.content;\n            }\n\n            if (extension.name === \"displayMap\") {\n              this.address = extension.parameters.address;\n            }\n\n            // check for display video action\n            if (extension.name === \"displayVideo\") {\n              const url = extension.parameters.video_url;\n              let videoId = this.youTubeIdFromUrl(url);\n              if (!videoId) {\n                videoId = this.vimeoIdFromUrl(url);\n                logger.debug(`vimeoid: ${videoId}`);\n                if (videoId) {\n                  this.vimeoVideoId = videoId;\n                } else {\n                  const audioFileExt = this.isAudioFile(url);\n                  if (audioFileExt) {\n                    this.audioType = `audio/${audioFileExt}`;\n                    this.audioUrl = url;\n                  } else {\n                    const videoFileExt = this.isVideoFile(url);\n                    if (videoFileExt) {\n                      this.videoType = `video/${videoFileExt}`;\n                      this.videoUrl = url;\n                    }\n                  }\n                }\n              } else {\n                this.youTubeVideoId = videoId;\n              }\n            }\n            if (this.title) {\n              this.subTitle = this.getFirstChunk(item.text);\n            }\n            if (!this.title) {\n              this.title = this.getFirstChunk(item.text);\n            }\n          });\n        }\n        if (this.itemHasLongResponse(this.modalItem)) {\n          this.title = decodeURIComponent(this.modalItem.teneoResponse.lastinput);\n          this.bodyText = this.modalItem.text;\n          // this.bodyText = this.modalItem.text.replace(\n          //   /(?:\\r\\n|\\r|\\n)/g,\n          //   \"<br/><br/>\"\n          // );\n          displayModal = true;\n        }\n        // look for anchors with callbacks\n        if (this.bodyText) {\n          this.bodyText = this.bodyText.replace(\n            /(?:onclick='DI\\.VA\\.hope\\.sendInput\\(\")([^\"]+)(?:\"\\)')/g,\n            'data-input=\"$1\" class=\"sendInput\"'\n          );\n        }\n        this.showModal = displayModal;\n\n        if (this.title.length > 90) {\n          this.subTitle = this.title;\n          this.title = \"\";\n        }\n        this.title = stripHtmlTags(this.title);\n      } else {\n        this.showModal = false;\n      }\n    }\n  },\n  mounted() {\n    // if (this.pusherEnabled) {\n    //   logger.debug(\"Setting up pusher\");\n    //   this.$pusher.subscribe(\"web-channel\");\n    //   logger.debug(\"Subscribed to 'web-channel'\");\n    //   let that = this;\n    //   this.$pusher.bind(\n    //     \"some-event-and-possibly-some-unique-id-for-user\",\n    //     data => {\n    //       logger.debug(\"Message from Teneo: \" + data.message);\n    //       that.pusherMessage = data.message;\n    //       that.displayPusherMessage = true;\n    //     },\n    //     null\n    //   );\n    // }\n  },\n  updated() {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        const elements = document.getElementsByClassName(\"plyr__control--overlaid\");\n        if (elements.length > 0) {\n          elements.forEach(element => {\n            element.focus();\n          });\n        } else {\n          const backButton = document.getElementById(\"leopard-back-to-chat-button\");\n          if (backButton) {\n            backButton.focus();\n          }\n        }\n        const iframes = document.getElementsByTagName(\"iframe\");\n        iframes.forEach(iframe => {\n          if (iframe.hasAttribute(\"allow\")) {\n            const allowValue = iframe.getAttribute(\"allow\");\n            if (allowValue.indexOf(\"accelerometer\") !== -1) {\n              iframe.setAttribute(\"tabindex\", \"-1\");\n            }\n          }\n        });\n      }, 1000);\n    });\n\n    this.modalClass();\n    if (this.bodyText) {\n      const chatModalDiv = document.getElementById(\"chat-modal-html\");\n      if (chatModalDiv) {\n        chatModalDiv.addEventListener(\"click\", this.onHtmlClickInModal);\n      }\n    }\n  },\n  methods: {\n    // handleFocus() {\n    //   this.$store.commit(\"HIDE_508_CONTENT\");\n    //   logger.info(`Modal Has Focus - Hiding 508 content in the chat window`);\n    // },\n    toggleFullscreen() {\n      const modalElements = document.getElementsByClassName(\"teneo-modal\");\n      modalElements[0].setAttribute(\"style\", \"\");\n      this.fullscreen = !this.fullscreen;\n    },\n    getFirstChunk(text) {\n      if (text && text.includes(\"||\")) {\n        return text.split(\"||\")[0];\n      }\n      return text;\n    },\n    modalClass() {\n      if (!this.fullscreen) {\n        logger.debug(\"Applying custom modal size and position\");\n        logger.debug(\"Adding sizing and position styles to modal\");\n        const modalElements = document.getElementsByClassName(\"teneo-modal\");\n        if (modalElements && this.currentModalSize) {\n          for (let i = 0; i < modalElements.length; i += 1) {\n            if (\n              this.currentModalSize !== \"fullscreen\" &&\n              this.currentModalPosition !== \"fullscreen\"\n            ) {\n              modalElements[i].className = removeAll(modalElements[i].className, [\n                \"teneo-modal-left\",\n                \"teneo-modal-center\",\n                \"teneo-modal-right\",\n                \"teneo-modal-fullscreen\"\n              ]);\n              modalElements[i].className += ` teneo-modal-${this.currentModalPosition}`;\n            }\n          }\n        }\n      } else {\n        this.removeCustomStylesFromModal();\n      }\n    },\n    removeCustomStylesFromModal() {\n      logger.debug(\"removing custom styles from modal\");\n      const modalElements = document.getElementsByClassName(\"teneo-modal\");\n      if (modalElements) {\n        for (let i = 0; i < modalElements.length; i += 1) {\n          logger.debug(\"Removing existing modal size and position styles - reset\");\n          modalElements[i].classList.remove(\"teneo-modal-center\");\n          modalElements[i].classList.remove(\"teneo-modal-right\");\n          modalElements[i].classList.remove(\"teneo-modal-left\");\n          modalElements[i].classList.remove(\"teneo-modal-small-width\");\n          modalElements[i].classList.remove(\"teneo-modal-medium-width\");\n          modalElements[i].classList.remove(\"teneo-modal-large-width\");\n          modalElements[i].classList.remove(\"teneo-modal-x-large-width\");\n        }\n      }\n    },\n    onHtmlClickInModal(event) {\n      logger.debug(\"html link clicked in modal\");\n      // Find the closest anchor to the target.\n      const anchor = event.target.closest(\"a\");\n      if (!anchor) return;\n\n      // Check to make sure this is from our v-html because\n      // we don't want to handle clicks from other things in\n      // the Vue\n      if (!anchor.classList.contains(\"sendInput\") && !anchor.classList.contains(\"openInIframe\")) {\n        // basically treat like a normal link\n      } else if (anchor.classList.contains(\"openInIframe\")) {\n        // open in iframe\n        event.stopPropagation();\n        event.preventDefault();\n        this.$store.commit(\"UPDATE_FRAME_URL\", anchor.getAttribute(\"href\"));\n      } else {\n        event.stopPropagation();\n        event.preventDefault();\n        if (anchor.getAttribute(\"data-input\")) {\n          this.updateInputBox(anchor.getAttribute(\"data-input\"));\n        } else {\n          this.updateInputBox(anchor.innerText);\n        }\n        this.sendUserInput(\"&isClick=true\");\n      }\n    },\n    sendUserInput(params = \"\") {\n      if (this.userInput) {\n        this.$store.commit(\"SHOW_PROGRESS_BAR\");\n        this.$store.dispatch(\"sendUserInput\", params);\n      }\n    },\n    updateInputBox(userInput) {\n      this.$store.commit(\"SET_USER_INPUT\", userInput);\n    },\n    hideModal() {\n      this.$store.commit(\"HIDE_CHAT_MODAL\");\n      this.$store.commit(\"SHOW_508_CONTENT\");\n      const that = this;\n      logger.debug(\"About to RESET MODAL to defaults\");\n      setTimeout(() => {\n        that.resetModal();\n      }, 1000); // needed to stop weird animations on the close\n    },\n    resetModal() {\n      this.actions = \"\";\n      this.audioType = \"\";\n      this.audioUrl = \"\";\n      this.bodyText = \"\";\n      this.customModalItems = [];\n      this.imageUrl = \"\";\n      this.images = [];\n      this.itinerary = null;\n      this.fullscreen = false;\n      this.overlay = false;\n      this.overlayMessage = \"\";\n      this.currentModalPosition = \"center\";\n      this.currentModalSize = \"small\";\n      this.removeCustomStylesFromModal();\n      this.search = \"\";\n      this.showCustomModal = false;\n      this.showModal = false;\n      this.subTitle = \"\";\n      this.tableFooter = \"\";\n      this.tableHeaders = [];\n      this.tableRows = [];\n      this.tableTitle = \"\";\n      this.tableEnableSearch = false;\n      this.tableRowsPerPage = [5, 10, 25];\n      this.title = \"\";\n      this.aria = \"\";\n      this.transactionItems = [];\n      this.videoType = \"\";\n      this.videoUrl = \"\";\n      this.address = \"\";\n      this.vimeoVideoId = \"\";\n      this.youTubeVideoId = \"\";\n    }\n  }\n};\n</script>\n\n<style>\n.v-toolbar--fixed {\n  z-index: 5000;\n  left: unset !important;\n}\n\n.modal-container {\n  padding: 0;\n}\n\n.modal-height {\n  height: fit-content;\n  min-height: calc(100vh - 64px) !important;\n}\n\n.v-menu__content {\n  position: inherit !important;\n}\n\n.cardText {\n  padding-top: 5px;\n  text-align: left;\n}\n\n.modal-headline {\n  font-size: 0.7em;\n}\n\n#chat-modal-html {\n  padding-right: 0 !important;\n  padding-left: 0 !important;\n}\n\n.cardText table {\n  width: 100%;\n  border: 1px solid;\n  border-spacing: 0;\n}\n\n.cardText table td,\n.cardText table th {\n  padding: 3px 10px;\n  font-size: 1em;\n}\n\n.cardText table thead th {\n  border-left: 1px solid black;\n  color: white;\n  background-color: rgb(152, 52, 53);\n  font-size: 1em;\n}\n\n.cardText table td.summaryHeader {\n  color: white;\n  background-color: rgb(22, 54, 102, 0.8);\n}\n\n.cardText table tbody td {\n  border-left: 1px solid black;\n  font-size: 12px;\n  font-weight: 700;\n}\n\n.cardText table tbody td:first-child {\n  border-left: none;\n}\n\n.cardText table tbody tr:last-child td {\n  border-bottom: none;\n}\n\n.teneo-modal {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.teneo-modal-embed {\n  overflow-x: hidden;\n  overflow-y: auto;\n  border-radius: 4px !important;\n}\n\n.teneo-modal-fullscreen {\n  overflow-x: hidden;\n  overflow-y: auto;\n  border-radius: 0 !important;\n}\n\n.teneo-modal-card {\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: auto;\n}\n\n.teneo-modal-right {\n  right: 20px;\n  left: unset;\n}\n\n.teneo-modal-left {\n  right: unset;\n  left: 20px;\n}\n\n@media only screen and (max-width: 480px) {\n  .modal-fly-out {\n    width: 100% !important;\n  }\n\n  .teneo-modal-right {\n    right: 0;\n  }\n\n  .teneo-modal-left {\n    left: 0;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=2a0cbe70&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFadeTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAppBar,VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VDialog,VDivider,VFadeTransition,VIcon,VOverlay,VRow,VSpacer,VSystemBar,VTextField})\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n","import { consoleWarn } from './console'\nimport { chunk, padEnd } from './helpers'\nimport { toXYZ } from './color/transformSRGB'\n\nexport type ColorInt = number\nexport type XYZ = [number, number, number]\nexport type LAB = [number, number, number]\nexport type HSV = { h: number, s: number, v: number }\nexport type HSVA = HSV & { a: number }\nexport type RGB = { r: number, g: number, b: number }\nexport type RGBA = RGB & { a: number }\nexport type HSL = { h: number, s: number, l: number }\nexport type HSLA = HSL & { a: number }\nexport type Hex = string\nexport type Hexa = string\nexport type Color = string | number | {}\n\nexport function colorToInt (color: Color): ColorInt {\n  let rgb\n\n  if (typeof color === 'number') {\n    rgb = color\n  } else if (typeof color === 'string') {\n    let c = color[0] === '#' ? color.substring(1) : color\n    if (c.length === 3) {\n      c = c.split('').map(char => char + char).join('')\n    }\n    if (c.length !== 6) {\n      consoleWarn(`'${color}' is not a valid rgb color`)\n    }\n    rgb = parseInt(c, 16)\n  } else {\n    throw new TypeError(`Colors can only be numbers or strings, recieved ${color == null ? color : color.constructor.name} instead`)\n  }\n\n  if (rgb < 0) {\n    consoleWarn(`Colors cannot be negative: '${color}'`)\n    rgb = 0\n  } else if (rgb > 0xffffff || isNaN(rgb)) {\n    consoleWarn(`'${color}' is not a valid rgb color`)\n    rgb = 0xffffff\n  }\n\n  return rgb\n}\n\nexport function intToHex (color: ColorInt): string {\n  let hexColor: string = color.toString(16)\n\n  if (hexColor.length < 6) hexColor = '0'.repeat(6 - hexColor.length) + hexColor\n\n  return '#' + hexColor\n}\n\nexport function colorToHex (color: Color): string {\n  return intToHex(colorToInt(color))\n}\n\n/**\n * Converts HSVA to RGBA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color HSVA color as an array [0-360, 0-1, 0-1, 0-1]\n */\nexport function HSVAtoRGBA (hsva: HSVA): RGBA {\n  const { h, s, v, a } = hsva\n  const f = (n: number) => {\n    const k = (n + (h / 60)) % 6\n    return v - v * s * Math.max(Math.min(k, 4 - k, 1), 0)\n  }\n\n  const rgb = [f(5), f(3), f(1)].map(v => Math.round(v * 255))\n\n  return { r: rgb[0], g: rgb[1], b: rgb[2], a }\n}\n\n/**\n * Converts RGBA to HSVA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color RGBA color as an array [0-255, 0-255, 0-255, 0-1]\n */\nexport function RGBAtoHSVA (rgba: RGBA): HSVA {\n  if (!rgba) return { h: 0, s: 1, v: 1, a: 1 }\n\n  const r = rgba.r / 255\n  const g = rgba.g / 255\n  const b = rgba.b / 255\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n\n  let h = 0\n\n  if (max !== min) {\n    if (max === r) {\n      h = 60 * (0 + ((g - b) / (max - min)))\n    } else if (max === g) {\n      h = 60 * (2 + ((b - r) / (max - min)))\n    } else if (max === b) {\n      h = 60 * (4 + ((r - g) / (max - min)))\n    }\n  }\n\n  if (h < 0) h = h + 360\n\n  const s = max === 0 ? 0 : (max - min) / max\n  const hsv = [h, s, max]\n\n  return { h: hsv[0], s: hsv[1], v: hsv[2], a: rgba.a }\n}\n\nexport function HSVAtoHSLA (hsva: HSVA): HSLA {\n  const { h, s, v, a } = hsva\n\n  const l = v - (v * s / 2)\n\n  const sprime = l === 1 || l === 0 ? 0 : (v - l) / Math.min(l, 1 - l)\n\n  return { h, s: sprime, l, a }\n}\n\nexport function HSLAtoHSVA (hsl: HSLA): HSVA {\n  const { h, s, l, a } = hsl\n\n  const v = l + s * Math.min(l, 1 - l)\n\n  const sprime = v === 0 ? 0 : 2 - (2 * l / v)\n\n  return { h, s: sprime, v, a }\n}\n\nexport function RGBAtoCSS (rgba: RGBA): string {\n  return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`\n}\n\nexport function RGBtoCSS (rgba: RGBA): string {\n  return RGBAtoCSS({ ...rgba, a: 1 })\n}\n\nexport function RGBAtoHex (rgba: RGBA): Hex {\n  const toHex = (v: number) => {\n    const h = Math.round(v).toString(16)\n    return ('00'.substr(0, 2 - h.length) + h).toUpperCase()\n  }\n\n  return `#${[\n    toHex(rgba.r),\n    toHex(rgba.g),\n    toHex(rgba.b),\n    toHex(Math.round(rgba.a * 255)),\n  ].join('')}`\n}\n\nexport function HexToRGBA (hex: Hex): RGBA {\n  const rgba = chunk(hex.slice(1), 2).map((c: string) => parseInt(c, 16))\n\n  return {\n    r: rgba[0],\n    g: rgba[1],\n    b: rgba[2],\n    a: Math.round((rgba[3] / 255) * 100) / 100,\n  }\n}\n\nexport function HexToHSVA (hex: Hex): HSVA {\n  const rgb = HexToRGBA(hex)\n  return RGBAtoHSVA(rgb)\n}\n\nexport function HSVAtoHex (hsva: HSVA): Hex {\n  return RGBAtoHex(HSVAtoRGBA(hsva))\n}\n\nexport function parseHex (hex: string): Hex {\n  if (hex.startsWith('#')) {\n    hex = hex.slice(1)\n  }\n\n  hex = hex.replace(/([^0-9a-f])/gi, 'F')\n\n  if (hex.length === 3) {\n    hex = hex.split('').map(x => x + x).join('')\n  }\n\n  if (hex.length === 6) {\n    hex = padEnd(hex, 8, 'F')\n  } else {\n    hex = padEnd(padEnd(hex, 6), 8, 'F')\n  }\n\n  return `#${hex}`.toUpperCase().substr(0, 9)\n}\n\nexport function RGBtoInt (rgba: RGBA): ColorInt {\n  return (rgba.r << 16) + (rgba.g << 8) + rgba.b\n}\n\n/**\n * Returns the contrast ratio (1-21) between two colors.\n *\n * @param c1 First color\n * @param c2 Second color\n */\nexport function contrastRatio (c1: RGBA, c2: RGBA): number {\n  const [, y1] = toXYZ(RGBtoInt(c1))\n  const [, y2] = toXYZ(RGBtoInt(c2))\n\n  return (Math.max(y1, y2) + 0.05) / (Math.min(y1, y2) + 0.05)\n}\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON3.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","<template>\n  <v-dialog v-model=\"value\" persistent content content-class=\"centered-dialog pa-4\">\n    <v-row class=\"ma-0\">\n      <v-col cols=\"12\" class=\"mt-3 text-center justify-center\">\n        <vue-loaders-line-scale-pulse-out-rapid\n          color=\"#D32F2F\"\n          scale=\"2\"\n        ></vue-loaders-line-scale-pulse-out-rapid>\n      </v-col>\n      <v-col cols=\"12\" class=\"pa-0 text-center justify-center\">\n        <div v-if=\"message != null\" class=\"display-1 font-weight-bold\">\n          {{ message }}\n        </div>\n      </v-col>\n    </v-row>\n  </v-dialog>\n</template>\n<script>\nconst logger = require(\"@/utils/logging\").getLogger(\"Listening.vue\");\n\nexport default {\n  name: \"Loading\",\n  props: {\n    value: {\n      type: Boolean,\n      default: true\n    },\n    message: {\n      type: String,\n      default: \"Listening...\"\n    }\n  },\n  data() {\n    return {};\n  }\n};\n</script>\n\n<style>\n.v-dialog.centered-dialog {\n  width: auto;\n  border-radius: 6px;\n  color: whitesmoke;\n  background: hsla(228, 100%, 1%, 0.7);\n  box-shadow: none;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"content\":\"\",\"content-class\":\"centered-dialog pa-4\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-row',{staticClass:\"ma-0\"},[_c('v-col',{staticClass:\"mt-3 text-center justify-center\",attrs:{\"cols\":\"12\"}},[_c('vue-loaders-line-scale-pulse-out-rapid',{attrs:{\"color\":\"#D32F2F\",\"scale\":\"2\"}})],1),_c('v-col',{staticClass:\"pa-0 text-center justify-center\",attrs:{\"cols\":\"12\"}},[(_vm.message != null)?_c('div',{staticClass:\"display-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e()])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Listening.vue?vue&type=template&id=cbe7eb3e&\"\nimport script from \"./Listening.vue?vue&type=script&lang=js&\"\nexport * from \"./Listening.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Listening.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VDialog,VRow})\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","module.exports = require('./lib/gravatar');\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker and each delimiter length modulo 3.\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][closer.length % 3];\n    newMinOpenerIdx = -1;\n\n    openerIdx = closerIdx - closer.jump - 1;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= opener.jump + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (newMinOpenerIdx === -1) newMinOpenerIdx = openerIdx;\n\n      if (opener.open &&\n          opener.end < 0 &&\n          opener.level === closer.level) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            delimiters[openerIdx - 1].jump + 1 :\n            0;\n\n          closer.jump  = closerIdx - openerIdx + lastJump;\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.jump  = lastJump;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","/**\n  * vee-validate v3.3.0\n  * (c) 2020 Abdelrahman Awad\n  * @license MIT\n  */\n/**\r\n * Some Alpha Regex helpers.\r\n * https://github.com/chriso/validator.js/blob/master/src/lib/alpha.js\r\n */\r\n/* eslint-disable no-misleading-character-class */\r\nvar alpha = {\r\n    en: /^[A-Z]*$/i,\r\n    cs: /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,\r\n    da: /^[A-ZÆØÅ]*$/i,\r\n    de: /^[A-ZÄÖÜß]*$/i,\r\n    es: /^[A-ZÁÉÍÑÓÚÜ]*$/i,\r\n    fa: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,\r\n    fr: /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,\r\n    it: /^[A-Z\\xC0-\\xFF]*$/i,\r\n    lt: /^[A-ZĄČĘĖĮŠŲŪŽ]*$/i,\r\n    nl: /^[A-ZÉËÏÓÖÜ]*$/i,\r\n    hu: /^[A-ZÁÉÍÓÖŐÚÜŰ]*$/i,\r\n    pl: /^[A-ZĄĆĘŚŁŃÓŻŹ]*$/i,\r\n    pt: /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,\r\n    ru: /^[А-ЯЁ]*$/i,\r\n    sk: /^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,\r\n    sr: /^[A-ZČĆŽŠĐ]*$/i,\r\n    sv: /^[A-ZÅÄÖ]*$/i,\r\n    tr: /^[A-ZÇĞİıÖŞÜ]*$/i,\r\n    uk: /^[А-ЩЬЮЯЄІЇҐ]*$/i,\r\n    ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,\r\n    az: /^[A-ZÇƏĞİıÖŞÜ]*$/i\r\n};\r\nvar alphaSpaces = {\r\n    en: /^[A-Z\\s]*$/i,\r\n    cs: /^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\\s]*$/i,\r\n    da: /^[A-ZÆØÅ\\s]*$/i,\r\n    de: /^[A-ZÄÖÜß\\s]*$/i,\r\n    es: /^[A-ZÁÉÍÑÓÚÜ\\s]*$/i,\r\n    fa: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,\r\n    fr: /^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\\s]*$/i,\r\n    it: /^[A-Z\\xC0-\\xFF\\s]*$/i,\r\n    lt: /^[A-ZĄČĘĖĮŠŲŪŽ\\s]*$/i,\r\n    nl: /^[A-ZÉËÏÓÖÜ\\s]*$/i,\r\n    hu: /^[A-ZÁÉÍÓÖŐÚÜŰ\\s]*$/i,\r\n    pl: /^[A-ZĄĆĘŚŁŃÓŻŹ\\s]*$/i,\r\n    pt: /^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\\s]*$/i,\r\n    ru: /^[А-ЯЁ\\s]*$/i,\r\n    sk: /^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\\s]*$/i,\r\n    sr: /^[A-ZČĆŽŠĐ\\s]*$/i,\r\n    sv: /^[A-ZÅÄÖ\\s]*$/i,\r\n    tr: /^[A-ZÇĞİıÖŞÜ\\s]*$/i,\r\n    uk: /^[А-ЩЬЮЯЄІЇҐ\\s]*$/i,\r\n    ar: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\\s]*$/,\r\n    az: /^[A-ZÇƏĞİıÖŞÜ\\s]*$/i\r\n};\r\nvar alphanumeric = {\r\n    en: /^[0-9A-Z]*$/i,\r\n    cs: /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]*$/i,\r\n    da: /^[0-9A-ZÆØÅ]$/i,\r\n    de: /^[0-9A-ZÄÖÜß]*$/i,\r\n    es: /^[0-9A-ZÁÉÍÑÓÚÜ]*$/i,\r\n    fa: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,\r\n    fr: /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]*$/i,\r\n    it: /^[0-9A-Z\\xC0-\\xFF]*$/i,\r\n    lt: /^[0-9A-ZĄČĘĖĮŠŲŪŽ]*$/i,\r\n    hu: /^[0-9A-ZÁÉÍÓÖŐÚÜŰ]*$/i,\r\n    nl: /^[0-9A-ZÉËÏÓÖÜ]*$/i,\r\n    pl: /^[0-9A-ZĄĆĘŚŁŃÓŻŹ]*$/i,\r\n    pt: /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]*$/i,\r\n    ru: /^[0-9А-ЯЁ]*$/i,\r\n    sk: /^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ]*$/i,\r\n    sr: /^[0-9A-ZČĆŽŠĐ]*$/i,\r\n    sv: /^[0-9A-ZÅÄÖ]*$/i,\r\n    tr: /^[0-9A-ZÇĞİıÖŞÜ]*$/i,\r\n    uk: /^[0-9А-ЩЬЮЯЄІЇҐ]*$/i,\r\n    ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]*$/,\r\n    az: /^[0-9A-ZÇƏĞİıÖŞÜ]*$/i\r\n};\r\nvar alphaDash = {\r\n    en: /^[0-9A-Z_-]*$/i,\r\n    cs: /^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ_-]*$/i,\r\n    da: /^[0-9A-ZÆØÅ_-]*$/i,\r\n    de: /^[0-9A-ZÄÖÜß_-]*$/i,\r\n    es: /^[0-9A-ZÁÉÍÑÓÚÜ_-]*$/i,\r\n    fa: /^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰپژگچکی]*$/,\r\n    fr: /^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ_-]*$/i,\r\n    it: /^[0-9A-Z\\xC0-\\xFF_-]*$/i,\r\n    lt: /^[0-9A-ZĄČĘĖĮŠŲŪŽ_-]*$/i,\r\n    nl: /^[0-9A-ZÉËÏÓÖÜ_-]*$/i,\r\n    hu: /^[0-9A-ZÁÉÍÓÖŐÚÜŰ_-]*$/i,\r\n    pl: /^[0-9A-ZĄĆĘŚŁŃÓŻŹ_-]*$/i,\r\n    pt: /^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ_-]*$/i,\r\n    ru: /^[0-9А-ЯЁ_-]*$/i,\r\n    sk: /^[0-9A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ_-]*$/i,\r\n    sr: /^[0-9A-ZČĆŽŠĐ_-]*$/i,\r\n    sv: /^[0-9A-ZÅÄÖ_-]*$/i,\r\n    tr: /^[0-9A-ZÇĞİıÖŞÜ_-]*$/i,\r\n    uk: /^[0-9А-ЩЬЮЯЄІЇҐ_-]*$/i,\r\n    ar: /^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ_-]*$/,\r\n    az: /^[0-9A-ZÇƏĞİıÖŞÜ_-]*$/i\r\n};\n\nvar validate = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alpha).some(function (loc) { return alpha[loc].test(value); });\r\n    }\r\n    return (alpha[locale] || alpha.en).test(value);\r\n};\r\nvar params = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha$1 = {\r\n    validate: validate,\r\n    params: params\r\n};\n\nvar validate$1 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$1(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphaDash).some(function (loc) { return alphaDash[loc].test(value); });\r\n    }\r\n    return (alphaDash[locale] || alphaDash.en).test(value);\r\n};\r\nvar params$1 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_dash = {\r\n    validate: validate$1,\r\n    params: params$1\r\n};\n\nvar validate$2 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$2(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphanumeric).some(function (loc) { return alphanumeric[loc].test(value); });\r\n    }\r\n    return (alphanumeric[locale] || alphanumeric.en).test(value);\r\n};\r\nvar params$2 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_num = {\r\n    validate: validate$2,\r\n    params: params$2\r\n};\n\nvar validate$3 = function (value, _a) {\r\n    var _b = (_a === void 0 ? {} : _a).locale, locale = _b === void 0 ? '' : _b;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$3(val, { locale: locale }); });\r\n    }\r\n    // Match at least one locale.\r\n    if (!locale) {\r\n        return Object.keys(alphaSpaces).some(function (loc) { return alphaSpaces[loc].test(value); });\r\n    }\r\n    return (alphaSpaces[locale] || alphaSpaces.en).test(value);\r\n};\r\nvar params$3 = [\r\n    {\r\n        name: 'locale'\r\n    }\r\n];\r\nvar alpha_spaces = {\r\n    validate: validate$3,\r\n    params: params$3\r\n};\n\nvar validate$4 = function (value, _a) {\r\n    var _b = _a === void 0 ? {} : _a, min = _b.min, max = _b.max;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return !!validate$4(val, { min: min, max: max }); });\r\n    }\r\n    return Number(min) <= value && Number(max) >= value;\r\n};\r\nvar params$4 = [\r\n    {\r\n        name: 'min'\r\n    },\r\n    {\r\n        name: 'max'\r\n    }\r\n];\r\nvar between = {\r\n    validate: validate$4,\r\n    params: params$4\r\n};\n\nvar validate$5 = function (value, _a) {\r\n    var target = _a.target;\r\n    return String(value) === String(target);\r\n};\r\nvar params$5 = [\r\n    {\r\n        name: 'target',\r\n        isTarget: true\r\n    }\r\n];\r\nvar confirmed = {\r\n    validate: validate$5,\r\n    params: params$5\r\n};\n\nvar validate$6 = function (value, _a) {\r\n    var length = _a.length;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$6(val, { length: length }); });\r\n    }\r\n    var strVal = String(value);\r\n    return /^[0-9]*$/.test(strVal) && strVal.length === length;\r\n};\r\nvar params$6 = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar digits = {\r\n    validate: validate$6,\r\n    params: params$6\r\n};\n\nvar validateImage = function (file, width, height) {\r\n    var URL = window.URL || window.webkitURL;\r\n    return new Promise(function (resolve) {\r\n        var image = new Image();\r\n        image.onerror = function () { return resolve(false); };\r\n        image.onload = function () { return resolve(image.width === width && image.height === height); };\r\n        image.src = URL.createObjectURL(file);\r\n    });\r\n};\r\nvar validate$7 = function (files, _a) {\r\n    var width = _a.width, height = _a.height;\r\n    var list = [];\r\n    files = Array.isArray(files) ? files : [files];\r\n    for (var i = 0; i < files.length; i++) {\r\n        // if file is not an image, reject.\r\n        if (!/\\.(jpg|svg|jpeg|png|bmp|gif)$/i.test(files[i].name)) {\r\n            return Promise.resolve(false);\r\n        }\r\n        list.push(files[i]);\r\n    }\r\n    return Promise.all(list.map(function (file) { return validateImage(file, width, height); })).then(function (values) {\r\n        return values.every(function (v) { return v; });\r\n    });\r\n};\r\nvar params$7 = [\r\n    {\r\n        name: 'width',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    },\r\n    {\r\n        name: 'height',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar dimensions = {\r\n    validate: validate$7,\r\n    params: params$7\r\n};\n\nvar validate$8 = function (value, _a) {\r\n    var multiple = (_a === void 0 ? {} : _a).multiple;\r\n    // eslint-disable-next-line\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (multiple && !Array.isArray(value)) {\r\n        value = String(value)\r\n            .split(',')\r\n            .map(function (emailStr) { return emailStr.trim(); });\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return re.test(String(val)); });\r\n    }\r\n    return re.test(String(value));\r\n};\r\nvar params$8 = [\r\n    {\r\n        name: 'multiple',\r\n        default: false\r\n    }\r\n];\r\nvar email = {\r\n    validate: validate$8,\r\n    params: params$8\r\n};\n\nfunction isNullOrUndefined(value) {\r\n    return value === null || value === undefined;\r\n}\r\nfunction isEmptyArray(arr) {\r\n    return Array.isArray(arr) && arr.length === 0;\r\n}\r\nfunction isCallable(fn) {\r\n    return typeof fn === 'function';\r\n}\n\nfunction includes(collection, item) {\r\n    return collection.indexOf(item) !== -1;\r\n}\r\n/**\r\n * Converts an array-like object to array, provides a simple polyfill for Array.from\r\n */\r\nfunction toArray(arrayLike) {\r\n    if (isCallable(Array.from)) {\r\n        return Array.from(arrayLike);\r\n    }\r\n    /* istanbul ignore next */\r\n    return _copyArray(arrayLike);\r\n}\r\n/* istanbul ignore next */\r\nfunction _copyArray(arrayLike) {\r\n    var array = [];\r\n    var length = arrayLike.length;\r\n    for (var i = 0; i < length; i++) {\r\n        array.push(arrayLike[i]);\r\n    }\r\n    return array;\r\n}\n\nvar validate$9 = function (value, options) {\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$9(val, options); });\r\n    }\r\n    return toArray(options).some(function (item) {\r\n        // eslint-disable-next-line\r\n        return item == value;\r\n    });\r\n};\r\nvar oneOf = {\r\n    validate: validate$9\r\n};\n\nvar validate$a = function (value, args) {\r\n    return !validate$9(value, args);\r\n};\r\nvar excluded = {\r\n    validate: validate$a\r\n};\n\nvar validate$b = function (files, extensions) {\r\n    var regex = new RegExp(\".(\" + extensions.join('|') + \")$\", 'i');\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.name); });\r\n    }\r\n    return regex.test(files.name);\r\n};\r\nvar ext = {\r\n    validate: validate$b\r\n};\n\nvar validate$c = function (files) {\r\n    var regex = /\\.(jpg|svg|jpeg|png|bmp|gif)$/i;\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.name); });\r\n    }\r\n    return regex.test(files.name);\r\n};\r\nvar image = {\r\n    validate: validate$c\r\n};\n\nvar validate$d = function (value) {\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return /^-?[0-9]+$/.test(String(val)); });\r\n    }\r\n    return /^-?[0-9]+$/.test(String(value));\r\n};\r\nvar integer = {\r\n    validate: validate$d\r\n};\n\nvar validate$e = function (value, _a) {\r\n    var other = _a.other;\r\n    return value === other;\r\n};\r\nvar params$9 = [\r\n    {\r\n        name: 'other'\r\n    }\r\n];\r\nvar is = {\r\n    validate: validate$e,\r\n    params: params$9\r\n};\n\nvar validate$f = function (value, _a) {\r\n    var other = _a.other;\r\n    return value !== other;\r\n};\r\nvar params$a = [\r\n    {\r\n        name: 'other'\r\n    }\r\n];\r\nvar is_not = {\r\n    validate: validate$f,\r\n    params: params$a\r\n};\n\nvar validate$g = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return false;\r\n    }\r\n    if (typeof value === 'number') {\r\n        value = String(value);\r\n    }\r\n    if (!value.length) {\r\n        value = toArray(value);\r\n    }\r\n    return value.length === length;\r\n};\r\nvar params$b = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) { return Number(value); }\r\n    }\r\n];\r\nvar length = {\r\n    validate: validate$g,\r\n    params: params$b\r\n};\n\nvar validate$h = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return length >= 0;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$h(val, { length: length }); });\r\n    }\r\n    return String(value).length <= length;\r\n};\r\nvar params$c = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar max = {\r\n    validate: validate$h,\r\n    params: params$c\r\n};\n\nvar validate$i = function (value, _a) {\r\n    var max = _a.max;\r\n    if (isNullOrUndefined(value) || value === '') {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.length > 0 && value.every(function (val) { return validate$i(val, { max: max }); });\r\n    }\r\n    return Number(value) <= max;\r\n};\r\nvar params$d = [\r\n    {\r\n        name: 'max',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar max_value = {\r\n    validate: validate$i,\r\n    params: params$d\r\n};\n\nvar validate$j = function (files, mimes) {\r\n    var regex = new RegExp(mimes.join('|').replace('*', '.+') + \"$\", 'i');\r\n    if (Array.isArray(files)) {\r\n        return files.every(function (file) { return regex.test(file.type); });\r\n    }\r\n    return regex.test(files.type);\r\n};\r\nvar mimes = {\r\n    validate: validate$j\r\n};\n\nvar validate$k = function (value, _a) {\r\n    var length = _a.length;\r\n    if (isNullOrUndefined(value)) {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$k(val, { length: length }); });\r\n    }\r\n    return String(value).length >= length;\r\n};\r\nvar params$e = [\r\n    {\r\n        name: 'length',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar min = {\r\n    validate: validate$k,\r\n    params: params$e\r\n};\n\nvar validate$l = function (value, _a) {\r\n    var min = _a.min;\r\n    if (isNullOrUndefined(value) || value === '') {\r\n        return false;\r\n    }\r\n    if (Array.isArray(value)) {\r\n        return value.length > 0 && value.every(function (val) { return validate$l(val, { min: min }); });\r\n    }\r\n    return Number(value) >= min;\r\n};\r\nvar params$f = [\r\n    {\r\n        name: 'min',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar min_value = {\r\n    validate: validate$l,\r\n    params: params$f\r\n};\n\nvar ar = /^[٠١٢٣٤٥٦٧٨٩]+$/;\r\nvar en = /^[0-9]+$/;\r\nvar validate$m = function (value) {\r\n    var testValue = function (val) {\r\n        var strValue = String(val);\r\n        return en.test(strValue) || ar.test(strValue);\r\n    };\r\n    if (Array.isArray(value)) {\r\n        return value.every(testValue);\r\n    }\r\n    return testValue(value);\r\n};\r\nvar numeric = {\r\n    validate: validate$m\r\n};\n\nvar validate$n = function (value, _a) {\r\n    var regex = _a.regex;\r\n    if (Array.isArray(value)) {\r\n        return value.every(function (val) { return validate$n(val, { regex: regex }); });\r\n    }\r\n    return regex.test(String(value));\r\n};\r\nvar params$g = [\r\n    {\r\n        name: 'regex',\r\n        cast: function (value) {\r\n            if (typeof value === 'string') {\r\n                return new RegExp(value);\r\n            }\r\n            return value;\r\n        }\r\n    }\r\n];\r\nvar regex = {\r\n    validate: validate$n,\r\n    params: params$g\r\n};\n\nvar validate$o = function (value, _a) {\r\n    var allowFalse = (_a === void 0 ? { allowFalse: true } : _a).allowFalse;\r\n    var result = {\r\n        valid: false,\r\n        required: true\r\n    };\r\n    if (isNullOrUndefined(value) || isEmptyArray(value)) {\r\n        return result;\r\n    }\r\n    // incase a field considers `false` as an empty value like checkboxes.\r\n    if (value === false && !allowFalse) {\r\n        return result;\r\n    }\r\n    result.valid = !!String(value).trim().length;\r\n    return result;\r\n};\r\nvar computesRequired = true;\r\nvar params$h = [\r\n    {\r\n        name: 'allowFalse',\r\n        default: true\r\n    }\r\n];\r\nvar required = {\r\n    validate: validate$o,\r\n    params: params$h,\r\n    computesRequired: computesRequired\r\n};\n\nvar testEmpty = function (value) {\r\n    return isEmptyArray(value) || includes([false, null, undefined], value) || !String(value).trim().length;\r\n};\r\nvar validate$p = function (value, _a) {\r\n    var target = _a.target, values = _a.values;\r\n    var required;\r\n    if (values && values.length) {\r\n        if (!Array.isArray(values) && typeof values === 'string') {\r\n            values = [values];\r\n        }\r\n        // eslint-disable-next-line\r\n        required = values.some(function (val) { return val == String(target).trim(); });\r\n    }\r\n    else {\r\n        required = !testEmpty(target);\r\n    }\r\n    if (!required) {\r\n        return {\r\n            valid: true,\r\n            required: required\r\n        };\r\n    }\r\n    return {\r\n        valid: !testEmpty(value),\r\n        required: required\r\n    };\r\n};\r\nvar params$i = [\r\n    {\r\n        name: 'target',\r\n        isTarget: true\r\n    },\r\n    {\r\n        name: 'values'\r\n    }\r\n];\r\nvar computesRequired$1 = true;\r\nvar required_if = {\r\n    validate: validate$p,\r\n    params: params$i,\r\n    computesRequired: computesRequired$1\r\n};\n\nvar validate$q = function (files, _a) {\r\n    var size = _a.size;\r\n    if (isNaN(size)) {\r\n        return false;\r\n    }\r\n    var nSize = size * 1024;\r\n    if (!Array.isArray(files)) {\r\n        return files.size <= nSize;\r\n    }\r\n    for (var i = 0; i < files.length; i++) {\r\n        if (files[i].size > nSize) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\nvar params$j = [\r\n    {\r\n        name: 'size',\r\n        cast: function (value) {\r\n            return Number(value);\r\n        }\r\n    }\r\n];\r\nvar size = {\r\n    validate: validate$q,\r\n    params: params$j\r\n};\n\nexport { alpha$1 as alpha, alpha_dash, alpha_num, alpha_spaces, between, confirmed, digits, dimensions, email, excluded, ext, image, integer, is, is_not, length, max, max_value, mimes, min, min_value, numeric, oneOf, regex, required, required_if, size };\n","import { required, email, max } from \"vee-validate/dist/rules\";\nimport { extend } from \"vee-validate\";\n\nextend(\"required\", {\n  ...required,\n  message: \"This field is required\"\n});\n\nextend(\"max\", {\n  ...max,\n  message: \"This field must be {length} characters or less\"\n});\n\nextend(\"email\", {\n  ...email,\n  message: \"This field must be a valid email\"\n});\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","// Styles\nimport '../../styles/main.sass'\n\n// Locale\nimport { en } from '../../locale'\n\n// Icons\n// TODO: Enable for v3\n// import mdi from '../../services/icons/presets/mdi'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\n\nexport const preset: VuetifyPreset = {\n  breakpoint: {\n    scrollBarWidth: 16,\n    thresholds: {\n      xs: 600,\n      sm: 960,\n      md: 1280,\n      lg: 1920,\n    },\n  },\n  icons: {\n    // TODO: remove v3\n    iconfont: 'mdi',\n    values: {},\n  },\n  lang: {\n    current: 'en',\n    locales: { en },\n    // Default translator exists in lang service\n    t: undefined as any,\n  },\n  rtl: false,\n  theme: {\n    dark: false,\n    default: 'light',\n    disable: false,\n    options: {\n      cspNonce: undefined,\n      customProperties: undefined,\n      minifyTheme: undefined,\n      themeCache: undefined,\n    },\n    themes: {\n      light: {\n        primary: '#1976D2',\n        secondary: '#424242',\n        accent: '#82B1FF',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      dark: {\n        primary: '#2196F3',\n        secondary: '#424242',\n        accent: '#FF4081',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n    },\n  },\n}\n","export default {\n  badge: 'Badge',\n  close: 'Close',\n  dataIterator: {\n    noResultsText: 'No matching records found',\n    loadingText: 'Loading items...',\n  },\n  dataTable: {\n    itemsPerPageText: 'Rows per page:',\n    ariaLabel: {\n      sortDescending: 'Sorted descending.',\n      sortAscending: 'Sorted ascending.',\n      sortNone: 'Not sorted.',\n      activateNone: 'Activate to remove sorting.',\n      activateDescending: 'Activate to sort descending.',\n      activateAscending: 'Activate to sort ascending.',\n    },\n    sortBy: 'Sort by',\n  },\n  dataFooter: {\n    itemsPerPageText: 'Items per page:',\n    itemsPerPageAll: 'All',\n    nextPage: 'Next page',\n    prevPage: 'Previous page',\n    firstPage: 'First page',\n    lastPage: 'Last page',\n    pageText: '{0}-{1} of {2}',\n  },\n  datePicker: {\n    itemsSelected: '{0} selected',\n  },\n  noDataText: 'No data available',\n  carousel: {\n    prev: 'Previous visual',\n    next: 'Next visual',\n    ariaLabel: {\n      delimiter: 'Carousel slide {0} of {1}',\n    },\n  },\n  calendar: {\n    moreEvents: '{0} more',\n  },\n  fileInput: {\n    counter: '{0} files',\n    counterSize: '{0} files ({1} in total)',\n  },\n  timePicker: {\n    am: 'AM',\n    pm: 'PM',\n  },\n}\n","// Contracts\nimport { VuetifyServiceContract } from 'vuetify/types/services/index'\n\n// Types\nimport Vue from 'vue'\n\nexport class Service implements VuetifyServiceContract {\n  framework = {}\n\n  init (root: Vue, ssrContext?: object) {}\n}\n","// Preset\nimport { preset as Preset } from '../../presets/default'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport Framework from 'vuetify/types'\nimport { Service } from '../service'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\n\nexport class Presets extends Service {\n  static property: 'presets' = 'presets'\n\n  constructor (\n    parentPreset: Partial<UserVuetifyPreset>,\n    parent: InstanceType<typeof Framework>,\n  ) {\n    super()\n\n    // The default preset\n    const defaultPreset = mergeDeep({}, Preset)\n    // The user provided preset\n    const { userPreset } = parent\n    // The user provided global preset\n    const {\n      preset: globalPreset = {},\n      ...preset\n    } = userPreset\n\n    if (globalPreset.preset != null) {\n      consoleWarn('Global presets do not support the **preset** option, it can be safely omitted')\n    }\n\n    parent.preset = mergeDeep(\n      mergeDeep(defaultPreset, globalPreset),\n      preset\n    ) as VuetifyPreset\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { TargetPropValues, TargetProp, Application as IApplication } from 'vuetify/types/services/application'\n\nexport class Application extends Service implements IApplication {\n  static property: 'application' = 'application'\n\n  bar = 0\n\n  top = 0\n\n  left = 0\n\n  insetFooter = 0\n\n  right = 0\n\n  bottom = 0\n\n  footer = 0\n\n  application: Dictionary<TargetPropValues> = {\n    bar: {},\n    top: {},\n    left: {},\n    insetFooter: {},\n    right: {},\n    bottom: {},\n    footer: {},\n  }\n\n  register (\n    uid: number,\n    location: TargetProp,\n    size: number\n  ) {\n    this.application[location] = { [uid]: size }\n\n    this.update(location)\n  }\n\n  unregister (uid: number, location: TargetProp) {\n    if (this.application[location][uid] == null) return\n\n    delete this.application[location][uid]\n    this.update(location)\n  }\n\n  update (location: TargetProp) {\n    this[location] = Object.values(this.application[location])\n      .reduce((acc: number, cur: number): number => (acc + cur), 0)\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Breakpoint as IBreakpoint } from 'vuetify/types/services/breakpoint'\n\nexport class Breakpoint extends Service implements IBreakpoint {\n  public static property: 'breakpoint' = 'breakpoint'\n\n  // Public\n  public xs = false\n\n  public sm = false\n\n  public md = false\n\n  public lg = false\n\n  public xl = false\n\n  public xsOnly = false\n\n  public smOnly = false\n\n  public smAndDown = false\n\n  public smAndUp = false\n\n  public mdOnly = false\n\n  public mdAndDown = false\n\n  public mdAndUp = false\n\n  public lgOnly = false\n\n  public lgAndDown = false\n\n  public lgAndUp = false\n\n  public xlOnly = false\n\n  public name = ''\n\n  public height = 0\n\n  public width = 0\n\n  public thresholds: IBreakpoint['thresholds']\n\n  public scrollBarWidth: IBreakpoint['scrollBarWidth']\n\n  private resizeTimeout = 0\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      scrollBarWidth,\n      thresholds,\n    } = preset[Breakpoint.property]\n\n    this.scrollBarWidth = scrollBarWidth\n    this.thresholds = thresholds\n\n    this.init()\n  }\n\n  public init () {\n    /* istanbul ignore if */\n    if (typeof window === 'undefined') return\n\n    window.addEventListener(\n      'resize',\n      this.onResize.bind(this),\n      { passive: true }\n    )\n\n    this.update()\n  }\n\n  private onResize () {\n    clearTimeout(this.resizeTimeout)\n\n    // Added debounce to match what\n    // v-resize used to do but was\n    // removed due to a memory leak\n    // https://github.com/vuetifyjs/vuetify/pull/2997\n    this.resizeTimeout = window.setTimeout(this.update.bind(this), 200)\n  }\n\n  /* eslint-disable-next-line max-statements */\n  private update () {\n    const height = this.getClientHeight()\n    const width = this.getClientWidth()\n\n    const xs = width < this.thresholds.xs\n    const sm = width < this.thresholds.sm && !xs\n    const md = width < (this.thresholds.md - this.scrollBarWidth) && !(sm || xs)\n    const lg = width < (this.thresholds.lg - this.scrollBarWidth) && !(md || sm || xs)\n    const xl = width >= (this.thresholds.lg - this.scrollBarWidth)\n\n    this.height = height\n    this.width = width\n\n    this.xs = xs\n    this.sm = sm\n    this.md = md\n    this.lg = lg\n    this.xl = xl\n\n    this.xsOnly = xs\n    this.smOnly = sm\n    this.smAndDown = (xs || sm) && !(md || lg || xl)\n    this.smAndUp = !xs && (sm || md || lg || xl)\n    this.mdOnly = md\n    this.mdAndDown = (xs || sm || md) && !(lg || xl)\n    this.mdAndUp = !(xs || sm) && (md || lg || xl)\n    this.lgOnly = lg\n    this.lgAndDown = (xs || sm || md || lg) && !xl\n    this.lgAndUp = !(xs || sm || md) && (lg || xl)\n    this.xlOnly = xl\n\n    switch (true) {\n      case (xs):\n        this.name = 'xs'\n        break\n      case (sm):\n        this.name = 'sm'\n        break\n      case (md):\n        this.name = 'md'\n        break\n      case (lg):\n        this.name = 'lg'\n        break\n      default:\n        this.name = 'xl'\n        break\n    }\n  }\n\n  // Cross-browser support as described in:\n  // https://stackoverflow.com/questions/1248081\n  private getClientWidth () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientWidth,\n      window.innerWidth || 0\n    )\n  }\n\n  private getClientHeight () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientHeight,\n      window.innerHeight || 0\n    )\n  }\n}\n","export type EasingFunction = (t: number) => number\n\n// linear\nexport const linear = (t: number) => t\n// accelerating from zero velocity\nexport const easeInQuad = (t: number) => t ** 2\n// decelerating to zero velocity\nexport const easeOutQuad = (t: number) => t * (2 - t)\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = (t: number) => (t < 0.5 ? 2 * t ** 2 : -1 + (4 - 2 * t) * t)\n// accelerating from zero velocity\nexport const easeInCubic = (t: number) => t ** 3\n// decelerating to zero velocity\nexport const easeOutCubic = (t: number) => --t ** 3 + 1\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = (t: number) => t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n// accelerating from zero velocity\nexport const easeInQuart = (t: number) => t ** 4\n// decelerating to zero velocity\nexport const easeOutQuart = (t: number) => 1 - --t ** 4\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = (t: number) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t)\n// accelerating from zero velocity\nexport const easeInQuint = (t: number) => t ** 5\n// decelerating to zero velocity\nexport const easeOutQuint = (t: number) => 1 + --t ** 5\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = (t: number) => t < 0.5 ? 16 * t ** 5 : 1 + 16 * --t ** 5\n","import Vue from 'vue'\n\n// Return target's cumulative offset from the top\nexport function getOffset (target: any): number {\n  if (typeof target === 'number') {\n    return target\n  }\n\n  let el = $(target)\n  if (!el) {\n    throw typeof target === 'string'\n      ? new Error(`Target element \"${target}\" not found.`)\n      : new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${type(target)} instead.`)\n  }\n\n  let totalOffset = 0\n  while (el) {\n    totalOffset += el.offsetTop\n    el = el.offsetParent as HTMLElement\n  }\n\n  return totalOffset\n}\n\nexport function getContainer (container: any): HTMLElement {\n  const el = $(container)\n\n  if (el) return el\n\n  throw typeof container === 'string'\n    ? new Error(`Container element \"${container}\" not found.`)\n    : new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${type(container)} instead.`)\n}\n\nfunction type (el: any) {\n  return el == null ? el : el.constructor.name\n}\n\nfunction $ (el: any): HTMLElement | null {\n  if (typeof el === 'string') {\n    return document.querySelector<HTMLElement>(el)\n  } else if (el && el._isVue) {\n    return (el as Vue).$el as HTMLElement\n  } else if (el instanceof HTMLElement) {\n    return el\n  } else {\n    return null\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as easingPatterns from './easing-patterns'\nimport {\n  getContainer,\n  getOffset,\n} from './util'\n\n// Types\nimport { GoToOptions, VuetifyGoToTarget } from 'vuetify/types/services/goto'\n\nimport { VuetifyServiceContract } from 'vuetify/types/services'\n\nexport default function goTo (\n  _target: VuetifyGoToTarget,\n  _settings: Partial<GoToOptions> = {}\n): Promise<number> {\n  const settings: GoToOptions = {\n    container: (document.scrollingElement as HTMLElement | null) || document.body || document.documentElement,\n    duration: 500,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    appOffset: true,\n    ..._settings,\n  }\n  const container = getContainer(settings.container)\n\n  /* istanbul ignore else */\n  if (settings.appOffset && goTo.framework.application) {\n    const isDrawer = container.classList.contains('v-navigation-drawer')\n    const isClipped = container.classList.contains('v-navigation-drawer--clipped')\n    const { bar, top } = goTo.framework.application as any\n\n    settings.offset += bar\n    /* istanbul ignore else */\n    if (!isDrawer || isClipped) settings.offset += top\n  }\n\n  const startTime = performance.now()\n\n  let targetLocation: number\n  if (typeof _target === 'number') {\n    targetLocation = getOffset(_target) - settings.offset!\n  } else {\n    targetLocation = getOffset(_target) - getOffset(container) - settings.offset!\n  }\n\n  const startLocation = container.scrollTop\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation)\n\n  const ease = typeof settings.easing === 'function'\n    ? settings.easing\n    : easingPatterns[settings.easing!]\n  /* istanbul ignore else */\n  if (!ease) throw new TypeError(`Easing function \"${settings.easing}\" not found.`)\n\n  // Cannot be tested properly in jsdom\n  // tslint:disable-next-line:promise-must-complete\n  /* istanbul ignore next */\n  return new Promise(resolve => requestAnimationFrame(function step (currentTime: number) {\n    const timeElapsed = currentTime - startTime\n    const progress = Math.abs(settings.duration ? Math.min(timeElapsed / settings.duration, 1) : 1)\n\n    container.scrollTop = Math.floor(startLocation + (targetLocation - startLocation) * ease(progress))\n\n    const clientHeight = container === document.body ? document.documentElement.clientHeight : container.clientHeight\n    if (progress === 1 || clientHeight + container.scrollTop === container.scrollHeight) {\n      return resolve(targetLocation)\n    }\n\n    requestAnimationFrame(step)\n  }))\n}\n\ngoTo.framework = {} as Record<string, VuetifyServiceContract>\ngoTo.init = () => {}\n\nexport class Goto extends Service {\n  public static property: 'goTo' = 'goTo'\n\n  constructor () {\n    super()\n\n    return goTo\n  }\n}\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z',\n  cancel: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z',\n  close: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  delete: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z', // delete (e.g. v-chip close)\n  clear: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  success: 'M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z',\n  info: 'M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  warning: 'M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z',\n  error: 'M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z',\n  prev: 'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z',\n  next: 'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z',\n  checkboxOn: 'M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  checkboxOff: 'M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z',\n  checkboxIndeterminate: 'M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  delimiter: 'M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z', // for carousel\n  sort: 'M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z',\n  expand: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z',\n  menu: 'M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z',\n  subgroup: 'M7,10L12,15L17,10H7Z',\n  dropdown: 'M7,10L12,15L17,10H7Z',\n  radioOn: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z',\n  radioOff: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  edit: 'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z',\n  ratingEmpty: 'M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  ratingFull: 'M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z',\n  ratingHalf: 'M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  loading: 'M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12',\n  first: 'M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z',\n  last: 'M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z',\n  unfold: 'M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z',\n  file: 'M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z',\n  plus: 'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z',\n  minus: 'M19,13H5V11H19V13Z',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'check',\n  cancel: 'cancel',\n  close: 'close',\n  delete: 'cancel', // delete (e.g. v-chip close)\n  clear: 'clear',\n  success: 'check_circle',\n  info: 'info',\n  warning: 'priority_high',\n  error: 'warning',\n  prev: 'chevron_left',\n  next: 'chevron_right',\n  checkboxOn: 'check_box',\n  checkboxOff: 'check_box_outline_blank',\n  checkboxIndeterminate: 'indeterminate_check_box',\n  delimiter: 'fiber_manual_record', // for carousel\n  sort: 'arrow_upward',\n  expand: 'keyboard_arrow_down',\n  menu: 'menu',\n  subgroup: 'arrow_drop_down',\n  dropdown: 'arrow_drop_down',\n  radioOn: 'radio_button_checked',\n  radioOff: 'radio_button_unchecked',\n  edit: 'edit',\n  ratingEmpty: 'star_border',\n  ratingFull: 'star',\n  ratingHalf: 'star_half',\n  loading: 'cached',\n  first: 'first_page',\n  last: 'last_page',\n  unfold: 'unfold_more',\n  file: 'attach_file',\n  plus: 'add',\n  minus: 'remove',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'mdi-check',\n  cancel: 'mdi-close-circle',\n  close: 'mdi-close',\n  delete: 'mdi-close-circle', // delete (e.g. v-chip close)\n  clear: 'mdi-close',\n  success: 'mdi-check-circle',\n  info: 'mdi-information',\n  warning: 'mdi-exclamation',\n  error: 'mdi-alert',\n  prev: 'mdi-chevron-left',\n  next: 'mdi-chevron-right',\n  checkboxOn: 'mdi-checkbox-marked',\n  checkboxOff: 'mdi-checkbox-blank-outline',\n  checkboxIndeterminate: 'mdi-minus-box',\n  delimiter: 'mdi-circle', // for carousel\n  sort: 'mdi-arrow-up',\n  expand: 'mdi-chevron-down',\n  menu: 'mdi-menu',\n  subgroup: 'mdi-menu-down',\n  dropdown: 'mdi-menu-down',\n  radioOn: 'mdi-radiobox-marked',\n  radioOff: 'mdi-radiobox-blank',\n  edit: 'mdi-pencil',\n  ratingEmpty: 'mdi-star-outline',\n  ratingFull: 'mdi-star',\n  ratingHalf: 'mdi-star-half',\n  loading: 'mdi-cached',\n  first: 'mdi-page-first',\n  last: 'mdi-page-last',\n  unfold: 'mdi-unfold-more-horizontal',\n  file: 'mdi-paperclip',\n  plus: 'mdi-plus',\n  minus: 'mdi-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fas fa-check',\n  cancel: 'fas fa-times-circle',\n  close: 'fas fa-times',\n  delete: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fas fa-check-circle',\n  info: 'fas fa-info-circle',\n  warning: 'fas fa-exclamation',\n  error: 'fas fa-exclamation-triangle',\n  prev: 'fas fa-chevron-left',\n  next: 'fas fa-chevron-right',\n  checkboxOn: 'fas fa-check-square',\n  checkboxOff: 'far fa-square', // note 'far'\n  checkboxIndeterminate: 'fas fa-minus-square',\n  delimiter: 'fas fa-circle', // for carousel\n  sort: 'fas fa-sort-up',\n  expand: 'fas fa-chevron-down',\n  menu: 'fas fa-bars',\n  subgroup: 'fas fa-caret-down',\n  dropdown: 'fas fa-caret-down',\n  radioOn: 'far fa-dot-circle',\n  radioOff: 'far fa-circle',\n  edit: 'fas fa-edit',\n  ratingEmpty: 'far fa-star',\n  ratingFull: 'fas fa-star',\n  ratingHalf: 'fas fa-star-half',\n  loading: 'fas fa-sync',\n  first: 'fas fa-step-backward',\n  last: 'fas fa-step-forward',\n  unfold: 'fas fa-arrows-alt-v',\n  file: 'fas fa-paperclip',\n  plus: 'fas fa-plus',\n  minus: 'fas fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fa fa-check',\n  cancel: 'fa fa-times-circle',\n  close: 'fa fa-times',\n  delete: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fa fa-check-circle',\n  info: 'fa fa-info-circle',\n  warning: 'fa fa-exclamation',\n  error: 'fa fa-exclamation-triangle',\n  prev: 'fa fa-chevron-left',\n  next: 'fa fa-chevron-right',\n  checkboxOn: 'fa fa-check-square',\n  checkboxOff: 'fa fa-square-o',\n  checkboxIndeterminate: 'fa fa-minus-square',\n  delimiter: 'fa fa-circle', // for carousel\n  sort: 'fa fa-sort-up',\n  expand: 'fa fa-chevron-down',\n  menu: 'fa fa-bars',\n  subgroup: 'fa fa-caret-down',\n  dropdown: 'fa fa-caret-down',\n  radioOn: 'fa fa-dot-circle-o',\n  radioOff: 'fa fa-circle-o',\n  edit: 'fa fa-pencil',\n  ratingEmpty: 'fa fa-star-o',\n  ratingFull: 'fa fa-star',\n  ratingHalf: 'fa fa-star-half-o',\n  loading: 'fa fa-refresh',\n  first: 'fa fa-step-backward',\n  last: 'fa fa-step-forward',\n  unfold: 'fa fa-angle-double-down',\n  file: 'fa fa-paperclip',\n  plus: 'fa fa-plus',\n  minus: 'fa fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\nimport { Component } from 'vue'\nimport icons from './fa'\n\nexport function convertToComponentDeclarations (\n  component: Component | string,\n  iconSet: VuetifyIcons,\n) {\n  const result: Partial<VuetifyIcons> = {}\n\n  for (const key in iconSet) {\n    result[key] = {\n      component,\n      props: {\n        icon: (iconSet[key] as string).split(' fa-'),\n      },\n    }\n  }\n\n  return result as VuetifyIcons\n}\n\nexport default convertToComponentDeclarations('font-awesome-icon', icons)\n","import mdiSvg from './mdi-svg'\nimport md from './md'\nimport mdi from './mdi'\nimport fa from './fa'\nimport fa4 from './fa4'\nimport faSvg from './fa-svg'\n\nexport default Object.freeze({\n  mdiSvg,\n  md,\n  mdi,\n  fa,\n  fa4,\n  faSvg,\n})\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Icons as IIcons } from 'vuetify/types/services/icons'\n\n// Presets\nimport presets from './presets'\n\nexport class Icons extends Service implements IIcons {\n  static property: 'icons' = 'icons'\n\n  public iconfont: IIcons['iconfont']\n\n  public values: IIcons['values']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      iconfont,\n      values,\n    } = preset[Icons.property]\n\n    this.iconfont = iconfont\n    this.values = mergeDeep(\n      presets[iconfont],\n      values\n    ) as IIcons['values']\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingDefault = false,\n  defaultLocale: VuetifyLocale\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingDefault) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(defaultLocale, key, true, defaultLocale)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property: 'lang' = 'lang'\n\n  public current: ILang['current']\n\n  public defaultLocale = 'en'\n\n  public locales: ILang['locales']\n\n  private translator: ILang['t']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      current,\n      locales,\n      t,\n    } = preset[Lang.property]\n\n    this.current = current\n    this.locales = locales\n    this.translator = t || this.defaultTranslator\n  }\n\n  public currentLocale (key: string) {\n    const translation = this.locales[this.current]\n    const defaultLocale = this.locales[this.defaultLocale]\n\n    return getTranslation(translation, key, false, defaultLocale)\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    return this.translator(key, ...params)\n  }\n\n  private defaultTranslator (key: string, ...params: any[]) {\n    return this.replace(this.currentLocale(key), params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n","import { XYZ, LAB } from '../colorUtils'\n\nconst delta = 0.20689655172413793 // 6÷29\n\nconst cielabForwardTransform = (t: number): number => (\n  t > delta ** 3\n    ? Math.cbrt(t)\n    : (t / (3 * delta ** 2)) + 4 / 29\n)\n\nconst cielabReverseTransform = (t: number): number => (\n  t > delta\n    ? t ** 3\n    : (3 * delta ** 2) * (t - 4 / 29)\n)\n\nexport function fromXYZ (xyz: XYZ): LAB {\n  const transform = cielabForwardTransform\n  const transformedY = transform(xyz[1])\n\n  return [\n    116 * transformedY - 16,\n    500 * (transform(xyz[0] / 0.95047) - transformedY),\n    200 * (transformedY - transform(xyz[2] / 1.08883)),\n  ]\n}\n\nexport function toXYZ (lab: LAB): XYZ {\n  const transform = cielabReverseTransform\n  const Ln = (lab[0] + 16) / 116\n  return [\n    transform(Ln + lab[1] / 500) * 0.95047,\n    transform(Ln),\n    transform(Ln - lab[2] / 200) * 1.08883,\n  ]\n}\n","import { colorToInt, intToHex, colorToHex, ColorInt } from '../../util/colorUtils'\nimport * as sRGB from '../../util/color/transformSRGB'\nimport * as LAB from '../../util/color/transformCIELAB'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemeItem,\n} from 'vuetify/types/services/theme'\n\nexport function parse (\n  theme: Record<string, VuetifyThemeItem>,\n  isItem = false\n): VuetifyParsedTheme {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n  const parsedTheme: any = {}\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    if (value == null) continue\n\n    if (isItem) {\n      /* istanbul ignore else */\n      if (name === 'base' || name.startsWith('lighten') || name.startsWith('darken')) {\n        parsedTheme[name] = colorToHex(value)\n      }\n    } else if (typeof value === 'object') {\n      parsedTheme[name] = parse(value, true)\n    } else {\n      parsedTheme[name] = genVariations(name, colorToInt(value))\n    }\n  }\n\n  if (!isItem) {\n    parsedTheme.anchor = anchor || parsedTheme.base || parsedTheme.primary.base\n  }\n\n  return parsedTheme\n}\n\n/**\n * Generate the CSS for a base color (.primary)\n */\nconst genBaseColor = (name: string, value: string): string => {\n  return `\n.v-application .${name} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\n/**\n * Generate the CSS for a variant color (.primary.darken-2)\n */\nconst genVariantColor = (name: string, variant: string, value: string): string => {\n  const [type, n] = variant.split(/(\\d)/, 2)\n  return `\n.v-application .${name}.${type}-${n} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text.text--${type}-${n} {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\nconst genColorVariableName = (name: string, variant = 'base'): string => `--v-${name}-${variant}`\n\nconst genColorVariable = (name: string, variant = 'base'): string => `var(${genColorVariableName(name, variant)})`\n\nexport function genStyles (theme: VuetifyParsedTheme, cssVar = false): string {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n\n  if (!colors.length) return ''\n\n  let variablesCss = ''\n  let css = ''\n\n  const aColor = cssVar ? genColorVariable('anchor') : anchor\n  css += `.v-application a { color: ${aColor}; }`\n  cssVar && (variablesCss += `  ${genColorVariableName('anchor')}: ${anchor};\\n`)\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    css += genBaseColor(name, cssVar ? genColorVariable(name) : value.base)\n    cssVar && (variablesCss += `  ${genColorVariableName(name)}: ${value.base};\\n`)\n\n    const variants = Object.keys(value)\n    for (let i = 0; i < variants.length; ++i) {\n      const variant = variants[i]\n      const variantValue = value[variant]\n      if (variant === 'base') continue\n\n      css += genVariantColor(name, variant, cssVar ? genColorVariable(name, variant) : variantValue)\n      cssVar && (variablesCss += `  ${genColorVariableName(name, variant)}: ${variantValue};\\n`)\n    }\n  }\n\n  if (cssVar) {\n    variablesCss = `:root {\\n${variablesCss}}\\n\\n`\n  }\n\n  return variablesCss + css\n}\n\nexport function genVariations (name: string, value: ColorInt): Record<string, string> {\n  const values: Record<string, string> = {\n    base: intToHex(value),\n  }\n\n  for (let i = 5; i > 0; --i) {\n    values[`lighten${i}`] = intToHex(lighten(value, i))\n  }\n\n  for (let i = 1; i <= 4; ++i) {\n    values[`darken${i}`] = intToHex(darken(value, i))\n  }\n\n  return values\n}\n\nexport function lighten (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] + amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n\nexport function darken (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] - amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n","/* eslint-disable no-multi-spaces */\n// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as ThemeUtils from './utils'\n\n// Types\nimport Vue from 'vue'\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemes,\n  VuetifyThemeVariant,\n  Theme as ITheme,\n} from 'vuetify/types/services/theme'\n\nexport class Theme extends Service {\n  static property: 'theme' = 'theme'\n\n  public disabled = false\n\n  public options: ITheme['options']\n\n  public styleEl?: HTMLStyleElement\n\n  public themes: VuetifyThemes\n\n  public defaults: VuetifyThemes\n\n  private isDark = null as boolean | null\n\n  private vueInstance = null as Vue | null\n\n  private vueMeta = null as any | null\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      dark,\n      disable,\n      options,\n      themes,\n    } = preset[Theme.property]\n\n    this.dark = Boolean(dark)\n    this.defaults = this.themes = themes\n    this.options = options\n\n    if (disable) {\n      this.disabled = true\n\n      return\n    }\n\n    this.themes = {\n      dark: this.fillVariant(themes.dark, true),\n      light: this.fillVariant(themes.light, false),\n    }\n  }\n\n  // When setting css, check for element\n  // and apply new values\n  set css (val: string) {\n    if (this.vueMeta) {\n      if (this.isVueMeta23) {\n        this.applyVueMeta23()\n      }\n      return\n    }\n    this.checkOrCreateStyleElement() && (this.styleEl!.innerHTML = val)\n  }\n\n  set dark (val: boolean) {\n    const oldDark = this.isDark\n\n    this.isDark = val\n    // Only apply theme after dark\n    // has already been set before\n    oldDark != null && this.applyTheme()\n  }\n\n  get dark () {\n    return Boolean(this.isDark)\n  }\n\n  // Apply current theme default\n  // only called on client side\n  public applyTheme (): void {\n    if (this.disabled) return this.clearCss()\n\n    this.css = this.generatedStyles\n  }\n\n  public clearCss (): void {\n    this.css = ''\n  }\n\n  // Initialize theme for SSR and SPA\n  // Attach to ssrContext head or\n  // apply new theme to document\n  public init (root: Vue, ssrContext?: any): void {\n    if (this.disabled) return\n\n    /* istanbul ignore else */\n    if ((root as any).$meta) {\n      this.initVueMeta(root)\n    } else if (ssrContext) {\n      this.initSSR(ssrContext)\n    }\n\n    this.initTheme()\n  }\n\n  // Allows for you to set target theme\n  public setTheme (theme: 'light' | 'dark', value: object) {\n    this.themes[theme] = Object.assign(this.themes[theme], value)\n    this.applyTheme()\n  }\n\n  // Reset theme defaults\n  public resetThemes () {\n    this.themes.light = Object.assign({}, this.defaults.light)\n    this.themes.dark = Object.assign({}, this.defaults.dark)\n    this.applyTheme()\n  }\n\n  // Check for existence of style element\n  private checkOrCreateStyleElement (): boolean {\n    this.styleEl = document.getElementById('vuetify-theme-stylesheet') as HTMLStyleElement\n\n    /* istanbul ignore next */\n    if (this.styleEl) return true\n\n    this.genStyleElement() // If doesn't have it, create it\n\n    return Boolean(this.styleEl)\n  }\n\n  private fillVariant (\n    theme: Partial<VuetifyThemeVariant> = {},\n    dark: boolean\n  ): VuetifyThemeVariant {\n    const defaultTheme = this.themes[dark ? 'dark' : 'light']\n\n    return Object.assign({},\n      defaultTheme,\n      theme\n    )\n  }\n\n  // Generate the style element\n  // if applicable\n  private genStyleElement (): void {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return\n\n    /* istanbul ignore next */\n    const options = this.options || {}\n\n    this.styleEl = document.createElement('style')\n    this.styleEl.type = 'text/css'\n    this.styleEl.id = 'vuetify-theme-stylesheet'\n\n    if (options.cspNonce) {\n      this.styleEl.setAttribute('nonce', options.cspNonce)\n    }\n\n    document.head.appendChild(this.styleEl)\n  }\n\n  private initVueMeta (root: any) {\n    this.vueMeta = root.$meta()\n    if (this.isVueMeta23) {\n      // vue-meta needs to apply after mounted()\n      root.$nextTick(() => {\n        this.applyVueMeta23()\n      })\n      return\n    }\n\n    const metaKeyName = typeof this.vueMeta.getOptions === 'function' ? this.vueMeta.getOptions().keyName : 'metaInfo'\n    const metaInfo = root.$options[metaKeyName] || {}\n\n    root.$options[metaKeyName] = () => {\n      metaInfo.style = metaInfo.style || []\n\n      const vuetifyStylesheet = metaInfo.style.find((s: any) => s.id === 'vuetify-theme-stylesheet')\n\n      if (!vuetifyStylesheet) {\n        metaInfo.style.push({\n          cssText: this.generatedStyles,\n          type: 'text/css',\n          id: 'vuetify-theme-stylesheet',\n          nonce: (this.options || {}).cspNonce,\n        })\n      } else {\n        vuetifyStylesheet.cssText = this.generatedStyles\n      }\n\n      return metaInfo\n    }\n  }\n\n  private applyVueMeta23 () {\n    const { set } = this.vueMeta.addApp('vuetify')\n\n    set({\n      style: [{\n        cssText: this.generatedStyles,\n        type: 'text/css',\n        id: 'vuetify-theme-stylesheet',\n        nonce: (this.options || {}).cspNonce,\n      }],\n    })\n  }\n\n  private initSSR (ssrContext?: any) {\n    const options = this.options || {}\n    // SSR\n    const nonce = options.cspNonce ? ` nonce=\"${options.cspNonce}\"` : ''\n    ssrContext.head = ssrContext.head || ''\n    ssrContext.head += `<style type=\"text/css\" id=\"vuetify-theme-stylesheet\"${nonce}>${this.generatedStyles}</style>`\n  }\n\n  private initTheme () {\n    // Only watch for reactivity on client side\n    if (typeof document === 'undefined') return\n\n    // If we get here somehow, ensure\n    // existing instance is removed\n    if (this.vueInstance) this.vueInstance.$destroy()\n\n    // Use Vue instance to track reactivity\n    // TODO: Update to use RFC if merged\n    // https://github.com/vuejs/rfcs/blob/advanced-reactivity-api/active-rfcs/0000-advanced-reactivity-api.md\n    this.vueInstance = new Vue({\n      data: { themes: this.themes },\n\n      watch: {\n        themes: {\n          immediate: true,\n          deep: true,\n          handler: () => this.applyTheme(),\n        },\n      },\n    })\n  }\n\n  get currentTheme () {\n    const target = this.dark ? 'dark' : 'light'\n\n    return this.themes[target]\n  }\n\n  get generatedStyles (): string {\n    const theme = this.parsedTheme\n    /* istanbul ignore next */\n    const options = this.options || {}\n    let css\n\n    if (options.themeCache != null) {\n      css = options.themeCache.get(theme)\n      /* istanbul ignore if */\n      if (css != null) return css\n    }\n\n    css = ThemeUtils.genStyles(theme, options.customProperties)\n\n    if (options.minifyTheme != null) {\n      css = options.minifyTheme(css)\n    }\n\n    if (options.themeCache != null) {\n      options.themeCache.set(theme, css)\n    }\n\n    return css\n  }\n\n  get parsedTheme (): VuetifyParsedTheme {\n    /* istanbul ignore next */\n    const theme = this.currentTheme || {}\n    return ThemeUtils.parse(theme)\n  }\n\n  // Is using v2.3 of vue-meta\n  // https://github.com/nuxt/vue-meta/releases/tag/v2.3.0\n  private get isVueMeta23 (): boolean {\n    return typeof this.vueMeta.addApp === 'function'\n  }\n}\n","import { install } from './install'\n\n// Types\nimport Vue from 'vue'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\nimport {\n  VuetifyService,\n  VuetifyServiceContract,\n} from 'vuetify/types/services'\n\n// Services\nimport * as services from './services'\n\nexport default class Vuetify {\n  static install = install\n\n  static installed = false\n\n  static version = __VUETIFY_VERSION__\n\n  public framework: Dictionary<VuetifyServiceContract> = {}\n\n  public installed: string[] = []\n\n  public preset = {} as VuetifyPreset\n\n  public userPreset: UserVuetifyPreset = {}\n\n  constructor (userPreset: UserVuetifyPreset = {}) {\n    this.userPreset = userPreset\n\n    this.use(services.Presets)\n    this.use(services.Application)\n    this.use(services.Breakpoint)\n    this.use(services.Goto)\n    this.use(services.Icons)\n    this.use(services.Lang)\n    this.use(services.Theme)\n  }\n\n  // Called on the new vuetify instance\n  // bootstrap in install beforeCreate\n  // Exposes ssrContext if available\n  init (root: Vue, ssrContext?: object) {\n    this.installed.forEach(property => {\n      const service = this.framework[property]\n\n      service.framework = this.framework\n\n      service.init(root, ssrContext)\n    })\n\n    // rtl is not installed and\n    // will never be called by\n    // the init process\n    this.framework.rtl = Boolean(this.preset.rtl) as any\n  }\n\n  // Instantiate a VuetifyService\n  use (Service: VuetifyService) {\n    const property = Service.property\n\n    if (this.installed.includes(property)) return\n\n    // TODO maybe a specific type for arg 2?\n    this.framework[property] = new Service(this.preset, this as any)\n    this.installed.push(property)\n  }\n}\n","import OurVue, { VueConstructor } from 'vue'\nimport { VuetifyUseOptions } from 'types'\nimport { consoleError } from './util/console'\n\nexport function install (Vue: VueConstructor, args: VuetifyUseOptions = {}) {\n  if ((install as any).installed) return\n  (install as any).installed = true\n\n  if (OurVue !== Vue) {\n    consoleError('Multiple instances of Vue detected\\nSee https://github.com/vuetifyjs/vuetify/issues/4068\\n\\nIf you\\'re seeing \"$attrs is readonly\", it\\'s caused by this')\n  }\n\n  const components = args.components || {}\n  const directives = args.directives || {}\n\n  for (const name in directives) {\n    const directive = directives[name]\n\n    Vue.directive(name, directive)\n  }\n\n  (function registerComponents (components: any) {\n    if (components) {\n      for (const key in components) {\n        const component = components[key]\n        if (component && !registerComponents(component.$_vuetify_subcomponents)) {\n          Vue.component(key, component as typeof Vue)\n        }\n      }\n      return true\n    }\n    return false\n  })(components)\n\n  // Used to avoid multiple mixins being setup\n  // when in dev mode and hot module reload\n  // https://github.com/vuejs/vue/issues/5089#issuecomment-284260111\n  if (Vue.$_vuetify_installed) return\n  Vue.$_vuetify_installed = true\n\n  Vue.mixin({\n    beforeCreate () {\n      const options = this.$options as any\n\n      if (options.vuetify) {\n        options.vuetify.init(this, options.ssrContext)\n        this.$vuetify = Vue.observable(options.vuetify.framework)\n      } else {\n        this.$vuetify = (options.parent && options.parent.$vuetify) || this\n      }\n    },\n  })\n}\n","export const ASR_CORRECTIONS = [\n  [\"replacethis\", \"with this\"],\n  [\"apparantly\", \"apparently\"],\n  [\"foster\", \"faster\"],\n  [\"swift bic\", \"SWIFTBIC\"]\n];\n","function deferred() {\n  var def = {};\n  def.promise = new Promise(function (resolve, reject) {\n    def.resolve = resolve;\n    def.reject = reject;\n  });\n  return def;\n}\n\nexport default deferred;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","export default (function () {\n\tvar handlers = [];\n\n\tvar sideEffectsMiddleware = function sideEffectsMiddleware(store) {\n\t\treturn function (next) {\n\t\t\treturn function (action) {\n\t\t\t\tvar result = next(action);\n\n\t\t\t\thandlers.forEach(function (handler) {\n\t\t\t\t\thandler(action, store);\n\t\t\t\t});\n\n\t\t\t\treturn result;\n\t\t\t};\n\t\t};\n\t};\n\n\tsideEffectsMiddleware.add = function (handler) {\n\t\thandlers.push(handler);\n\t};\n\n\treturn sideEffectsMiddleware;\n});","var testKey = '__test_storage_support__';\n\nexport var testStorageSupport = function testStorageSupport() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'local';\n\n  try {\n    var storage = window[type + 'Storage'];\n    storage.setItem(testKey, true);\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n    return true;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport var createStorage = function createStorage() {\n  var memoryStorage = Object.defineProperties({}, {\n    getItem: {\n      value: function value(key) {\n        return memoryStorage[key] || null;\n      }\n    },\n    setItem: {\n      value: function value(key, _value) {\n        try {\n          memoryStorage[key] = String(_value);\n        } catch (err) {}\n      }\n    },\n    removeItem: {\n      value: function value(key) {\n        delete memoryStorage[key];\n      }\n    },\n    clear: {\n      value: function value() {\n        Object.keys(memoryStorage).forEach(memoryStorage.removeItem);\n      }\n    },\n    key: {\n      value: function value(index) {\n        return Object.keys(memoryStorage)[index] || null;\n      }\n    },\n    length: {\n      get: function get() {\n        return Object.keys(memoryStorage).length;\n      }\n    }\n  });\n  return memoryStorage;\n};\n\nexport default /*#__PURE__*/createStorage();","import memoryStorage, { testStorageSupport } from 'memory-web-storage';\n\nvar storage = testStorageSupport() ? window.localStorage : memoryStorage;\n\nvar index = {\n\tsetItem: function setItem(key, data) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.setItem(key, data));\n\t\t});\n\t},\n\tgetItem: function getItem(key) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.getItem(key));\n\t\t});\n\t},\n\tremoveItem: function removeItem(key) {\n\t\treturn new Promise(function (resolve) {\n\t\t\treturn resolve(storage.removeItem(key));\n\t\t});\n\t}\n};\n\nexport default index;\n","var index = typeof fetch=='function' ? fetch : function(url, options) {\n\toptions = options || {};\n\treturn new Promise( function (resolve, reject) {\n\t\tvar request = new XMLHttpRequest();\n\n\t\trequest.open(options.method || 'get', url);\n\n\t\tfor (var i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\trequest.onload = function () {\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.send(options.body);\n\n\t\tfunction response() {\n\t\t\tvar keys = [],\n\t\t\t\tall = [],\n\t\t\t\theaders = {},\n\t\t\t\theader;\n\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):\\s*([\\s\\S]*?)$/gm, function (m, key, value) {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theader = headers[key];\n\t\t\t\theaders[key] = header ? (header + \",\" + value) : value;\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tok: (request.status/200|0) == 1,\t\t// 200-399\n\t\t\t\tstatus: request.status,\n\t\t\t\tstatusText: request.statusText,\n\t\t\t\turl: request.responseURL,\n\t\t\t\tclone: response,\n\t\t\t\ttext: function () { return Promise.resolve(request.responseText); },\n\t\t\t\tjson: function () { return Promise.resolve(request.responseText).then(JSON.parse); },\n\t\t\t\txml: function () { return Promise.resolve(request.responseXML); },\n\t\t\t\tblob: function () { return Promise.resolve(new Blob([request.response])); },\n\t\t\t\theaders: {\n\t\t\t\t\tkeys: function () { return keys; },\n\t\t\t\t\tentries: function () { return all; },\n\t\t\t\t\tget: function (n) { return headers[n.toLowerCase()]; },\n\t\t\t\t\thas: function (n) { return n.toLowerCase() in headers; }\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t});\n};\n\nexport default index;\n//# sourceMappingURL=unfetch.es.js.map\n","import { toPairs, fromPairs } from '@livechat/data-utils';\n\nvar buildQueryString = function buildQueryString(obj) {\n  return toPairs(obj).map(function (pair) {\n    return pair.map(encodeURIComponent).join('=');\n  }).join('&');\n};\n\nvar decodeQueryString = function decodeQueryString(query) {\n  var pairs = query.split('&').map(function (pair) {\n    return pair.split('=').map(decodeURIComponent);\n  });\n  var decoded = fromPairs(pairs);\n  return decoded;\n};\n\nvar hostnameRegexp = /(?:[^:]+:\\/\\/)?([^/\\s]+)/;\nfunction getHostname(url) {\n  var hostnameMatch = url.match(hostnameRegexp);\n  return hostnameMatch && hostnameMatch[1];\n}\n\nvar originRegexp = /[^:]+:\\/\\/[^(/|?)\\s]+/;\n\nvar getOrigin = function getOrigin(url) {\n  var domain = url.match(originRegexp);\n  return domain && domain[0];\n};\n\nvar searchRegexp = /.*?\\?([^#]+)/;\n\nvar getSearch = function getSearch(url) {\n  var match = url.match(searchRegexp);\n  return match ? \"?\" + match[1] : '';\n};\n\nvar trimSearch = function trimSearch(search) {\n  return search.replace(/^\\?/, '');\n};\n\nvar getQueryParams = function getQueryParams(url) {\n  var search = trimSearch(getSearch(url));\n  return decodeQueryString(search ? search : url);\n};\n\nvar getQueryParam = function getQueryParam(name, url) {\n  return getQueryParams(url)[name];\n};\n\nvar pathnameRegexp = /^(?:https?:)?\\/\\/[^/]+\\/([^?#]+)/;\n\nvar getPathname = function getPathname(url) {\n  var pathname = url.match(pathnameRegexp);\n  return \"/\" + (pathname && pathname[1] || '');\n};\n\n// URL can contain leading C0 control or \\u0020 SPACE,\n// and any newline or tab are filtered out as if they're not part of the URL.\n// https://url.spec.whatwg.org/#url-parsing\n// Tab or newline are defined as \\r\\n\\t:\n// https://infra.spec.whatwg.org/#ascii-tab-or-newline\n// A C0 control is a code point in the range \\u0000 NULL to \\u001F\n// INFORMATION SEPARATOR ONE, inclusive:\n// https://infra.spec.whatwg.org/#c0-control-or-space\nvar intersperseWithTabOrNewline = function intersperseWithTabOrNewline(str) {\n  return str.replace(/\\w/g, '$&[\\\\r\\\\n\\\\t]*');\n};\n\nvar unsafeProtocol = new RegExp(\"^[\\0-\\x1F]*(\" + intersperseWithTabOrNewline('javascript') + \"|\" + intersperseWithTabOrNewline('data') + \"):\", 'i'); // would be better to whitelist things\n// but people might paste in protocolless URLs\n// and we would filter them out\n\nvar hasUnsafeProtocol = function hasUnsafeProtocol(url) {\n  return unsafeProtocol.test(url);\n};\n\nvar protocolRegexp = /^((http(s)?:)?\\/\\/)/;\n\nvar removeProtocol = function removeProtocol(url) {\n  return url.replace(protocolRegexp, '');\n};\n\nvar protocolRegexp$1 = /^((http(s)?:)?\\/\\/)/;\n\nvar getProtocol = function getProtocol(url) {\n  var match = url.match(protocolRegexp$1);\n  return match ? match[2] : null;\n};\n\nexport { buildQueryString, decodeQueryString, getHostname, getOrigin, getQueryParam, getQueryParams, getPathname, getSearch, hasUnsafeProtocol, removeProtocol, trimSearch, getProtocol };\n","import SockJS from 'sockjs-client';\nimport mitt from '@livechat/mitt';\nimport { buildQueryString } from '@livechat/url-utils';\n\nvar backo = function backo(_ref) {\n  var _ref$min = _ref.min,\n      min = _ref$min === void 0 ? 1000 : _ref$min,\n      _ref$max = _ref.max,\n      max = _ref$max === void 0 ? 5000 : _ref$max,\n      _ref$jitter = _ref.jitter,\n      jitter = _ref$jitter === void 0 ? 0.5 : _ref$jitter;\n  var attempts = 0;\n  return {\n    duration: function duration() {\n      var ms = min * Math.pow(2, attempts++);\n\n      if (jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n      }\n\n      return Math.min(ms, max) | 0;\n    },\n    reset: function reset() {\n      attempts = 0;\n    }\n  };\n};\n\n// based on WebSocket's readyState - https://www.w3.org/TR/websockets/#the-websocket-interface\nvar CONNECTING = 0;\nvar OPEN = 1;\nvar CLOSED = 3;\n\nvar createSockJSManager = function createSockJSManager(url, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      query = _ref.query,\n      _ref$transports = _ref.transports,\n      transports = _ref$transports === void 0 ? ['websocket', 'xhr-polling'] : _ref$transports;\n\n  var finalUrl = \"\" + url + (!query ? '' : '?' + buildQueryString(query));\n  var emitter = mitt();\n  var backoff = backo({\n    min: 1000,\n    max: 5000,\n    jitter: 0.5\n  });\n  var state = CLOSED;\n  var reconnectTimer;\n  var socket = null;\n\n  var openListener = function openListener() {\n    state = OPEN;\n    backoff.reset();\n    emitter.emit('connect');\n  };\n\n  var closeListener = function closeListener() {\n    state = CLOSED;\n    socket = null;\n    emitter.emit('disconnect'); // eslint-disable-next-line no-use-before-define\n\n    reconnect();\n  };\n\n  var messageListener = function messageListener(_ref2) {\n    var data = _ref2.data;\n    emitter.emit(\"message\", data);\n  };\n\n  var heartbeatListener = function heartbeatListener() {\n    emitter.emit('heartbeat');\n  };\n\n  var addEventListeners = function addEventListeners(instance) {\n    instance.addEventListener('open', openListener);\n    instance.addEventListener('close', closeListener);\n    instance.addEventListener('message', messageListener);\n    instance.addEventListener('heartbeat', heartbeatListener);\n  };\n\n  var removeEventListeners = function removeEventListeners(instance) {\n    instance.removeEventListener('open', openListener);\n    instance.removeEventListener('close', closeListener);\n    instance.removeEventListener('message', messageListener);\n    instance.removeEventListener('heartbeat', heartbeatListener);\n  };\n\n  var close = function close() {\n    state = CLOSED;\n\n    if (!socket) {\n      return;\n    }\n\n    removeEventListeners(socket);\n    socket.close();\n    socket = null;\n  };\n\n  var connect = function connect() {\n    state = CONNECTING;\n    socket = new SockJS(finalUrl, undefined, {\n      transports: transports\n    });\n    addEventListeners(socket);\n  };\n\n  var reconnect = function reconnect(delay) {\n    if (delay === void 0) {\n      delay = backoff.duration();\n    }\n\n    clearTimeout(reconnectTimer);\n\n    if (delay === 0) {\n      connect();\n      return;\n    }\n\n    reconnectTimer = setTimeout(connect, delay);\n  };\n\n  var managedSocket = {\n    connect: function (_connect) {\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      connect.toString = function () {\n        return _connect.toString();\n      };\n\n      return connect;\n    }(function () {\n      if (state !== CLOSED) {\n        throw new Error('Socket is already open or connecting.');\n      }\n\n      clearTimeout(reconnectTimer);\n      connect();\n    }),\n    destroy: function destroy() {\n      managedSocket.off();\n      managedSocket.disconnect();\n    },\n    disconnect: function disconnect() {\n      state = CLOSED;\n      clearTimeout(reconnectTimer);\n      close();\n    },\n    reconnect: function (_reconnect) {\n      function reconnect(_x) {\n        return _reconnect.apply(this, arguments);\n      }\n\n      reconnect.toString = function () {\n        return _reconnect.toString();\n      };\n\n      return reconnect;\n    }(function (delay) {\n      close();\n      reconnect(delay);\n    }),\n    emit: function emit(data) {\n      if (state !== OPEN) {\n        throw new Error('Socket is not connected.');\n      } // if we are connected we can be sure that socket is defined\n\n\n      socket.send(data);\n    },\n    getReadyState: function getReadyState() {\n      return state;\n    },\n    on: emitter.on,\n    off: emitter.off\n  };\n  return managedSocket;\n};\n\nexport default createSockJSManager;\n","import { noop, generateRandomId } from '@livechat/data-utils';\nimport createDeferred from '@livechat/deferred';\nimport createSockJSManager from '@livechat/sockjs-manager';\nimport mitt from '@livechat/mitt';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar createConnectionHero = function createConnectionHero() {\n  var resolve = noop;\n  var timer;\n  return {\n    cancel: function cancel() {\n      clearTimeout(timer);\n      resolve = noop;\n    },\n    check: function check() {\n      var deferred = createDeferred();\n      resolve = deferred.resolve;\n      timer = setTimeout(function () {\n        var err = new Error('Timeout.');\n        err.code = 'TIMEOUT';\n        deferred.reject(err);\n      }, 2000);\n      return deferred.promise;\n    },\n    resolve: function (_resolve) {\n      function resolve() {\n        return _resolve.apply(this, arguments);\n      }\n\n      resolve.toString = function () {\n        return _resolve.toString();\n      };\n\n      return resolve;\n    }(function () {\n      clearTimeout(timer);\n      resolve();\n    })\n  };\n};\n\n// based on server heartbeat interval - which is 25s\nvar DEFAULT_RESCHEDULE_PING_TIMEOUT = 30 * 1000;\n\n// this is not quite type-safe (it doesn't constraint soure & sink types that much)\n// it's generic and really simple though, so we don't waste time to make this completely type-safe\nvar forwardEvents = function forwardEvents(source, sink, types) {\n  types.forEach(function (type) {\n    source.on(type, function (data) {\n      sink.emit(type, data);\n    });\n  });\n};\n\nvar createPlatformClient = function createPlatformClient(url, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$query = _ref.query,\n      query = _ref$query === void 0 ? {} : _ref$query,\n      _ref$rescheduleTimeou = _ref.rescheduleTimeout,\n      rescheduleTimeout = _ref$rescheduleTimeou === void 0 ? DEFAULT_RESCHEDULE_PING_TIMEOUT : _ref$rescheduleTimeou,\n      transports = _ref.transports,\n      _ref$emitter = _ref.emitter,\n      emitter = _ref$emitter === void 0 ? mitt() : _ref$emitter;\n\n  var manager = createSockJSManager(url, {\n    query: _extends({\n      // needed for HAProxy sticky sessions\n      bh: generateRandomId()\n    }, query),\n    transports: transports\n  });\n  var pingTimer;\n  var connectionHero = createConnectionHero();\n\n  var isSocketOpen = function isSocketOpen() {\n    return manager.getReadyState() === 1;\n  };\n\n  var emit = function emit(frame) {\n    manager.emit(JSON.stringify(frame));\n    reschedulePing();\n  };\n\n  var ping = function ping() {\n    // ping action doesn't extend Outgoing - it's internal, so doesn't have to be specified by a consumer\n    // but it's safe to use emit with it\n    emit({\n      action: 'ping'\n    });\n  }; // extra measure to keep the connection alive\n  // in theory this timer should never fire though\n  // because we ping after each received heartbeat & sent request\n\n\n  var reschedulePing = function reschedulePing() {\n    clearTimeout(pingTimer);\n    pingTimer = setTimeout(ping, rescheduleTimeout);\n  };\n\n  var cleanupPossiblyPendingTasks = function cleanupPossiblyPendingTasks() {\n    connectionHero.cancel();\n    clearTimeout(pingTimer);\n  };\n\n  forwardEvents(manager, emitter, ['connect', 'disconnect']);\n  manager.on('connect', reschedulePing);\n  manager.on('disconnect', cleanupPossiblyPendingTasks); // ping has to be sent back upon receiving heartbeat\n  // this is somewhat guaranteed to be executed asap unlike browser timers\n\n  manager.on('heartbeat', ping);\n  manager.on('message', function (data) {\n    connectionHero.resolve();\n    var message = JSON.parse(data);\n\n    if (message.action === 'ping') {\n      return;\n    } // Incoming requires `action` property to be a string, we cannot forbid in typings `ping` as valid action though\n    // so TS cannot narrow the type down to `Incoming` here (it stays `Incoming | Ping`), that's why we are using `any` here\n\n\n    emitter.emit('message', message);\n  }); // React Native uses window as global object, but without addEventListener method\n\n  if (typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    window.addEventListener('online', function () {\n      if (!isSocketOpen()) {\n        return;\n      }\n\n      connectionHero.check().then(function () {\n        connectionHero.cancel();\n        emitter.emit('connection_recovered');\n      }, function (err) {\n        connectionHero.cancel();\n\n        if (err.code !== 'TIMEOUT') {\n          throw err;\n        }\n\n        manager.reconnect();\n      });\n      ping();\n    });\n    window.addEventListener('offline', function () {\n      connectionHero.cancel();\n\n      if (!isSocketOpen()) {\n        return;\n      }\n\n      emitter.emit('connection_unstable');\n    });\n  }\n\n  return _extends({}, manager, {\n    destroy: function destroy() {\n      cleanupPossiblyPendingTasks();\n      manager.destroy();\n    },\n    disconnect: function disconnect() {\n      cleanupPossiblyPendingTasks();\n      manager.disconnect();\n    },\n    reconnect: function reconnect(delay) {\n      cleanupPossiblyPendingTasks();\n      manager.reconnect(delay);\n    },\n    emit: emit,\n    on: emitter.on,\n    off: emitter.off\n  });\n};\n\nexport default createPlatformClient;\n","var toFormData = function toFormData(object) {\n\tvar formData = new FormData();\n\tObject.keys(object).forEach(function (key) {\n\t\treturn formData.append(key, object[key]);\n\t});\n\treturn formData;\n};\n\nvar index = (function (url, data) {\n\tvar spec = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\tvar xhr = new XMLHttpRequest();\n\n\tvar upload = new Promise(function (resolve, reject) {\n\t\tvar headers = spec.headers,\n\t\t    _spec$method = spec.method,\n\t\t    method = _spec$method === undefined ? 'POST' : _spec$method,\n\t\t    onProgress = spec.onProgress,\n\t\t    _spec$withCredentials = spec.withCredentials,\n\t\t    withCredentials = _spec$withCredentials === undefined ? false : _spec$withCredentials;\n\n\n\t\tif (typeof onProgress === 'function') {\n\t\t\txhr.upload.onprogress = function (event) {\n\t\t\t\tonProgress(event.loaded / event.total);\n\t\t\t};\n\t\t}\n\n\t\txhr.onload = function () {\n\t\t\tvar response = void 0;\n\n\t\t\ttry {\n\t\t\t\tresponse = JSON.parse(xhr.response);\n\t\t\t} catch (err) {\n\t\t\t\tresponse = xhr.response;\n\t\t\t}\n\n\t\t\tif (xhr.status >= 200 && xhr.status < 300) {\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treject(response);\n\t\t};\n\n\t\txhr.onerror = function (err) {\n\t\t\treject(err);\n\t\t};\n\n\t\txhr.onabort = function () {\n\t\t\treject({ code: 'CANCELLED' });\n\t\t};\n\n\t\txhr.open(method, url);\n\t\txhr.withCredentials = withCredentials;\n\n\t\tif (headers) {\n\t\t\tObject.keys(headers).forEach(function (header) {\n\t\t\t\treturn xhr.setRequestHeader(header, headers[header]);\n\t\t\t});\n\t\t}\n\n\t\txhr.send(toFormData(data));\n\t});\n\n\treturn {\n\t\t// $FlowFixMe - extending builtins is hard\n\t\tthen: function then(onResolve, onReject) {\n\t\t\treturn upload.then(onResolve, onReject);\n\t\t},\n\t\t// $FlowFixMe - extending builtins is hard\n\t\tcatch: function _catch(onReject) {\n\t\t\treturn upload.catch(onReject);\n\t\t},\n\t\tcancel: function cancel() {\n\t\t\txhr.abort();\n\t\t}\n\t};\n});\n\nexport default index;\n","import { forOwn, hasOwn, pick, sum } from '@livechat/data-utils';\n\nvar applyStyle = (function (style, element) {\n  forOwn(function (value, key) {\n    element.style[key] = value;\n  }, style);\n});\n\nvar applyElementSpec = (function (attributes, element) {\n  var iteratee = function iteratee(value, key) {\n    if (key === 'style') {\n      applyStyle(value, element);\n      return;\n    }\n\n    element.setAttribute(key, value);\n  };\n\n  forOwn(iteratee, attributes);\n});\n\nvar isIE = !!document.documentElement.currentStyle;\n\nvar getComputedStyle = function getComputedStyle(props, element) {\n  var styles = window.getComputedStyle(element);\n  var borderBox = styles.boxSizing === 'border-box';\n  var picked = pick(props, styles);\n\n  if (isIE && borderBox && hasOwn('width', picked) && picked.width !== null) {\n    var widths = [picked.width, styles.paddingLeft, styles.paddingRight, styles.borderLeftWidth, styles.borderRightWidth];\n    picked.width = sum(widths.map(parseFloat)) + 'px';\n  }\n\n  if (isIE && borderBox && hasOwn('height', picked) && picked.height !== null) {\n    var heights = [picked.height, styles.paddingTop, styles.paddingBottom, styles.borderTopWidth, styles.borderBottomWidth];\n    picked.height = sum(heights.map(parseFloat)) + 'px';\n  }\n\n  return picked;\n};\n\nfunction getRoot() {\n  return new Promise(function (resolve) {\n    var next = function next() {\n      if (!document.body) {\n        setTimeout(next, 100);\n        return;\n      }\n\n      resolve(document.body);\n    };\n\n    next();\n  });\n}\n\nfunction isScrollOnBottom(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return Math.abs(node.scrollTop + node.clientHeight - node.scrollHeight) <= threshold;\n}\n\nfunction isScrollOnTop(node, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  return node.scrollTop <= threshold;\n}\n\nfunction prependChild(parentElement, newElement) {\n  parentElement.insertBefore(newElement, parentElement.children[0]);\n}\n\nfunction scrollToBottom(node) {\n  node.scrollTop = node.scrollHeight;\n}\n\nfunction scrollToTop(node) {\n  node.scrollTop = 0;\n}\n\nfunction removeNode(node) {\n  var parentNode = node.parentNode;\n\n  if (parentNode) {\n    parentNode.removeChild(node);\n  }\n}\n\nexport { applyElementSpec, applyStyle, getComputedStyle, getRoot, isScrollOnBottom, isScrollOnTop, prependChild, scrollToBottom, scrollToTop, removeNode };\n","import { buildQueryString, getOrigin } from '@livechat/url-utils';\nimport { getRoot, removeNode } from '@livechat/dom-utils';\nimport storage from '@livechat/isomorphic-storage';\n\n// this is the same as \"https://accounts.livechatinc.com\"\n// it's hardcoded here because chat.io has its own ACCOUNTS_URL\n// but this variable has to have the same value for both LiveChat and chat.io\nvar POST_MESSAGE_ORIGIN = 'https://accounts.livechatinc.com'; // as const\n\nvar CUSTOMER_AUTH_FOOTPRINT = '@livechat/customer-auth'; // as const\n\nvar ACCOUNTS_URL = \"https://accounts.livechatinc.com\";\n\nvar buildParams = function buildParams(_ref, redirectUri) {\n  var clientId = _ref.clientId,\n      licenseId = _ref.licenseId;\n  return {\n    license_id: String(licenseId),\n    flow: 'button',\n    response_type: 'token',\n    client_id: clientId,\n    redirect_uri: redirectUri,\n    post_message_uri: redirectUri,\n    state: CUSTOMER_AUTH_FOOTPRINT\n  };\n};\n\nvar buildPath = function buildPath(_ref2) {\n  var uniqueGroups = _ref2.uniqueGroups,\n      licenseId = _ref2.licenseId,\n      groupId = _ref2.groupId;\n  return (uniqueGroups ? \"/licence/g\" + licenseId + \"_\" + groupId : '') + \"/customer\";\n};\n\nvar buildSrc = function buildSrc(config, redirectUri, env) {\n  var url = env === 'production' ? ACCOUNTS_URL : ACCOUNTS_URL.replace('accounts.', \"accounts.\" + env + \".\");\n  var path = buildPath(config);\n  var query = buildQueryString(buildParams(config, redirectUri));\n  return \"\" + url + path + \"?\" + query;\n};\n\nvar createError = function createError(_ref) {\n  var code = _ref.code,\n      message = _ref.message;\n  var err = new Error(message);\n  err.code = code;\n  return err;\n};\n\nvar parseTokenResponse = function parseTokenResponse(token, licenseId) {\n  if ('identity_exception' in token) {\n    throw createError({\n      code: 'SSO_IDENTITY_EXCEPTION',\n      message: token.identity_exception\n    });\n  }\n\n  if ('oauth_exception' in token) {\n    throw createError({\n      code: 'SSO_OAUTH_EXCEPTION',\n      message: token.oauth_exception\n    });\n  }\n\n  return {\n    accessToken: token.access_token,\n    entityId: token.entity_id,\n    expiresIn: token.expires_in * 1000,\n    tokenType: token.token_type,\n    creationDate: Date.now(),\n    licenseId: licenseId\n  };\n};\n\nvar getPostMessageOrigin = function getPostMessageOrigin(env) {\n  return env === 'production' ? POST_MESSAGE_ORIGIN : POST_MESSAGE_ORIGIN.replace('accounts.', \"accounts.\" + env + \".\");\n};\n\nvar buildIframe = function buildIframe(config, env) {\n  var iframe = document.createElement('iframe');\n  iframe.style.display = 'none';\n  iframe.setAttribute('src', buildSrc(config, getOrigin(String(window.location)) + window.location.pathname, env));\n  return iframe;\n};\n\nvar isTokenResponse = function isTokenResponse(data) {\n  return data && data.state === CUSTOMER_AUTH_FOOTPRINT;\n};\n\nvar fetchToken = function fetchToken(config, env) {\n  var licenseId = config.licenseId;\n  var postMessageOrigin = getPostMessageOrigin(env);\n  return new Promise(function (resolve, reject) {\n    var iframe = buildIframe(config, env);\n\n    var cleanup = function cleanup() {\n      removeNode(iframe); // eslint-disable-next-line no-use-before-define\n\n      window.removeEventListener('message', listener, false);\n    };\n\n    var timeoutId = setTimeout(function () {\n      cleanup();\n      reject(createError({\n        message: 'Request timed out.',\n        code: 'REQUEST_TIMEOUT'\n      }));\n    }, 15 * 1000);\n\n    var listener = function listener(_ref) {\n      var origin = _ref.origin,\n          data = _ref.data;\n\n      if (origin !== postMessageOrigin) {\n        return;\n      }\n\n      if (!isTokenResponse(data)) {\n        return;\n      }\n\n      clearTimeout(timeoutId);\n      cleanup();\n\n      try {\n        resolve(parseTokenResponse(data, licenseId));\n      } catch (err) {\n        reject(err);\n      }\n    };\n\n    window.addEventListener('message', listener, false);\n    getRoot().then(function (body) {\n      body.appendChild(iframe);\n    });\n  });\n};\n\nvar validateConfig = function validateConfig(_ref) {\n  var licenseId = _ref.licenseId,\n      clientId = _ref.clientId;\n\n  if (typeof licenseId !== 'number' || typeof clientId !== 'string') {\n    throw new Error('You need to pass valid configuration object: { licenseId, clientId }.');\n  }\n};\n\nvar isExpiredToken = function isExpiredToken(_ref) {\n  var creationDate = _ref.creationDate,\n      expiresIn = _ref.expiresIn;\n  return Date.now() >= creationDate + expiresIn;\n};\n\nvar createAuth = function createAuth(config, env) {\n  validateConfig(config);\n  var cacheKey = \"\" + \"@@lc_auth_token:\" + config.licenseId + (config.uniqueGroups ? \":\" + config.groupId : '');\n  var pendingTokenRequest = null;\n  var cachedToken = null;\n  var retrievingToken = storage.getItem(cacheKey).then(function (token) {\n    if (retrievingToken === null) {\n      return;\n    }\n\n    retrievingToken = null;\n\n    if (!token) {\n      return;\n    }\n\n    cachedToken = JSON.parse(token);\n  });\n\n  var getFreshToken = function getFreshToken() {\n    pendingTokenRequest = fetchToken(config, env).then(function (token) {\n      pendingTokenRequest = null;\n      storage.setItem(cacheKey, JSON.stringify(token));\n      cachedToken = token;\n      return token;\n    }, function (err) {\n      pendingTokenRequest = null;\n      throw err;\n    });\n    return pendingTokenRequest;\n  };\n\n  var getToken = function getToken() {\n    if (pendingTokenRequest) {\n      return pendingTokenRequest;\n    }\n\n    if (cachedToken && !isExpiredToken(cachedToken)) {\n      return Promise.resolve(cachedToken);\n    }\n\n    if (retrievingToken) {\n      return retrievingToken.then(getToken);\n    }\n\n    return getFreshToken();\n  };\n\n  var hasToken = function hasToken() {\n    if (retrievingToken) {\n      return retrievingToken.then(hasToken);\n    }\n\n    return Promise.resolve(!!cachedToken);\n  };\n\n  var invalidate = function invalidate() {\n    cachedToken = null;\n    retrievingToken = null;\n    return storage.removeItem(cacheKey);\n  };\n\n  return {\n    getFreshToken: getFreshToken,\n    getToken: getToken,\n    hasToken: hasToken,\n    invalidate: invalidate\n  };\n};\n\nexport default createAuth;\nexport { isExpiredToken, validateConfig };\n","import { mapValues, noop, hasOwn, identity, isObject, pickOwn, toPairs, generateUniqueId, keyBy, isEmpty, splitAt, splitRightWhenAccum, flatMap, includes, last, numericSortBy, uniqBy } from '@livechat/data-utils';\nimport deferred from '@livechat/deferred';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSideEffectsMiddleware from '@livechat/side-effects-middleware';\nimport storage from '@livechat/isomorphic-storage';\nimport promiseTry from '@livechat/promise-try';\nimport Backo from 'backo2';\nimport unfetch from 'unfetch';\nimport { buildQueryString } from '@livechat/url-utils';\nimport createPlatformClient from '@livechat/platform-client';\nimport mitt from '@livechat/mitt';\nimport rawUploadFile from '@livechat/file-upload';\nimport createAuth, { validateConfig } from '@livechat/customer-auth';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar CHANGE_REGION = 'change_region';\nvar CHECK_GOALS = 'check_goals';\nvar DESTROY = 'destroy';\nvar FAIL_ALL_REQUESTS = 'fail_all_requests';\nvar LOGIN_SUCCESS = 'login_success';\nvar PAUSE_CONNECTION = 'pause_connection';\nvar PREFETCH_TOKEN = 'prefetch_token';\nvar PUSH_RECEIVED = 'push_received';\nvar PUSH_RESPONSE_RECEIVED = 'push_response_received';\nvar RECONNECT = 'reconnect';\nvar REQUEST_FAILED = 'request_failed';\nvar RESPONSE_RECEIVED = 'response_received';\nvar SEND_REQUEST = 'send_request';\nvar SET_CHAT_ACTIVE = 'set_chat_active';\nvar SET_SELF_ID = 'set_self_id';\nvar SOCKET_CONNECTED = 'socket_connected';\nvar SOCKET_DISCONNECTED = 'socket_disconnected';\nvar SOCKET_RECOVERED = 'socket_recovered';\nvar SOCKET_UNSTABLE = 'socket_unstable';\nvar START_CONNECTION = 'start_connection';\nvar UPDATE_CUSTOMER_PAGE = 'update_customer_page';\n\nvar CONNECTION_LOST = 'CONNECTION_LOST';\nvar IDENTITY_MISMATCH = 'IDENTITY_MISMATCH';\nvar MISDIRECTED_CONNECTION = 'MISDIRECTED_CONNECTION';\nvar MISSING_CHAT_THREAD = 'MISSING_CHAT_THREAD';\nvar REQUEST_TIMEOUT = 'REQUEST_TIMEOUT';\nvar TOO_MANY_UNAUTHORIZED_CONNECTIONS = 'TOO_MANY_UNAUTHORIZED_CONNECTIONS';\n\nvar ACCEPT_GREETING = 'accept_greeting';\nvar ACTIVATE_CHAT = 'activate_chat';\nvar CANCEL_GREETING = 'cancel_greeting';\nvar CHECK_GOALS$1 = 'check_goals';\nvar DEACTIVATE_CHAT = 'deactivate_chat';\nvar DELETE_CHAT_PROPERTIES = 'delete_chat_properties';\nvar DELETE_EVENT_PROPERTIES = 'delete_event_properties';\nvar DELETE_THREAD_PROPERTIES = 'delete_thread_properties';\nvar GET_CHAT_THREADS = 'get_chat_threads';\nvar GET_CHAT_THREADS_SUMMARY = 'get_chat_threads_summary';\nvar GET_CUSTOMER = 'get_customer';\nvar GET_FORM = 'get_form';\nvar GET_PREDICTED_AGENT = 'get_predicted_agent';\nvar GET_URL_INFO = 'get_url_info';\nvar LIST_CHATS = 'list_chats';\nvar LIST_GROUP_STATUSES = 'list_group_statuses';\nvar LOGIN = 'login';\nvar MARK_EVENTS_AS_SEEN = 'mark_events_as_seen';\nvar SEND_EVENT = 'send_event';\nvar SEND_RICH_MESSAGE_POSTBACK = 'send_rich_message_postback';\nvar SEND_SNEAK_PEEK = 'send_sneak_peek';\nvar SET_CUSTOMER_SESSION_FIELDS = 'set_customer_session_fields';\nvar START_CHAT = 'start_chat';\nvar UPDATE_CHAT_PROPERTIES = 'update_chat_properties';\nvar UPDATE_CUSTOMER = 'update_customer';\nvar UPDATE_CUSTOMER_PAGE$1 = 'update_customer_page';\nvar UPDATE_EVENT_PROPERTIES = 'update_event_properties';\nvar UPDATE_THREAD_PROPERTIES = 'update_thread_properties';\nvar UPLOAD_FILE = 'upload_file';\n\nvar createReducer = function createReducer(initialState, reducersMap) {\n  if (process.env.NODE_ENV !== 'development' && reducersMap[undefined]) {\n    // eslint-disable-next-line no-console\n    console.warn([\"Reducer contains an 'undefined' action type.\", 'Have you misspelled a constant?'].join('\\n'));\n  }\n\n  return function reducer(state, action) {\n    if (state === void 0) {\n      state = initialState;\n    }\n\n    if (hasOwn(action.type, reducersMap)) {\n      return reducersMap[action.type](state, action.payload);\n    }\n\n    return state;\n  };\n}; // TODO: this is the same as built-in redux's combineReducers, should be remobed\n\nvar CONNECTED = 'connected';\nvar DESTROYED = 'destroyed';\nvar DISCONNECTED = 'disconnected';\nvar PAUSED = 'paused';\nvar RECONNECTING = 'reconnecting';\n\nvar AGENT = 'agent';\nvar CUSTOMER = 'customer';\n\nvar getAllRequests = function getAllRequests(state) {\n  return state.requests;\n};\nvar getConnectionStatus = function getConnectionStatus(state) {\n  return state.connection.status;\n};\nvar getRequest = function getRequest(state, id) {\n  return state.requests[id];\n};\nvar getSelfId = function getSelfId(state) {\n  return state.users.self.id;\n};\nvar isChatActive = function isChatActive(state, chatId) {\n  var chat = state.chats[chatId];\n  return !!chat && chat.active;\n};\nvar isConnected = function isConnected(state) {\n  return getConnectionStatus(state) === CONNECTED;\n};\nvar isDestroyed = function isDestroyed(state) {\n  return getConnectionStatus(state) === DESTROYED;\n};\n\nvar getEnvPart = function getEnvPart(_ref) {\n  var licenseId = _ref.licenseId,\n      env = _ref.env;\n\n  if (licenseId === 1520) {\n    return '.staging';\n  }\n\n  if (env === 'production') {\n    return '';\n  }\n\n  return \".\" + env;\n};\n\nvar getApiOrigin = function getApiOrigin(state) {\n  var region = state.region;\n  var regionPart = region ? \"-\" + region : '';\n  return \"https://api\" + regionPart + getEnvPart(state) + \".livechatinc.com\";\n};\nvar getServerUrl = function getServerUrl(state) {\n  return getApiOrigin(state) + \"/v3.2/customer\";\n};\nvar createInitialState = function createInitialState(initialStateData) {\n  var licenseId = initialStateData.licenseId,\n      _initialStateData$gro = initialStateData.groupId,\n      groupId = _initialStateData$gro === void 0 ? null : _initialStateData$gro,\n      env = initialStateData.env,\n      _initialStateData$pag = initialStateData.page,\n      page = _initialStateData$pag === void 0 ? null : _initialStateData$pag,\n      _initialStateData$reg = initialStateData.region,\n      region = _initialStateData$reg === void 0 ? null : _initialStateData$reg,\n      _initialStateData$ref = initialStateData.referrer,\n      referrer = _initialStateData$ref === void 0 ? null : _initialStateData$ref,\n      _initialStateData$uni = initialStateData.uniqueGroups,\n      uniqueGroups = _initialStateData$uni === void 0 ? false : _initialStateData$uni,\n      _initialStateData$mob = initialStateData.mobile,\n      mobile = _initialStateData$mob === void 0 ? false : _initialStateData$mob;\n  return {\n    licenseId: licenseId,\n    env: env,\n    groupId: groupId,\n    chats: {},\n    connection: {\n      status: DISCONNECTED\n    },\n    page: page,\n    region: region,\n    referrer: referrer,\n    requests: {},\n    users: {\n      self: {\n        id: null,\n        type: CUSTOMER\n      },\n      others: {}\n    },\n    uniqueGroups: uniqueGroups,\n    mobile: mobile\n  };\n};\n\nvar removeStoredRequest = function removeStoredRequest(state, _ref2) {\n  var id = _ref2.id;\n\n  // eslint-disable-next-line no-unused-vars\n  var _state$requests = state.requests,\n      requests = _objectWithoutPropertiesLoose(_state$requests, [id].map(_toPropertyKey));\n\n  return _extends({}, state, {\n    requests: requests\n  });\n};\n\nvar setConnectionStatus = function setConnectionStatus(status, state) {\n  return _extends({}, state, {\n    connection: _extends({}, state.connection, {\n      status: status\n    })\n  });\n};\n\nvar createReducer$1 = (function (state) {\n  var _createReducer;\n\n  return createReducer(state, (_createReducer = {}, _createReducer[CHANGE_REGION] = function (state, _ref3) {\n    var region = _ref3.region;\n    return _extends({}, state, {\n      region: region\n    });\n  }, _createReducer[DESTROY] = function (state) {\n    return setConnectionStatus(DESTROYED, state);\n  }, _createReducer[LOGIN_SUCCESS] = function (state) {\n    return setConnectionStatus(CONNECTED, state);\n  }, _createReducer[PAUSE_CONNECTION] = function (state) {\n    return setConnectionStatus(PAUSED, state);\n  }, _createReducer[REQUEST_FAILED] = removeStoredRequest, _createReducer[RESPONSE_RECEIVED] = removeStoredRequest, _createReducer[SEND_REQUEST] = function (state, _ref4) {\n    var _extends2;\n\n    var action = _ref4.action,\n        promise = _ref4.promise,\n        resolve = _ref4.resolve,\n        reject = _ref4.reject,\n        id = _ref4.id;\n    return _extends({}, state, {\n      requests: _extends({}, state.requests, (_extends2 = {}, _extends2[id] = {\n        id: id,\n        promise: promise,\n        resolve: resolve,\n        reject: reject,\n        action: action\n      }, _extends2))\n    });\n  }, _createReducer[SET_CHAT_ACTIVE] = function (state, _ref5) {\n    var _extends3;\n\n    var id = _ref5.id,\n        active = _ref5.active;\n    return _extends({}, state, {\n      chats: _extends({}, state.chats, (_extends3 = {}, _extends3[id] = _extends({}, state.chats[id], {\n        active: active\n      }), _extends3))\n    });\n  }, _createReducer[SET_SELF_ID] = function (state, payload) {\n    return _extends({}, state, {\n      users: _extends({}, state.users, {\n        self: _extends({}, state.users.self, {\n          id: payload.id\n        })\n      })\n    });\n  }, _createReducer[SOCKET_DISCONNECTED] = function (state) {\n    var previousStatus = getConnectionStatus(state);\n\n    if (process.env.NODE_ENV !== 'production' && (previousStatus === PAUSED || previousStatus === DESTROYED)) {\n      throw new Error(\"Got 'socket_disconnected' action when in \" + previousStatus + \" state. This should be an impossible state.\");\n    }\n\n    var state1 = setConnectionStatus(previousStatus === DISCONNECTED ? DISCONNECTED : RECONNECTING, state);\n    return _extends({}, state1, {\n      requests: {}\n    });\n  }, _createReducer[UPDATE_CUSTOMER_PAGE] = function (state, page) {\n    return _extends({}, state, {\n      page: _extends({}, state.page, page)\n    });\n  }, _createReducer));\n});\n\nfunction finalCreateStore(initialStateData) {\n  var compose = process.env.NODE_ENV === 'development' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: '@livechat/customer-sdk'\n  }) : identity;\n  var sideEffectsMiddleware = createSideEffectsMiddleware();\n  var store = createStore(createReducer$1(createInitialState(initialStateData)), compose(applyMiddleware(sideEffectsMiddleware)));\n  store.addSideEffectsHandler = sideEffectsMiddleware.add;\n  return store;\n}\n\nfunction createError(_ref) {\n  var message = _ref.message,\n      code = _ref.code;\n  var error = new Error(message);\n  error.code = code;\n  return error;\n}\n\nvar ACCESS_TOKEN_EXPIRED = 'access_token_expired';\nvar CUSTOMER_BANNED = 'customer_banned';\nvar CUSTOMER_TEMPORARILY_BLOCKED = 'customer_temporarily_blocked';\nvar LICENSE_NOT_FOUND = 'license_not_found';\nvar MISDIRECTED_CONNECTION$1 = 'misdirected_connection';\nvar PRODUCT_VERSION_CHANGED = 'product_version_changed';\nvar TOO_MANY_CONNECTIONS = 'too_many_connections'; // the limit of unauthorized connections is per IP\n\nvar TOO_MANY_UNAUTHORIZED_CONNECTIONS$1 = 'too_many_unauthorized_connections';\nvar UNSUPPORTED_VERSION = 'unsupported_version';\n\nvar ACCESS_SET = 'access_set';\nvar CHAT_DEACTIVATED = 'chat_deactivated';\nvar CHAT_PROPERTIES_DELETED = 'chat_properties_deleted';\nvar CHAT_PROPERTIES_UPDATED = 'chat_properties_updated';\nvar CHAT_TRANSFERRED = 'chat_transferred';\nvar CHAT_USER_ADDED = 'chat_user_added';\nvar CHAT_USER_REMOVED = 'chat_user_removed';\nvar CUSTOMER_DISCONNECTED = 'customer_disconnected';\nvar CUSTOMER_PAGE_UPDATED = 'customer_page_updated';\nvar CUSTOMER_SIDE_STORAGE_UPDATED = 'customer_side_storage_updated';\nvar CUSTOMER_UPDATED = 'customer_updated';\nvar EVENT_PROPERTIES_DELETED = 'event_properties_deleted';\nvar EVENT_PROPERTIES_UPDATED = 'event_properties_updated';\nvar EVENT_UPDATED = 'event_updated';\nvar EVENTS_MARKED_AS_SEEN = 'events_marked_as_seen';\nvar GREETING_ACCEPTED = 'greeting_accepted';\nvar GREETING_CANCELED = 'greeting_canceled';\nvar INCOMING_CHAT = 'incoming_chat';\nvar INCOMING_EVENT = 'incoming_event';\nvar INCOMING_GREETING = 'incoming_greeting';\nvar INCOMING_MULTICAST = 'incoming_multicast';\nvar INCOMING_RICH_MESSAGE_POSTBACK = 'incoming_rich_message_postback';\nvar INCOMING_TYPING_INDICATOR = 'incoming_typing_indicator';\nvar THREAD_PROPERTIES_DELETED = 'thread_properties_deleted';\nvar THREAD_PROPERTIES_UPDATED = 'thread_properties_updated';\n\nvar FILE = 'file';\nvar FILLED_FORM = 'filled_form';\nvar MESSAGE = 'message';\nvar RICH_MESSAGE = 'rich_message';\nvar SYSTEM_MESSAGE = 'system_message';\n\nvar createEventBase = function createEventBase(event) {\n  var base = {};\n\n  if (typeof event.customId === 'string') {\n    base.custom_id = event.customId;\n  }\n\n  if (isObject(event.properties)) {\n    base.properties = event.properties;\n  }\n\n  return base;\n}; // TODO: we could validate and throw here\n// but should we? maybe only in DEV mode?\n\n\nvar parseEvent = function parseEvent(event) {\n  switch (event.type) {\n    case MESSAGE:\n      {\n        var message = _extends({}, createEventBase(event), {\n          type: event.type,\n          text: event.text\n        });\n\n        if (event.postback) {\n          message.postback = {\n            id: event.postback.id,\n            thread_id: event.postback.threadId,\n            event_id: event.postback.eventId,\n            type: event.postback.type,\n            value: event.postback.value\n          };\n        }\n\n        return message;\n      }\n\n    case FILE:\n      {\n        var file = _extends({}, createEventBase(event), {\n          type: event.type,\n          url: event.url\n        });\n\n        return file;\n      }\n\n    case FILLED_FORM:\n      {\n        var filledForm = _extends({}, createEventBase(event), {\n          type: event.type,\n          form_id: event.formId,\n          fields: event.fields.map(function (field) {\n            switch (field.type) {\n              case 'group_chooser':\n                {\n                  if (!field.answer) {\n                    return field;\n                  }\n\n                  var _field$answer = field.answer,\n                      groupId = _field$answer.groupId,\n                      answer = _objectWithoutPropertiesLoose(_field$answer, [\"groupId\"]);\n\n                  return _extends({}, field, {\n                    answer: _extends({}, answer, {\n                      group_id: groupId\n                    })\n                  });\n                }\n\n              default:\n                return field;\n            }\n          })\n        });\n\n        return filledForm;\n      }\n\n    case SYSTEM_MESSAGE:\n      {\n        var systemMessage = _extends({}, createEventBase(event), {\n          type: event.type,\n          text: event.text,\n          system_message_type: event.systemMessageType\n        });\n\n        if (event.recipients) {\n          systemMessage.recipients = event.recipients;\n        }\n\n        return systemMessage;\n      }\n  }\n};\n\nvar parseThreadData = function parseThreadData(thread) {\n  var data = {};\n  var events = thread.events,\n      properties = thread.properties;\n\n  if (events) {\n    data.events = events.map(parseEvent);\n  }\n\n  if (properties) {\n    data.properties = properties;\n  }\n\n  return data;\n};\n\nvar parseActivationChatData = function parseActivationChatData(_ref) {\n  var chat = _ref.chat,\n      continuous = _ref.continuous;\n  var data = {\n    chat: {}\n  };\n\n  if (typeof continuous === 'boolean') {\n    data.continuous = continuous;\n  }\n\n  if (!chat) {\n    return data;\n  }\n\n  if ('id' in chat) {\n    data.chat.id = chat.id;\n  }\n\n  var access = chat.access,\n      thread = chat.thread,\n      properties = chat.properties;\n\n  if (access && access.groupIds) {\n    data.chat.access = {\n      group_ids: access.groupIds\n    };\n  }\n\n  if (properties) {\n    data.chat.properties = properties;\n  }\n\n  if (thread) {\n    data.chat.thread = parseThreadData(thread);\n  }\n\n  return data;\n};\nvar parseCustomerSessionFields = function parseCustomerSessionFields(sessionFields) {\n  return toPairs(sessionFields).map(function (_ref2) {\n    var _ref3;\n\n    var key = _ref2[0],\n        value = _ref2[1];\n    return _ref3 = {}, _ref3[key] = value, _ref3;\n  });\n};\nvar parseCustomerUpdate = function parseCustomerUpdate(update) {\n  var result = pickOwn(['avatar', 'name', 'email'], update);\n\n  if (update.sessionFields) {\n    result.session_fields = parseCustomerSessionFields(update.sessionFields);\n  }\n\n  return result;\n};\n\nvar destroy = function destroy(reason) {\n  return {\n    type: DESTROY,\n    payload: {\n      reason: reason\n    }\n  };\n};\nvar loginSuccess = function loginSuccess(payload) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: payload\n  };\n};\nvar prefetchToken = function prefetchToken(fresh) {\n  if (fresh === void 0) {\n    fresh = false;\n  }\n\n  return {\n    type: PREFETCH_TOKEN,\n    payload: {\n      fresh: fresh\n    }\n  };\n};\nvar reconnect = function reconnect(delay) {\n  return {\n    type: RECONNECT,\n    payload: {\n      delay: delay\n    }\n  };\n}; // TODO: this one was currently pretty hard to type in full\n// we should explore providing stricter types for this in the future\n\nvar sendRequest = function sendRequest(action, data, source) {\n  if (data === void 0) {\n    data = {};\n  }\n\n  return {\n    type: SEND_REQUEST,\n    payload: _extends({\n      action: action,\n      data: data\n    }, source && {\n      source: source\n    })\n  };\n};\nvar sendEvent = function sendEvent(_ref) {\n  var chatId = _ref.chatId,\n      event = _ref.event,\n      attachToLastThread = _ref.attachToLastThread;\n  var payload = {\n    chat_id: chatId,\n    event: parseEvent(event)\n  };\n\n  if (attachToLastThread) {\n    payload.attach_to_last_thread = true;\n  }\n\n  return sendRequest(SEND_EVENT, payload);\n};\nvar setChatActive = function setChatActive(id, active) {\n  return {\n    type: SET_CHAT_ACTIVE,\n    payload: {\n      id: id,\n      active: active\n    }\n  };\n};\nvar setSelfId = function setSelfId(id) {\n  return {\n    type: SET_SELF_ID,\n    payload: {\n      id: id\n    }\n  };\n};\nvar socketDisconnected = function socketDisconnected() {\n  return {\n    type: SOCKET_DISCONNECTED\n  };\n};\n\n// TODO: this thing is not really well typed and should be improved\nvar sendRequestAction = function sendRequestAction(store, action) {\n  action.payload.id = generateUniqueId(store.getState().requests);\n\n  var _deferred = deferred(),\n      resolve = _deferred.resolve,\n      reject = _deferred.reject,\n      promise = _deferred.promise;\n\n  action.payload.promise = promise;\n  action.payload.resolve = resolve;\n  action.payload.reject = reject;\n  store.dispatch(action);\n  return promise;\n};\n\nvar AUTHENTICATION = 'AUTHENTICATION';\nvar CUSTOMER_BANNED$1 = 'CUSTOMER_BANNED';\nvar USERS_LIMIT_REACHED = 'USERS_LIMIT_REACHED';\nvar WRONG_PRODUCT_VERSION = 'WRONG_PRODUCT_VERSION';\n\nvar getSideStorageKey = function getSideStorageKey(store) {\n  var _store$getState = store.getState(),\n      licenseId = _store$getState.licenseId,\n      groupId = _store$getState.groupId,\n      uniqueGroups = _store$getState.uniqueGroups;\n\n  return \"side_storage_\" + licenseId + (uniqueGroups ? \":\" + groupId : '');\n};\n\nvar getSideStorage = function getSideStorage(store) {\n  return storage.getItem(getSideStorageKey(store)).catch(noop).then(function (sideStorage) {\n    return JSON.parse(sideStorage || '{}');\n  }) // shouldnt get triggered, just a defensive measure against malformed storage entries\n  .catch(function () {\n    return {};\n  });\n};\nvar saveSideStorage = function saveSideStorage(store, sideStorage) {\n  return storage.setItem(getSideStorageKey(store), JSON.stringify(sideStorage)).catch(noop);\n};\n\nvar taskChain = function taskChain(_ref, onSuccess, onError) {\n  var steps = _ref.slice(0);\n\n  var cancelled = false;\n\n  var next = function next(intermediateResult) {\n    var step = steps.shift();\n    promiseTry(function () {\n      return step(intermediateResult);\n    }).then(function (result) {\n      if (cancelled) {\n        return;\n      }\n\n      if (steps.length) {\n        next(result);\n        return;\n      }\n\n      onSuccess(result);\n    }, function (error) {\n      if (cancelled) {\n        return;\n      }\n\n      onError(error);\n    });\n  };\n\n  next();\n  return {\n    cancel: function cancel() {\n      cancelled = true;\n    }\n  };\n};\n\nvar sendLoginFlowRequest = function sendLoginFlowRequest(store, type, payload) {\n  return sendRequestAction(store, sendRequest(type, payload, 'login'));\n};\n\nvar delay = function delay(ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, ms);\n  });\n};\n\nfunction createLoginTask(auth, customerDataProvider) {\n  var store;\n  var sentPage = null;\n  var task;\n  var backoff = new Backo({\n    min: 300,\n    max: 60000,\n    jitter: 0.3\n  });\n\n  var destroy$$1 = function destroy$$1(reason) {\n    return store.dispatch(destroy(reason));\n  };\n\n  var reconnect$$1 = function reconnect$$1() {\n    return store.dispatch(reconnect(backoff.duration()));\n  };\n\n  var getTokenAndSideStorage = function getTokenAndSideStorage() {\n    return Promise.all([auth.getToken(), getSideStorage(store)]);\n  };\n\n  var dispatchSelfId = function dispatchSelfId(_ref2) {\n    var token = _ref2[0],\n        sideStorage = _ref2[1];\n    var selfId = getSelfId(store.getState());\n\n    if (selfId === null) {\n      store.dispatch(setSelfId(token.entityId));\n    } else if (selfId !== token.entityId) {\n      var err = new Error('Identity has changed.');\n      err.code = IDENTITY_MISMATCH;\n      throw err;\n    }\n\n    return [token, sideStorage];\n  };\n\n  var sendLogin = function sendLogin(_ref3) {\n    var token = _ref3[0],\n        sideStorage = _ref3[1];\n    var state = store.getState();\n    var groupId = state.groupId,\n        page = state.page,\n        referrer = state.referrer,\n        mobile = state.mobile;\n    var payload = {\n      token: token.tokenType + \" \" + token.accessToken,\n      customer: typeof customerDataProvider === 'function' ? parseCustomerUpdate(customerDataProvider()) : {},\n      customer_side_storage: sideStorage,\n      is_mobile: mobile\n    };\n\n    if (typeof groupId === 'number') {\n      payload.group_id = groupId;\n    }\n\n    if (page !== null) {\n      sentPage = page;\n      payload.customer_page = page;\n    }\n\n    if (referrer !== null) {\n      payload.referrer = referrer;\n    }\n\n    return Promise.race([sendLoginFlowRequest(store, LOGIN, payload), delay(15 * 1000).then(function () {\n      return Promise.reject(createError({\n        message: 'Request timed out.',\n        code: REQUEST_TIMEOUT\n      }));\n    })]);\n  };\n\n  var updateCustomerPageIfNeeded = function updateCustomerPageIfNeeded() {\n    var _store$getState = store.getState(),\n        page = _store$getState.page;\n\n    if (sentPage !== page) {\n      sendLoginFlowRequest(store, UPDATE_CUSTOMER_PAGE$1, page).catch(noop);\n    }\n\n    sentPage = null;\n  };\n\n  return function (_store) {\n    // after switching to callbags, we should be able to use smth similar to redux-observable\n    // and thus just use store given to epic\n    store = _store;\n\n    if (task) {\n      task.cancel();\n    }\n\n    task = taskChain([getTokenAndSideStorage, dispatchSelfId, sendLogin], function (loginResponse) {\n      task = null;\n      backoff.reset(); // TODO: rethink if this should be handled by SDK consumer\n\n      updateCustomerPageIfNeeded();\n      store.dispatch(loginSuccess(loginResponse));\n    }, function (error) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('[Customer SDK] Login flow has thrown code', error.code, 'with', error);\n      }\n\n      switch (error.code) {\n        case AUTHENTICATION:\n          auth.getFreshToken();\n          reconnect$$1();\n          return;\n\n        case CONNECTION_LOST:\n          // this is connectivity problem, not a server error\n          // and is taken care of in socket module\n          // as it has its own backoff implementation\n          return;\n\n        case MISDIRECTED_CONNECTION:\n          // socket gets reinitialized on this anyway, so just ignore it here\n          return;\n        // those are auth errors, we should maybe export those constants from the auth package\n\n        case 'SSO_IDENTITY_EXCEPTION':\n        case 'SSO_OAUTH_EXCEPTION':\n          if (error.message === 'server_error' || error.message === 'temporarily_unavailable') {\n            reconnect$$1();\n            return;\n          }\n\n          destroy$$1(error.message);\n          return;\n\n        case IDENTITY_MISMATCH:\n        case CUSTOMER_BANNED$1:\n        case USERS_LIMIT_REACHED:\n        case WRONG_PRODUCT_VERSION:\n          destroy$$1(error.code.toLowerCase());\n          return;\n\n        default:\n          reconnect$$1();\n          return;\n      }\n    });\n  };\n}\n\nvar checkGoals = function checkGoals(store, auth, sessionFields) {\n  return auth.getToken().then(function (token) {\n    var state = store.getState();\n\n    if (getSelfId(state) === null) {\n      store.dispatch(setSelfId(token.entityId));\n    }\n\n    var page = state.page;\n\n    if (!page || !page.url) {\n      return;\n    }\n\n    var query = buildQueryString({\n      license_id: state.licenseId\n    });\n    var payload = {\n      // TODO: remove sending customer_fields once API releases their changes\n      customer_fields: sessionFields || {},\n      session_fields: parseCustomerSessionFields(sessionFields || {}),\n      group_id: state.groupId || 0,\n      page_url: page.url\n    };\n    return unfetch(getServerUrl(state) + \"/action/\" + CHECK_GOALS$1 + \"?\" + query, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: token.tokenType + \" \" + token.accessToken\n      },\n      body: JSON.stringify(payload)\n    }).then(function () {\n      // TODO: we should actually normalize response here\n      return undefined;\n    });\n  });\n};\n\nvar failAllRequests = function failAllRequests(_ref, reason) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  var state = getState();\n  var requests = getAllRequests(state);\n  dispatch({\n    type: FAIL_ALL_REQUESTS,\n    payload: {\n      rejects: Object.keys(requests).map(function (requestId) {\n        return requests[requestId].reject;\n      }),\n      reason: reason\n    }\n  });\n};\nvar failRequest = function failRequest(_ref2, requestAction, error) {\n  var getState = _ref2.getState,\n      dispatch = _ref2.dispatch;\n  var requestId = requestAction.payload.id;\n  dispatch({\n    type: REQUEST_FAILED,\n    payload: {\n      id: requestId,\n      reject: getState().requests[requestId].reject,\n      error: error\n    }\n  });\n};\n\nvar SUCCESS = Object.freeze({\n  success: true\n});\n\nvar parseCommonEventProps = function parseCommonEventProps(threadId, event) {\n  var parsed = {\n    id: event.id,\n    authorId: event.author_id,\n    createdAt: event.created_at,\n    threadId: threadId,\n    properties: event.properties || {}\n  };\n\n  if (event.custom_id !== undefined) {\n    parsed.customId = event.custom_id;\n  }\n\n  return parsed;\n};\n\nvar downsizeWithRatio = function downsizeWithRatio(max, dimensions) {\n  var _ref;\n\n  var biggerProp;\n  var smallerProp;\n  var bigger;\n  var smaller;\n\n  if (dimensions.height > dimensions.width) {\n    biggerProp = 'height';\n    smallerProp = 'width';\n    bigger = dimensions.height;\n    smaller = dimensions.width;\n  } else {\n    biggerProp = 'width';\n    smallerProp = 'height';\n    bigger = dimensions.width;\n    smaller = dimensions.height;\n  }\n\n  var ratio = max / bigger;\n  return _ref = {}, _ref[biggerProp] = Math.ceil(Math.min(bigger, max)), _ref[smallerProp] = Math.ceil(Math.min(ratio * smaller, smaller)), _ref;\n};\n\nvar parseImage = function parseImage(thread, image) {\n  return _extends({}, parseCommonEventProps(thread, image), {\n    type: FILE,\n    contentType: image.content_type,\n    url: image.url,\n    name: image.name,\n    width: image.width,\n    height: image.height,\n    thumbnails: {\n      default: _extends({\n        url: image.thumbnail_url\n      }, downsizeWithRatio(300, image)),\n      high: _extends({\n        url: image.thumbnail2x_url\n      }, downsizeWithRatio(600, image))\n    }\n  });\n};\n\nvar parseFile = function parseFile(thread, file) {\n  if (file.width !== undefined && file.height !== undefined) {\n    return parseImage(thread, file);\n  }\n\n  return _extends({}, parseCommonEventProps(thread, file), {\n    type: FILE,\n    contentType: file.content_type,\n    url: file.url,\n    name: file.name\n  });\n};\nvar parseFilledForm = function parseFilledForm(thread, filledForm) {\n  return _extends({}, parseCommonEventProps(thread, filledForm), {\n    type: FILLED_FORM,\n    formId: filledForm.form_id,\n    fields: filledForm.fields.map(function (field) {\n      switch (field.type) {\n        case 'group_chooser':\n          {\n            if (!field.answer) {\n              return field;\n            }\n\n            var _field$answer = field.answer,\n                groupId = _field$answer.group_id,\n                answer = _objectWithoutPropertiesLoose(_field$answer, [\"group_id\"]);\n\n            return _extends({}, field, {\n              answer: _extends({}, answer, {\n                groupId: groupId\n              })\n            });\n          }\n\n        default:\n          return field;\n      }\n    })\n  });\n};\nvar parseMessage = function parseMessage(thread, message) {\n  return _extends({}, parseCommonEventProps(thread, message), {\n    type: MESSAGE,\n    text: message.text\n  });\n};\n\nvar parseRichMessageElement = function parseRichMessageElement(element) {\n  var parsed = {};\n\n  if (typeof element.title === 'string') {\n    parsed.title = element.title;\n  }\n\n  if (typeof element.subtitle === 'string') {\n    parsed.subtitle = element.subtitle;\n  }\n\n  if (element.image) {\n    // TODO: we should reuse parseImage here\n    var image = element.image;\n    parsed.image = {\n      url: image.url,\n      name: image.name\n    };\n  }\n\n  if (element.buttons) {\n    parsed.buttons = element.buttons.map(function (serverButton) {\n      switch (serverButton.type) {\n        case 'message':\n        case 'phone':\n          {\n            return {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value,\n              role: serverButton.role || 'default'\n            };\n          }\n\n        case 'url':\n          {\n            var button = {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value,\n              role: serverButton.role || 'default'\n            };\n\n            if (serverButton.target) {\n              button.target = serverButton.target;\n            }\n\n            return button;\n          }\n\n        case 'webview':\n          {\n            var _button = {\n              type: serverButton.type,\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              value: serverButton.value,\n              role: serverButton.role || 'default'\n            };\n\n            if (typeof serverButton.webview_height === 'string') {\n              _button.webviewHeight = serverButton.webview_height;\n            }\n\n            return _button;\n          }\n\n        default:\n          {\n            return {\n              text: serverButton.text,\n              postbackId: serverButton.postback_id,\n              userIds: serverButton.user_ids,\n              role: serverButton.role || 'default'\n            };\n          }\n      }\n    });\n  }\n\n  return parsed;\n};\n\nvar parseRichMessage = function parseRichMessage(thread, richMessage) {\n  switch (richMessage.template_id) {\n    case 'cards':\n    case 'quick_replies':\n    case 'sticker':\n      return _extends({}, parseCommonEventProps(thread, richMessage), {\n        type: RICH_MESSAGE,\n        template: richMessage.template_id,\n        elements: richMessage.elements.map(parseRichMessageElement)\n      });\n\n    default:\n      return null;\n  }\n};\nvar parseSystemMessage = function parseSystemMessage(thread, systemMessage) {\n  var parsed = _extends({}, parseCommonEventProps(thread, _extends({}, systemMessage, {\n    author_id: 'system'\n  })), {\n    type: SYSTEM_MESSAGE,\n    text: systemMessage.text,\n    systemMessageType: systemMessage.system_message_type\n  });\n\n  if (systemMessage.text_vars) {\n    parsed.textVars = systemMessage.text_vars;\n  }\n\n  return parsed;\n};\nvar parseEvent$1 = function parseEvent(thread, event) {\n  switch (event.type) {\n    case FILE:\n      return parseFile(thread, event);\n\n    case FILLED_FORM:\n      return parseFilledForm(thread, event);\n\n    case MESSAGE:\n      return parseMessage(thread, event);\n\n    case RICH_MESSAGE:\n      return parseRichMessage(thread, event);\n\n    case SYSTEM_MESSAGE:\n      return parseSystemMessage(thread, event);\n\n    default:\n      return null;\n  }\n};\nvar parseGreeting = function parseGreeting(greeting) {\n  var parsed = {\n    id: greeting.id,\n    uniqueId: greeting.unique_id,\n    displayedFirstTime: greeting.displayed_first_time,\n    accepted: greeting.accepted || false,\n    agent: {\n      id: greeting.agent.id,\n      name: greeting.agent.name,\n      avatar: greeting.agent.avatar,\n      jobTitle: greeting.agent.job_title,\n      isBot: greeting.agent.is_bot || false\n    }\n  };\n\n  if ('text' in greeting) {\n    parsed.text = greeting.text;\n  }\n\n  if ('event' in greeting) {\n    if (greeting.event.type === 'message') {\n      parsed.text = greeting.event.text;\n    }\n\n    if (greeting.event.type === 'rich_message') {\n      parsed.__unsafeJSON = {\n        templateId: greeting.event.template_id,\n        elements: greeting.event.elements.map(parseRichMessageElement)\n      };\n    }\n  }\n\n  if (greeting.json) {\n    // TODO: remove the fallback after API release the new greeting object position to the prod env\n    parsed.__unsafeJSON = {\n      templateId: greeting.json.template_id,\n      elements: greeting.json.elements.map(parseRichMessageElement)\n    };\n  }\n\n  return parsed;\n};\n\n// so it's better to rely on a custom implementation\n\nvar parseCustomerSessionFields$1 = function parseCustomerSessionFields(sessionFields) {\n  return sessionFields.reduce(function (acc, field) {\n    var _Object$keys = Object.keys(field),\n        key = _Object$keys[0];\n\n    acc[key] = field[key];\n    return acc;\n  }, {});\n};\n\nvar parseAccess = function parseAccess(access) {\n  if (access === void 0) {\n    access = {};\n  }\n\n  return access.group_ids ? {\n    groupIds: access.group_ids\n  } : {};\n};\nvar getEventsSeenUpToMap = function getEventsSeenUpToMap(users) {\n  return mapValues(function (user) {\n    return user.events_seen_up_to ? user.events_seen_up_to : null;\n  }, keyBy('id', users));\n};\nvar parseThread = function parseThread(chatId, users, thread) {\n  var properties = thread.properties || {};\n  var parsed = {\n    id: thread.id,\n    chatId: chatId,\n    active: thread.active,\n    access: parseAccess(thread.access),\n    order: thread.order,\n    eventsSeenUpToMap: getEventsSeenUpToMap(users),\n    events: thread.events.map(function (event) {\n      return parseEvent$1(thread.id, event);\n    }).filter(Boolean),\n    properties: properties // TODO: we shouldnt check for -1 case in the future, but we need to wait until API implement filtering those old cases out\n\n  };\n\n  if (properties.lc2 && 'queue_pos' in properties.lc2 && properties.lc2.queue_pos > -1) {\n    parsed.queue = {\n      position: properties.lc2.queue_pos,\n      waitTime: properties.lc2.queue_waiting_time\n    };\n  }\n\n  return parsed;\n};\nvar parseChatAgent = function parseChatAgent(agent) {\n  return {\n    id: agent.id,\n    // keep literal here, so every non-customer gets treated as agent\n    // currently there are only 2 types of users - customer & agent (bots have type: \"agent\")\n    // so this is purely defensive measure, trying to stay future-proof\n    type: AGENT,\n    name: agent.name,\n    avatar: agent.avatar,\n    jobTitle: agent.job_title,\n    present: agent.present\n  };\n};\nvar parseCustomerOptionalProps = function parseCustomerOptionalProps(customerProps) {\n  var optionalProps = pickOwn(['avatar', 'email', 'name'], customerProps);\n\n  if (customerProps.session_fields) {\n    optionalProps.sessionFields = parseCustomerSessionFields$1(customerProps.session_fields);\n  }\n\n  return optionalProps;\n};\n\nvar parseCustomerCommonProps = function parseCustomerCommonProps(customer) {\n  var optionalProps = parseCustomerOptionalProps(customer);\n  return _extends({\n    id: customer.id,\n    type: CUSTOMER\n  }, optionalProps, {\n    sessionFields: optionalProps.sessionFields || {}\n  });\n};\n\nvar parseChatCustomer = function parseChatCustomer(customer) {\n  return _extends({}, parseCustomerCommonProps(customer), {\n    present: customer.present\n  });\n};\nvar parseCustomer = function parseCustomer(customer) {\n  var statistics = customer.statistics;\n  return _extends({}, parseCustomerCommonProps(customer), {\n    statistics: {\n      chatsCount: statistics.chats_count,\n      threadsCount: statistics.threads_count,\n      visitsCount: statistics.visits_count,\n      pageViewsCount: statistics.page_views_count,\n      greetingsShownCount: statistics.greetings_shown_count,\n      greetingsAcceptedCount: statistics.greetings_accepted_count\n    }\n  });\n};\nvar parsePredictedAgent = function parsePredictedAgent(agent) {\n  return {\n    id: agent.id,\n    type: AGENT,\n    name: agent.name,\n    avatar: agent.avatar,\n    jobTitle: agent.job_title,\n    isBot: agent.is_bot\n  };\n};\nvar parseChatUser = function parseChatUser(user) {\n  return user.type === CUSTOMER ? parseChatCustomer(user) : parseChatAgent(user);\n};\nvar parseGroupStatus = function parseGroupStatus(status) {\n  return status === 'offline' ? 'offline' : 'online';\n};\n\nvar _FAIL_ALL_REQUESTS_ME;\n\nvar SMALL_RECONNECT_DELAY = 100;\nvar FAIL_ALL_REQUESTS_MESSAGES = (_FAIL_ALL_REQUESTS_ME = {}, _FAIL_ALL_REQUESTS_ME[CONNECTION_LOST] = 'Connection lost.', _FAIL_ALL_REQUESTS_ME[MISDIRECTED_CONNECTION] = 'Connected to wrong region.', _FAIL_ALL_REQUESTS_ME);\n\nvar updateStateIfNeeded = function updateStateIfNeeded(store, action) {\n  var state = store.getState();\n\n  switch (action.type) {\n    case PUSH_RESPONSE_RECEIVED:\n    case PUSH_RECEIVED:\n      switch (action.payload.action) {\n        case CHAT_DEACTIVATED:\n          store.dispatch(setChatActive(action.payload.payload.chatId, false));\n          return;\n\n        case INCOMING_CHAT:\n          store.dispatch(setChatActive(action.payload.payload.chat.id, true));\n          return;\n\n        default:\n          return;\n      }\n\n    case RESPONSE_RECEIVED:\n      switch (action.payload.action) {\n        case LIST_CHATS:\n          action.payload.payload.chatsSummary.filter(function (_ref) {\n            var id = _ref.id,\n                active = _ref.active;\n            return isChatActive(state, id) !== active;\n          }).forEach(function (_ref2) {\n            var id = _ref2.id,\n                active = _ref2.active;\n            store.dispatch(setChatActive(id, active));\n          });\n          return;\n\n        default:\n          return;\n      }\n\n  }\n};\n\nvar sendRequest$1 = function sendRequest$$1(socket, _ref3) {\n  var _ref3$payload = _ref3.payload,\n      id = _ref3$payload.id,\n      action = _ref3$payload.action,\n      payload = _ref3$payload.data;\n  var frame = {\n    request_id: id,\n    action: action,\n    payload: payload\n  };\n  socket.emit(frame);\n};\n\nvar emitUsers = function emitUsers(emit, users) {\n  users.forEach(function (user) {\n    if ('present' in user) {\n      var rest = _objectWithoutPropertiesLoose(user, [\"present\"]);\n\n      emit('user_data', rest);\n      return;\n    }\n\n    if (user.type === CUSTOMER) {\n      var _rest = _objectWithoutPropertiesLoose(user, [\"statistics\"]);\n\n      emit('user_data', _rest);\n      return;\n    }\n\n    emit('user_data', user);\n  });\n};\n\nvar handleMulticast = function handleMulticast(emit, _ref4) {\n  var type = _ref4.type,\n      content = _ref4.content;\n\n  if (type !== 'lc2') {\n    return;\n  }\n\n  if (content.name === 'groups_update' && 'groups' in content && !isEmpty(content.groups)) {\n    var _content$groups = content.groups,\n        group = _content$groups[0];\n    var availability = parseGroupStatus(group.status);\n    emit('availability_updated', {\n      availability: availability\n    });\n  }\n};\n\nvar handlePush = function handlePush(_ref5, _ref6) {\n  var emit = _ref5.emit,\n      store = _ref5.store;\n  var payload = _ref6.payload;\n\n  switch (payload.action) {\n    case THREAD_PROPERTIES_UPDATED:\n      if (payload.payload.properties.lc2 && 'queue_pos' in payload.payload.properties.lc2) {\n        emit('queue_position_updated', {\n          chatId: payload.payload.chatId,\n          threadId: payload.payload.threadId,\n          queue: {\n            position: payload.payload.properties.lc2.queue_pos,\n            waitTime: payload.payload.properties.lc2.queue_waiting_time\n          }\n        });\n      }\n\n      emit('thread_properties_updated', payload.payload);\n      return;\n\n    case CUSTOMER_SIDE_STORAGE_UPDATED:\n      saveSideStorage(store, payload.payload.customer_side_storage);\n      return;\n\n    case CHAT_USER_ADDED:\n      emitUsers(emit, [payload.payload.user]);\n      emit('user_added_to_chat', payload.payload);\n      return;\n\n    case CHAT_USER_REMOVED:\n      emit('user_removed_from_chat', payload.payload);\n      return;\n\n    case CUSTOMER_DISCONNECTED:\n      // each of those should currently lead to either reconnect or destroy call\n      // after receiving this push server closes the connection with us\n      // which results in SOCKET_DISCONNECTED action being dispatched\n      // we don't want to rely on this (nor we want to risk emitting 'disconnected' twice)\n      // so we should handle all cases ourselves and close the connection preemptively\n      switch (payload.payload.reason) {\n        case ACCESS_TOKEN_EXPIRED:\n          // we passthrough access_token_expired here, so pending requests receive CONNECTION_LOST error\n          // we could fail them with ACCESS_TOKEN_EXPIRED, but it could force people to handle it in special manner\n          // but actually they should handle it exactly like CONNECTION_LOST:\n          // a request could succeed, who knows, it has to be checked after being reconnected\n          store.dispatch(prefetchToken(true));\n          store.dispatch(reconnect(SMALL_RECONNECT_DELAY));\n          emit('disconnected', payload.payload);\n          break;\n\n        case CUSTOMER_BANNED:\n        case CUSTOMER_TEMPORARILY_BLOCKED:\n        case LICENSE_NOT_FOUND:\n        case PRODUCT_VERSION_CHANGED:\n        case TOO_MANY_CONNECTIONS:\n        case UNSUPPORTED_VERSION:\n          // this also emits `disconnected` event - but it's handled in response to this action by destroy handler\n          store.dispatch(destroy(payload.payload.reason));\n          break;\n\n        case MISDIRECTED_CONNECTION$1:\n          failAllRequests(store, MISDIRECTED_CONNECTION);\n          store.dispatch({\n            type: CHANGE_REGION,\n            payload: payload.payload.data\n          });\n          break;\n\n        case TOO_MANY_UNAUTHORIZED_CONNECTIONS$1:\n          // this should only really fail a `login` request - as it's the only one sent before authorization\n          // and login should reconnect on its own right now\n          failAllRequests(store, TOO_MANY_UNAUTHORIZED_CONNECTIONS);\n          break;\n\n        default:\n          store.dispatch(reconnect(SMALL_RECONNECT_DELAY));\n          emit('disconnected', payload.payload);\n          break;\n      }\n\n      return;\n\n    case INCOMING_CHAT:\n      emitUsers(emit, payload.payload.chat.users);\n      emit(payload.action, payload.payload);\n      return;\n\n    case INCOMING_EVENT:\n      if (payload.payload.event === null) {\n        return;\n      }\n\n      emit(payload.action, payload.payload);\n      return;\n\n    case INCOMING_TYPING_INDICATOR:\n      emit(payload.action, payload.payload);\n      return;\n\n    case INCOMING_MULTICAST:\n      handleMulticast(emit, payload.payload); // we passthrough this action even if it was already handled above\n\n      emit(payload.action, payload.payload);\n      return;\n\n    default:\n      emit(payload.action, payload.payload);\n      return;\n  }\n};\n\nvar handleResponse = function handleResponse(_ref7, _ref8) {\n  var emit = _ref7.emit;\n  var payload = _ref8.payload;\n\n  switch (payload.action) {\n    case CHAT_DEACTIVATED:\n      payload.resolve(SUCCESS);\n      return;\n\n    case GET_CHAT_THREADS:\n      emitUsers(emit, payload.payload.users);\n      payload.resolve(payload.payload);\n      return;\n\n    case INCOMING_CHAT:\n      emitUsers(emit, payload.payload.chat.users);\n      payload.resolve(payload.payload);\n      return;\n\n    case INCOMING_EVENT:\n      payload.resolve(payload.payload.event);\n      return;\n\n    case LIST_CHATS:\n      emitUsers(emit, payload.payload.users);\n      payload.resolve(payload.payload);\n      return;\n\n    default:\n      payload.resolve(payload.payload);\n      return;\n  }\n};\n\nvar createSideEffectsHandler = (function (_ref9) {\n  var auth = _ref9.auth,\n      customerDataProvider = _ref9.customerDataProvider,\n      emitter = _ref9.emitter,\n      socket = _ref9.socket;\n  var emit = emitter.emit;\n  var login = createLoginTask(auth, customerDataProvider); // TODO: using Store type here is a lie, middleware only provides MiddlewareAPI here\n\n  return function (action, store) {\n    switch (action.type) {\n      case CHANGE_REGION:\n        socket.reinitialize();\n        return;\n\n      case CHECK_GOALS:\n        checkGoals(store, auth, action.payload.sessionFields).catch(noop);\n        return;\n\n      case DESTROY:\n        {\n          var payload = action.payload;\n          socket.destroy();\n\n          if (payload.reason !== 'manual') {\n            emit('disconnected', payload);\n          }\n\n          emitter.off();\n          return;\n        }\n\n      case FAIL_ALL_REQUESTS:\n        {\n          var _action$payload = action.payload,\n              reason = _action$payload.reason,\n              rejects = _action$payload.rejects;\n          var error = {\n            message: FAIL_ALL_REQUESTS_MESSAGES[reason],\n            code: reason\n          };\n          rejects.forEach(function (reject) {\n            reject(createError(error));\n          });\n          return;\n        }\n\n      case LOGIN_SUCCESS:\n        {\n          var _action$payload2 = action.payload,\n              dynamicConfig = _action$payload2.dynamicConfig,\n              customer = _action$payload2.customer,\n              chats = _action$payload2.chats,\n              greeting = _action$payload2.greeting,\n              availability = _action$payload2.availability;\n\n          var eventData = _extends({\n            customer: customer,\n            availability: availability\n          }, greeting && {\n            greeting: greeting\n          });\n\n          Object.defineProperty(eventData, '__unsafeDynamicConfig', {\n            value: dynamicConfig\n          });\n          Object.defineProperty(eventData, '__unsafeChats', {\n            value: chats\n          });\n          emit('connected', eventData);\n          return;\n        }\n\n      case PAUSE_CONNECTION:\n        socket.disconnect();\n        return;\n\n      case PREFETCH_TOKEN:\n        if (action.payload.fresh) {\n          auth.getFreshToken().catch(noop);\n          return;\n        }\n\n        auth.hasToken().then(function (hasToken) {\n          if (!hasToken) {\n            return auth.getToken();\n          }\n\n          return auth.getToken().then(function (_ref10) {\n            var creationDate = _ref10.creationDate,\n                expiresIn = _ref10.expiresIn;\n            var ONE_HOUR = 60 * 60 * 1000; // check if the token is worth reusing\n            // we don't want to get disconnected in a moment because of expired token\n\n            if (creationDate + expiresIn - Date.now() > ONE_HOUR) {\n              return;\n            }\n\n            return auth.invalidate().then(auth.getFreshToken);\n          });\n        }).catch(noop);\n        return;\n\n      case PUSH_RECEIVED:\n        // TODO: this if doesn't seem to make much sense\n        // I'm too afraid to remove it right now though\n        if (action.payload.action === CUSTOMER_DISCONNECTED) {\n          handlePush({\n            emit: emit,\n            store: store\n          }, action);\n          return;\n        }\n\n        updateStateIfNeeded(store, action);\n        handlePush({\n          emit: emit,\n          store: store\n        }, action);\n        return;\n\n      case PUSH_RESPONSE_RECEIVED:\n        updateStateIfNeeded(store, action);\n        handleResponse({\n          emit: emit\n        }, action);\n        return;\n\n      case RECONNECT:\n        socket.reconnect(action.payload.delay);\n        return;\n\n      case REQUEST_FAILED:\n        {\n          var _action$payload3 = action.payload,\n              reject = _action$payload3.reject,\n              _error = _action$payload3.error;\n          reject(createError(_error));\n          return;\n        }\n\n      case RESPONSE_RECEIVED:\n        updateStateIfNeeded(store, action);\n        handleResponse({\n          emit: emit\n        }, action);\n        return;\n\n      case SEND_REQUEST:\n        {\n          var state = store.getState();\n\n          if (isDestroyed(state)) {\n            failRequest(store, action, {\n              code: 'SDK_DESTROYED',\n              message: 'SDK destroyed.'\n            });\n            return;\n          }\n\n          if (!isConnected(state) && action.payload.source !== 'login') {\n            failRequest(store, action, {\n              code: 'NO_CONNECTION',\n              message: 'No connection.'\n            });\n            return;\n          }\n\n          sendRequest$1(socket, action);\n        }\n        return;\n\n      case SET_SELF_ID:\n        emit('customer_id', action.payload.id);\n        return;\n\n      case SOCKET_DISCONNECTED:\n        emit('disconnected', {\n          reason: 'connection_lost'\n        });\n        return;\n\n      case SOCKET_CONNECTED:\n        login(store);\n        return;\n\n      case SOCKET_RECOVERED:\n        // don't emit if from consumer's perspective we haven't been connected\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        emit('connection_recovered');\n        return;\n\n      case SOCKET_UNSTABLE:\n        // don't emit if from consumer's perspective we haven't been connected\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        emit('connection_unstable');\n        return;\n\n      case START_CONNECTION:\n        socket.connect();\n        store.dispatch(prefetchToken());\n        return;\n\n      case UPDATE_CUSTOMER_PAGE:\n        if (!isConnected(store.getState())) {\n          return;\n        }\n\n        sendRequestAction(store, sendRequest(UPDATE_CUSTOMER_PAGE$1, action.payload)).catch(noop);\n        return;\n\n      default:\n        return;\n    }\n  };\n});\n\nvar HISTORY_EVENT_COUNT_TARGET = 25;\nvar MAX_SERVER_SLICE_LENGTH = 20;\n\nvar splitSummary = function splitSummary(threadsSummary) {\n  var _splitAt = splitAt(-MAX_SERVER_SLICE_LENGTH, threadsSummary),\n      nonTargetable = _splitAt[0],\n      targetable = _splitAt[1];\n\n  var _splitRightWhenAccum = splitRightWhenAccum(function (_ref, acc) {\n    var totalEvents = _ref.totalEvents;\n    // totalEvents can be 0 and we do not filter those out\n    // this means we are overfetching a little bit\n    // but seems like an edge case that we can ignore for simplicity\n    var sum = acc + totalEvents;\n    return [sum >= HISTORY_EVENT_COUNT_TARGET, sum];\n  }, 0, targetable),\n      leftover = _splitRightWhenAccum[0],\n      targeted = _splitRightWhenAccum[1];\n\n  return [nonTargetable.concat(leftover), targeted.map(function (threadSummary) {\n    return threadSummary.id;\n  })];\n};\n\nvar distributeSummary = function distributeSummary(state, threadsSummary) {\n  var _splitSummary = splitSummary(threadsSummary.filter(function (_ref2) {\n    var order = _ref2.order;\n    return order < state.lastOrderFetched;\n  })),\n      leftover = _splitSummary[0],\n      targeted = _splitSummary[1];\n\n  state.threadsSummary = leftover;\n  state.threadsToFetch = targeted;\n};\n\nvar createState = function createState() {\n  return {\n    done: false,\n    idle: true,\n    lastOrderFetched: Infinity,\n    leftToFetch: Infinity,\n    queuedTasks: [],\n    totalThreads: Infinity,\n    threadsSummary: null,\n    threadsToFetch: []\n  };\n};\n\nvar loadLatest = function loadLatest(api, chatId) {\n  return api.getChatThreadsSummary({\n    chatId: chatId,\n    offset: 0\n  }).then(function (_ref3) {\n    var threadsSummary = _ref3.threadsSummary,\n        totalThreads = _ref3.totalThreads;\n\n    var _splitSummary2 = splitSummary(threadsSummary),\n        threadsSummaryLeftover = _splitSummary2[0],\n        threadsToFetch = _splitSummary2[1];\n\n    return Promise.all([{\n      threadsSummary: threadsSummaryLeftover,\n      totalThreads: totalThreads\n    }, threadsToFetch.length > 0 ? api.getChatThreads({\n      chatId: chatId,\n      threadIds: threadsToFetch\n    }) : []]);\n  });\n};\n\nvar loadNextSummaryBatch = function loadNextSummaryBatch(api, chatId, state) {\n  return api.getChatThreadsSummary({\n    chatId: chatId,\n    offset: 0\n  }).then(function (_ref4) {\n    var totalThreads = _ref4.totalThreads;\n    var offset = totalThreads - state.leftToFetch;\n    return api.getChatThreadsSummary({\n      chatId: chatId,\n      offset: offset\n    });\n  });\n};\n\nvar onLoadedThreads = function onLoadedThreads(state, response) {\n  var threads = response.threads;\n  state.idle = true;\n  state.threadsToFetch = [];\n  state.leftToFetch -= threads.length;\n  state.lastOrderFetched = threads.length !== 0 ? threads[0].order : 0;\n\n  if (state.leftToFetch === 0) {\n    state.done = true;\n    return {\n      value: response,\n      done: true\n    };\n  }\n\n  return {\n    value: response,\n    done: false\n  };\n};\n\nvar onFailedLoad = function onFailedLoad(state, err) {\n  state.idle = true;\n  state.queuedTasks.forEach(function (_ref5) {\n    var reject = _ref5.reject;\n    return reject(err);\n  });\n  return err;\n};\n\nvar chatHistory = (function (api, chatId) {\n  var historyState = createState();\n\n  var _next = function next(resolve, reject) {\n    if (historyState.done) {\n      resolve({\n        value: undefined,\n        done: true\n      });\n      return;\n    }\n\n    if (!historyState.idle) {\n      historyState.queuedTasks.push({\n        resolve: resolve,\n        reject: reject\n      });\n      return;\n    }\n\n    var task;\n    historyState.idle = false;\n\n    if (!historyState.threadsSummary) {\n      task = loadLatest(api, chatId).then(function (_ref6) {\n        var _ref6$ = _ref6[0],\n            threadsSummary = _ref6$.threadsSummary,\n            totalThreads = _ref6$.totalThreads,\n            threads = _ref6[1];\n        historyState.threadsSummary = threadsSummary;\n        historyState.totalThreads = historyState.leftToFetch = totalThreads;\n        return threads;\n      });\n    } else if (historyState.threadsToFetch.length > 0) {\n      task = api.getChatThreads({\n        chatId: chatId,\n        threadIds: historyState.threadsToFetch\n      });\n    } else if (historyState.threadsSummary.length > 0) {\n      distributeSummary(historyState, historyState.threadsSummary);\n      task = api.getChatThreads({\n        chatId: chatId,\n        threadIds: historyState.threadsToFetch\n      });\n    } else {\n      task = loadNextSummaryBatch(api, chatId, historyState).then(function (_ref7) {\n        var threadsSummary = _ref7.threadsSummary;\n        distributeSummary(historyState, threadsSummary);\n        return api.getChatThreads({\n          chatId: chatId,\n          threadIds: historyState.threadsToFetch\n        });\n      });\n    }\n\n    task.then(function (response) {\n      resolve(onLoadedThreads(historyState, response));\n      var queuedTask = historyState.queuedTasks.shift();\n\n      if (!queuedTask) {\n        return;\n      }\n\n      _next(queuedTask.resolve, queuedTask.reject);\n    }, function (err) {\n      return reject(onFailedLoad(historyState, err));\n    });\n  };\n\n  return {\n    next: function next() {\n      return new Promise(_next);\n    }\n  };\n});\n\nvar initialize = function initialize(store, emitter) {\n  var state = store.getState();\n  var url = getServerUrl(state) + \"/rtm/sjs\";\n  return createPlatformClient(url, {\n    query: {\n      license_id: state.licenseId\n    },\n    emitter: emitter\n  });\n};\n\nvar createSocketClient = function createSocketClient(store) {\n  var emitter = mitt();\n  var client = initialize(store, emitter);\n  return _extends({}, Object.keys(client).reduce(function (proxy, method) {\n    proxy[method] = function () {\n      var _client;\n\n      return (_client = client)[method].apply(_client, arguments);\n    };\n\n    return proxy;\n  }, {}), {\n    reinitialize: function reinitialize() {\n      client.disconnect();\n      client = initialize(store, emitter);\n      client.connect();\n    }\n  });\n};\n\nvar parseAccessSetPush = function parseAccessSetPush(payload) {\n  return {\n    resource: payload.resource,\n    id: payload.id,\n    access: parseAccess(payload.access)\n  };\n};\n\nvar parseChatPropertiesDeletedPush = function parseChatPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatPropertiesUpdatedPush = function parseChatPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    properties: payload.properties\n  };\n};\n\nvar parseChatTransferredPush = function parseChatTransferredPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    requesterId: payload.requester_id,\n    transferredTo: payload.type === 'agent' ? {\n      agentIds: payload.ids\n    } : {\n      groupIds: payload.ids\n    }\n  };\n};\n\nvar parseChatUserAddedPush = function parseChatUserAddedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    user: parseChatUser(payload.user),\n    present: payload.user.present\n  };\n};\n\nvar parseChatUserRemovedPush = function parseChatUserRemovedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    userId: payload.user_id\n  };\n};\n\nvar parseCustomerPageUpdatedPush = function parseCustomerPageUpdatedPush(payload) {\n  return {\n    url: payload.url,\n    title: payload.title,\n    timestamp: payload.timestamp * 1000\n  };\n};\n\nvar parseCustomerUpdatedPush = function parseCustomerUpdatedPush(payload) {\n  return {\n    customer: _extends({\n      id: payload.customer.id\n    }, parseCustomerOptionalProps(payload.customer))\n  };\n};\n\nvar parseEventPropertiesDeletedPush = function parseEventPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    properties: payload.properties\n  };\n};\n\nvar parseEventPropertiesUpdatedPush = function parseEventPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    properties: payload.properties\n  };\n};\n\nvar parseEventUpdatedPush = function parseEventUpdatedPush(payload) {\n  var threadId = payload.thread_id;\n  return {\n    chatId: payload.chat_id,\n    threadId: threadId,\n    event: parseEvent$1(threadId, payload.event)\n  };\n};\n\nvar parseEventsMarkedAsSeenPush = function parseEventsMarkedAsSeenPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    userId: payload.user_id,\n    seenUpTo: payload.seen_up_to\n  };\n};\n\nvar parseGreetingAcceptedPush = function parseGreetingAcceptedPush(payload) {\n  return {\n    uniqueId: payload.unique_id\n  };\n};\n\nvar parseGetChatThreadsResponse = function parseGetChatThreadsResponse(payload) {\n  var _payload$chat = payload.chat,\n      threads = _payload$chat.threads,\n      users = _payload$chat.users,\n      id = _payload$chat.id;\n  var sortedThreads = numericSortBy('order', threads);\n  return {\n    threads: sortedThreads.map(function (thread) {\n      return parseThread(id, users, thread);\n    }),\n    users: users.map(parseChatUser)\n  };\n};\n\nvar parseGetChatThreadsSummaryResponse = function parseGetChatThreadsSummaryResponse(payload) {\n  var chatThreadsSummary = payload.threads_summary,\n      totalThreads = payload.total_threads;\n  var mapped = chatThreadsSummary.map(function (_ref) {\n    var totalEvents = _ref.total_events,\n        id = _ref.id,\n        active = _ref.active,\n        order = _ref.order;\n    return {\n      id: id,\n      active: active,\n      order: order,\n      totalEvents: totalEvents\n    };\n  });\n  var threadsSummary = numericSortBy('order', mapped);\n  return {\n    threadsSummary: threadsSummary,\n    totalThreads: totalThreads\n  };\n};\n\nvar parseIncomingChatPush = function parseIncomingChatPush(payload) {\n  var chat = payload.chat;\n  return {\n    chat: {\n      id: chat.id,\n      access: parseAccess(chat.access),\n      users: chat.users.map(parseChatUser),\n      properties: chat.properties || {},\n      thread: parseThread(chat.id, chat.users, chat.thread)\n    }\n  };\n};\n\nvar parseIncomingEventPush = function parseIncomingEventPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    event: parseEvent$1(payload.thread_id, payload.event)\n  };\n};\n\nvar parseIncomingGreetingPush = function parseIncomingGreetingPush(payload) {\n  return parseGreeting(payload);\n};\n\nvar parseIncomingRichMessagePostbackPush = function parseIncomingRichMessagePostbackPush(payload) {\n  return {\n    userId: payload.user_id,\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    eventId: payload.event_id,\n    postback: payload.postback\n  };\n};\n\nvar parseIncomingTypingIndicatorPush = function parseIncomingTypingIndicatorPush(payload) {\n  var chatId = payload.chat_id,\n      typingIndicator = payload.typing_indicator;\n  return {\n    chatId: chatId,\n    typingIndicator: {\n      authorId: typingIndicator.author_id,\n      isTyping: typingIndicator.is_typing\n    }\n  };\n};\n\nvar parseThreadPropertiesDeletedPush = function parseThreadPropertiesDeletedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    properties: payload.properties\n  };\n};\n\nvar parseThreadPropertiesUpdatedPush = function parseThreadPropertiesUpdatedPush(payload) {\n  return {\n    chatId: payload.chat_id,\n    threadId: payload.thread_id,\n    properties: payload.properties\n  };\n};\n\nvar parseFields = function parseFields(fields) {\n  return fields.map(function (field) {\n    switch (field.type) {\n      case 'group_chooser':\n        return _extends({}, field, {\n          options: field.options.map(function (_ref2) {\n            var groupId = _ref2.group_id,\n                option = _objectWithoutPropertiesLoose(_ref2, [\"group_id\"]);\n\n            return _extends({}, option, {\n              groupId: groupId\n            });\n          })\n        });\n\n      case 'rating':\n        {\n          var commentLabel = field.comment_label,\n              parsed = _objectWithoutPropertiesLoose(field, [\"comment_label\"]);\n\n          return _extends({}, parsed, {\n            commentLabel: commentLabel\n          });\n        }\n\n      default:\n        return field;\n    }\n  });\n};\n\nvar parseTicketFormFields = function parseTicketFormFields(fields) {\n  var withFakeIds = fields.map(function (field, index) {\n    return _extends({}, field, {\n      id: String(index)\n    });\n  });\n  return parseFields(withFakeIds);\n};\n\nvar parseGetFormResponse = function parseGetFormResponse(payload) {\n  if (!payload.enabled) {\n    return payload;\n  }\n\n  return _extends({}, payload, {\n    form: 'id' in payload.form.fields[0] ? {\n      id: payload.form.id,\n      fields: parseFields(payload.form.fields)\n    } : {\n      // TODO: should we fake id for this one?\n      id: 'ticket',\n      fields: parseTicketFormFields(payload.form.fields)\n    }\n  });\n};\n\nvar parseGetUrlInfoResponse = function parseGetUrlInfoResponse(payload) {\n  var urlInfo = {\n    url: payload.url\n  };\n\n  if (payload.title) {\n    urlInfo.title = payload.title;\n  }\n\n  if (payload.description) {\n    urlInfo.description = payload.description;\n  }\n\n  if (payload.image_url) {\n    urlInfo.imageUrl = \"https://\" + payload.image_url;\n\n    if (payload.image_width && payload.image_height) {\n      urlInfo.imageWidth = payload.image_width;\n      urlInfo.imageHeight = payload.image_height;\n    }\n  }\n\n  return urlInfo;\n};\n\nvar getAvailabilityBasedOnDynamicConfig = function getAvailabilityBasedOnDynamicConfig(_ref3) {\n  var onlineGroups = _ref3.online_groups_ids,\n      customerGroups = _ref3.customer_groups;\n\n  // this might be missing if all groups are offline\n  if (!onlineGroups) {\n    return 'offline';\n  }\n\n  var monitoringGroupId = customerGroups.monitoring.id;\n  return includes(monitoringGroupId, onlineGroups) ? 'online' : 'offline';\n};\n\nvar parseListChatsResponse = function parseListChatsResponse(payload) {\n  var chatsSummary = payload.chats_summary.map(function (_ref4) {\n    var id = _ref4.id,\n        active = _ref4.active,\n        access = _ref4.access,\n        order = _ref4.order,\n        lastThreadId = _ref4.last_thread_id,\n        lastEventsPerType = _ref4.last_event_per_type,\n        _ref4$properties = _ref4.properties,\n        properties = _ref4$properties === void 0 ? {} : _ref4$properties,\n        users = _ref4.users;\n    var chatSummary = {\n      id: id,\n      active: active,\n      access: parseAccess(access),\n      order: order,\n      properties: properties,\n      users: users.map(parseChatUser),\n      lastThreadId: lastThreadId,\n      eventsSeenUpToMap: getEventsSeenUpToMap(users)\n    };\n\n    if (!lastEventsPerType) {\n      return chatSummary;\n    }\n\n    chatSummary.lastEventsPerType = mapValues(function (lastEventPerType) {\n      return parseEvent$1(lastEventPerType.thread_id, lastEventPerType.event);\n    }, lastEventsPerType);\n    var refinedLastEventsPerType = lastEventsPerType;\n    var lastEventSummariesArray = Object.keys(refinedLastEventsPerType).map(function (eventType) {\n      return refinedLastEventsPerType[eventType];\n    });\n    var lastEventSummary = last(lastEventSummariesArray.sort(function (eventSummaryA, eventSummaryB) {\n      if (eventSummaryA.thread_id === eventSummaryB.thread_id) {\n        return eventSummaryA.event.created_at < eventSummaryB.event.created_at ? -1 : 1;\n      }\n\n      return eventSummaryA.thread_order - eventSummaryB.thread_order;\n    }));\n\n    if (lastEventSummary) {\n      chatSummary.lastEvent = chatSummary.lastEventsPerType[lastEventSummary.event.type]; // TODO: in theory it's possible to have threads without events\n      // so this might be inaccurate, maybe we should request adding last_thread_order to the get_chats_summary response?\n\n      chatSummary.lastThreadOrder = lastEventSummary.thread_order;\n    }\n\n    return chatSummary;\n  });\n  return {\n    chatsSummary: numericSortBy(function (_ref5) {\n      var lastEvent = _ref5.lastEvent,\n          order = _ref5.order;\n      return -1 * (lastEvent !== undefined ? lastEvent.timestamp : order);\n    }, chatsSummary),\n    totalChats: payload.total_chats,\n    users: uniqBy(function (user) {\n      return user.id;\n    }, flatMap(function (summary) {\n      return summary.users;\n    }, chatsSummary))\n  };\n};\n\nvar parseListGroupStatusesResponse = function parseListGroupStatusesResponse(payload) {\n  return payload.groups_status;\n};\n\nvar parseLoginResponse = function parseLoginResponse(payload) {\n  var dynamicConfig = payload.__priv_dynamic_config,\n      chats = payload.chats;\n  var greeting = payload.greeting || dynamicConfig.greeting; // TODO: remove the fallback after API release the new greeting object position to the prod env\n\n  return _extends({\n    dynamicConfig: dynamicConfig,\n    customer: parseCustomer(payload.customer),\n    availability: getAvailabilityBasedOnDynamicConfig(dynamicConfig),\n    chats: chats.map(function (chat) {\n      return {\n        id: chat.chat_id,\n        active: 'has_active_thread' in chat ? chat.has_active_thread : // temporary fallback, waiting for API to move this flag into `chats` array\n        payload.has_active_thread,\n        hasUnreadEvents: chat.has_unread_events\n      };\n    })\n  }, greeting && {\n    greeting: parseGreeting(greeting)\n  });\n};\n\nvar parsePush = function parsePush(push) {\n  switch (push.action) {\n    case ACCESS_SET:\n      return {\n        action: push.action,\n        payload: parseAccessSetPush(push.payload)\n      };\n\n    case CHAT_DEACTIVATED:\n      return {\n        action: push.action,\n        payload: {\n          chatId: push.payload.chat_id\n        }\n      };\n\n    case CHAT_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseChatPropertiesDeletedPush(push.payload)\n      };\n\n    case CHAT_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseChatPropertiesUpdatedPush(push.payload)\n      };\n\n    case CHAT_TRANSFERRED:\n      return {\n        action: push.action,\n        payload: parseChatTransferredPush(push.payload)\n      };\n\n    case CHAT_USER_ADDED:\n      return {\n        action: push.action,\n        payload: parseChatUserAddedPush(push.payload)\n      };\n\n    case CHAT_USER_REMOVED:\n      return {\n        action: push.action,\n        payload: parseChatUserRemovedPush(push.payload)\n      };\n\n    case CUSTOMER_SIDE_STORAGE_UPDATED:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case CUSTOMER_DISCONNECTED:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case CUSTOMER_PAGE_UPDATED:\n      return {\n        action: push.action,\n        payload: parseCustomerPageUpdatedPush(push.payload)\n      };\n\n    case CUSTOMER_UPDATED:\n      return {\n        action: push.action,\n        payload: parseCustomerUpdatedPush(push.payload)\n      };\n\n    case EVENT_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseEventPropertiesDeletedPush(push.payload)\n      };\n\n    case EVENT_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseEventPropertiesUpdatedPush(push.payload)\n      };\n\n    case EVENT_UPDATED:\n      return {\n        action: push.action,\n        payload: parseEventUpdatedPush(push.payload)\n      };\n\n    case EVENTS_MARKED_AS_SEEN:\n      return {\n        action: push.action,\n        payload: parseEventsMarkedAsSeenPush(push.payload)\n      };\n\n    case GREETING_ACCEPTED:\n      return {\n        action: push.action,\n        payload: parseGreetingAcceptedPush(push.payload)\n      };\n\n    case GREETING_CANCELED:\n      return {\n        action: push.action,\n        // 'greeting_canceled' has the same payload as `greeting_accepted`\n        payload: parseGreetingAcceptedPush(push.payload)\n      };\n\n    case INCOMING_CHAT:\n      return {\n        action: push.action,\n        payload: parseIncomingChatPush(push.payload)\n      };\n\n    case INCOMING_EVENT:\n      return {\n        action: push.action,\n        payload: parseIncomingEventPush(push.payload)\n      };\n\n    case INCOMING_GREETING:\n      return {\n        action: push.action,\n        payload: parseIncomingGreetingPush(push.payload)\n      };\n\n    case INCOMING_MULTICAST:\n      return {\n        action: push.action,\n        payload: push.payload\n      };\n\n    case INCOMING_RICH_MESSAGE_POSTBACK:\n      return {\n        action: push.action,\n        payload: parseIncomingRichMessagePostbackPush(push.payload)\n      };\n\n    case INCOMING_TYPING_INDICATOR:\n      return {\n        action: push.action,\n        payload: parseIncomingTypingIndicatorPush(push.payload)\n      };\n\n    case THREAD_PROPERTIES_DELETED:\n      return {\n        action: push.action,\n        payload: parseThreadPropertiesDeletedPush(push.payload)\n      };\n\n    case THREAD_PROPERTIES_UPDATED:\n      return {\n        action: push.action,\n        payload: parseThreadPropertiesUpdatedPush(push.payload)\n      };\n  }\n};\nvar parseResponse = function parseResponse(response) {\n  switch (response.action) {\n    case ACCEPT_GREETING:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case CANCEL_GREETING:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_CHAT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_EVENT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case DELETE_THREAD_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case GET_CHAT_THREADS:\n      return {\n        action: response.action,\n        payload: parseGetChatThreadsResponse(response.payload)\n      };\n\n    case GET_CHAT_THREADS_SUMMARY:\n      return {\n        action: response.action,\n        payload: parseGetChatThreadsSummaryResponse(response.payload)\n      };\n\n    case GET_CUSTOMER:\n      return {\n        action: response.action,\n        payload: parseCustomer(response.payload)\n      };\n\n    case GET_FORM:\n      return {\n        action: response.action,\n        payload: parseGetFormResponse(response.payload)\n      };\n\n    case GET_PREDICTED_AGENT:\n      return {\n        action: response.action,\n        payload: parsePredictedAgent(response.payload)\n      };\n\n    case GET_URL_INFO:\n      return {\n        action: response.action,\n        payload: parseGetUrlInfoResponse(response.payload)\n      };\n\n    case LIST_CHATS:\n      return {\n        action: response.action,\n        payload: parseListChatsResponse(response.payload)\n      };\n\n    case LIST_GROUP_STATUSES:\n      return {\n        action: response.action,\n        payload: parseListGroupStatusesResponse(response.payload)\n      };\n\n    case LOGIN:\n      return {\n        action: response.action,\n        payload: parseLoginResponse(response.payload)\n      };\n\n    case MARK_EVENTS_AS_SEEN:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SEND_SNEAK_PEEK:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SET_CUSTOMER_SESSION_FIELDS:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case SEND_RICH_MESSAGE_POSTBACK:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CHAT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CUSTOMER:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_CUSTOMER_PAGE$1:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_EVENT_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n\n    case UPDATE_THREAD_PROPERTIES:\n      return {\n        action: response.action,\n        payload: SUCCESS\n      };\n  }\n};\nvar parseServerError = function parseServerError(error) {\n  return {\n    code: error.type.toUpperCase(),\n    message: error.message\n  };\n};\n\nvar handleResponseError = function handleResponseError(_ref, response) {\n  var dispatch = _ref.dispatch,\n      getState = _ref.getState;\n  var requestId = response.request_id,\n      payload = response.payload;\n\n  var _getRequest = getRequest(getState(), requestId),\n      reject = _getRequest.reject;\n\n  dispatch({\n    type: REQUEST_FAILED,\n    payload: {\n      id: requestId,\n      reject: reject,\n      error: parseServerError(payload.error)\n    }\n  });\n};\n\nvar handleResponse$1 = function handleResponse(_ref2, response) {\n  var dispatch = _ref2.dispatch,\n      getState = _ref2.getState;\n  var requestId = response.request_id;\n\n  var _getRequest2 = getRequest(getState(), requestId),\n      promise = _getRequest2.promise,\n      resolve = _getRequest2.resolve;\n\n  var parsedResponse = parseResponse(response);\n  dispatch({\n    type: RESPONSE_RECEIVED,\n    payload: _extends({\n      id: requestId,\n      // I think it's not used\n      // data: getRequest(getState(), requestId).data,\n      promise: promise,\n      resolve: resolve\n    }, parsedResponse)\n  });\n};\n\nvar handlePushResponse = function handlePushResponse(_ref3, response) {\n  var dispatch = _ref3.dispatch,\n      getState = _ref3.getState;\n  var requestId = response.request_id;\n\n  var _getRequest3 = getRequest(getState(), requestId),\n      promise = _getRequest3.promise,\n      resolve = _getRequest3.resolve;\n\n  var parsedPush = parsePush(response);\n  dispatch({\n    type: PUSH_RESPONSE_RECEIVED,\n    payload: _extends({\n      id: requestId,\n      // I think it's not used\n      // data: getRequest(getState(), requestId).data,\n      promise: promise,\n      resolve: resolve\n    }, parsedPush)\n  });\n};\n\nvar handlePush$1 = function handlePush(store, push) {\n  var parsedPush = parsePush(push);\n\n  if (!parsedPush) {\n    // defensive measure against receiving unknown push\n    return;\n  }\n\n  store.dispatch({\n    type: PUSH_RECEIVED,\n    payload: parsedPush\n  });\n};\n\nvar socketListener = (function (store, socket) {\n  var dispatch = store.dispatch;\n  socket.on('connect', function () {\n    dispatch({\n      type: SOCKET_CONNECTED\n    });\n  });\n  socket.on('message', function (message) {\n    if (message.type === 'response') {\n      if (!message.success) {\n        handleResponseError(store, message);\n        return;\n      }\n\n      switch (message.action) {\n        case ACTIVATE_CHAT:\n        case DEACTIVATE_CHAT:\n        case SEND_EVENT:\n        case START_CHAT:\n          // those are requests with indirect responses\n          return;\n\n        default:\n          handleResponse$1(store, message);\n          return;\n      }\n    }\n\n    if ('request_id' in message) {\n      switch (message.action) {\n        case CHAT_DEACTIVATED:\n        case INCOMING_CHAT:\n        case INCOMING_EVENT:\n          // those are acting as indirect responses\n          handlePushResponse(store, message);\n          return;\n      }\n    }\n\n    handlePush$1(store, message);\n  });\n  socket.on('disconnect', function () {\n    failAllRequests(store, CONNECTION_LOST);\n\n    if (getConnectionStatus(store.getState()) === CONNECTED) {\n      store.dispatch(socketDisconnected());\n    }\n  });\n  socket.on('connection_unstable', function () {\n    dispatch({\n      type: SOCKET_UNSTABLE\n    });\n  });\n  socket.on('connection_recovered', function () {\n    dispatch({\n      type: SOCKET_RECOVERED\n    });\n  });\n  return socket.off;\n});\n\nvar INCORRECT_REQUESTER_STRUCTURE = 'incorrect requester structure';\n\nvar appendString = function appendString(input, str) {\n  return input.length ? input + \"\\n\" + str : str;\n};\n\nvar createTicketBody = function createTicketBody(state, _ref) {\n  var fields = _ref.fields,\n      customerId = _ref.customerId,\n      _ref$groupId = _ref.groupId,\n      groupId = _ref$groupId === void 0 ? state.groupId : _ref$groupId;\n\n  var ticketBody = _extends({\n    licence_id: state.licenseId,\n    ticket_message: '',\n    offline_message: '',\n    visitor_id: customerId,\n    requester: {}\n  }, typeof groupId === 'number' && {\n    group: groupId\n  }, state.page && {\n    source: {\n      url: state.page.url\n    }\n  });\n\n  return fields.reduce(function (body, field) {\n    switch (field.type) {\n      case 'subject':\n        {\n          var value = field.answer;\n          var text = value ? field.label + \" \" + value : field.label;\n\n          if (value) {\n            body.subject = value;\n          }\n\n          body.offline_message = appendString(body.offline_message, text);\n          return body;\n        }\n\n      case 'name':\n        {\n          var _value = field.answer;\n\n          var _text = _value ? field.label + \" \" + _value : field.label;\n\n          if (_value) {\n            body.requester.name = _value;\n          }\n\n          body.offline_message = appendString(body.offline_message, _text);\n          return body;\n        }\n\n      case 'email':\n        {\n          var _value2 = field.answer;\n\n          var _text2 = _value2 ? field.label + \" \" + _value2 : field.label;\n\n          body.requester.mail = _value2;\n          body.offline_message = appendString(body.offline_message, _text2);\n          return body;\n        }\n\n      case 'question':\n      case 'textarea':\n        {\n          var _value3 = field.answer;\n\n          var _text3 = _value3 ? field.label + \" \" + _value3 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text3);\n          body.ticket_message = appendString(body.ticket_message, _text3);\n          return body;\n        }\n\n      case 'radio':\n      case 'select':\n        {\n          var _value4 = field.answer && field.answer.label;\n\n          var _text4 = _value4 ? field.label + \" \" + _value4 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text4);\n          body.ticket_message = appendString(body.ticket_message, _text4);\n          return body;\n        }\n\n      case 'checkbox':\n        {\n          var _value5 = field.answers && field.answers.map(function (answer) {\n            return answer.label;\n          }).join(', ');\n\n          var _text5 = _value5 ? field.label + \" \" + _value5 : field.label;\n\n          body.offline_message = appendString(body.offline_message, _text5);\n          body.ticket_message = appendString(body.ticket_message, _text5);\n          return body;\n        }\n\n      default:\n        return body;\n    }\n  }, ticketBody);\n};\n\nvar sendTicketForm = function sendTicketForm(store, auth, _ref2) {\n  var filledForm = _ref2.filledForm,\n      groupId = _ref2.groupId;\n  return auth.getToken().then(function (token) {\n    var state = store.getState();\n\n    if (getSelfId(state) === null) {\n      store.dispatch(setSelfId(token.entityId));\n    }\n\n    var url = getApiOrigin(state) + \"/v2/tickets/new\";\n    var body = createTicketBody(state, {\n      fields: filledForm.fields,\n      customerId: token.entityId,\n      groupId: groupId\n    });\n    return unfetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }).then(function (response) {\n      if (response.ok) {\n        return response.json().then(function (res) {\n          return _extends({}, res, {\n            text: body.ticket_message\n          });\n        });\n      } // we actually should normalize this somehow\n\n\n      if (response.status === 400 || response.status === 422) {\n        var errHandler = function errHandler(error) {\n          if (!error || !error.errors) {\n            // TODO: I honestly don't know if this can even be reached and even if it is - What error should be thrown here\n            throw new Error();\n          } // we receive some hardcore aggregate error here 😱\n\n\n          var firstError = error.errors[0];\n          var type = Object.keys(firstError)[0];\n\n          if (type === INCORRECT_REQUESTER_STRUCTURE) {\n            throw createError({\n              message: firstError[INCORRECT_REQUESTER_STRUCTURE][0],\n              code: 'VALIDATION'\n            });\n          }\n\n          throw new Error();\n        };\n\n        return response.json().then(errHandler, errHandler);\n      }\n\n      throw new Error();\n    });\n  });\n};\n\nvar KILOBYTE = 1024;\nvar MEGABYTE = 1024 * KILOBYTE;\nvar GIGABYTE = 1024 * MEGABYTE;\nvar SIZE_LIMIT = 10 * MEGABYTE;\n\nvar formatBytes = function formatBytes(bytes, precision) {\n  if (precision === void 0) {\n    precision = 2;\n  }\n\n  if (bytes < KILOBYTE) {\n    return bytes + \" b\";\n  }\n\n  var kilobytes = bytes / 1024;\n\n  if (bytes < MEGABYTE) {\n    return kilobytes.toFixed(precision) + \" kb\";\n  }\n\n  var megabytes = kilobytes / 1024;\n\n  if (bytes < GIGABYTE) {\n    return megabytes.toFixed(precision) + \" MB\";\n  }\n\n  var gigabytes = megabytes / 1024;\n  return gigabytes.toFixed(precision) + \" GB\";\n};\n\nvar validateFile = function validateFile(file) {\n  if (file.size > SIZE_LIMIT) {\n    throw createError({\n      message: \"The file is too big (max size is \" + formatBytes(SIZE_LIMIT) + \").\",\n      code: 'TOO_BIG_FILE'\n    });\n  }\n};\n\nvar uploadFile = function uploadFile(_ref, _ref2) {\n  var auth = _ref.auth,\n      store = _ref.store;\n  var file = _ref2.file,\n      onProgress = _ref2.onProgress;\n  var upload;\n  var cancelled = false;\n  var send = new Promise(function (resolve, reject) {\n    validateFile(file);\n    var state = store.getState();\n    var query = buildQueryString({\n      license_id: state.licenseId\n    });\n    var url = getServerUrl(state) + \"/action/\" + UPLOAD_FILE + \"?\" + query;\n    var payload = {\n      file: file\n    };\n    auth.getToken().then(function (token) {\n      if (cancelled) {\n        reject(new Error('Upload cancelled.'));\n        return;\n      }\n\n      upload = rawUploadFile(url, payload, {\n        headers: {\n          Authorization: token.tokenType + \" \" + token.accessToken\n        },\n        onProgress: onProgress\n      });\n      upload.promise.then(resolve, function (uploadError) {\n        // an error might not come from a server\n        if (!uploadError.response) {\n          reject(uploadError);\n          return;\n        }\n\n        var _uploadError$response = uploadError.response.error,\n            type = _uploadError$response.type,\n            message = _uploadError$response.message;\n        reject(createError({\n          message: message,\n          code: type.toUpperCase()\n        }));\n      });\n    });\n  });\n  return {\n    promise: send,\n    cancel: function cancel() {\n      if (cancelled) {\n        return;\n      }\n\n      cancelled = true;\n\n      if (upload) {\n        upload.cancel();\n      }\n    }\n  };\n};\n\nvar makeGraylogRequest = function makeGraylogRequest(url, body) {\n  return new Promise(function (resolve) {\n    var img = new Image();\n    img.src = url + \"?\" + body;\n    img.onerror = noop;\n\n    img.onload = function () {\n      return resolve();\n    };\n  });\n};\n\n/**\n * Logs event to Graylog with provided config data.\n * Logging request is fired only when all of those conditions are true:\n * 1. package is used in lc production environment\n * 2. package is used standalone because only then process.env. CUSTOMER_SDK_PACKAGE_VERSION will be set\n */\nvar log = function log(_ref) {\n  var env = _ref.env,\n      licenseId = _ref.licenseId,\n      eventName = _ref.eventName;\n\n  if (env !== 'production' || !\"2.0.0-beta.2\") {\n    return Promise.resolve();\n  }\n\n  var message = {\n    event_name: eventName,\n    severity: 'Informational',\n    sdkVersion: \"2.0.0-beta.2\"\n  };\n  var body = {\n    licence_id: licenseId,\n    event_id: 'chat_widget_customer_sdk',\n    message: JSON.stringify(message)\n  };\n  return makeGraylogRequest('https://queue.livechatinc.com/logs', buildQueryString(body));\n};\n\nvar LISTENER_IDENTITY = 'LISTENER_IDENTITY';\nvar listenersMap = {};\n\nvar createDebuggedMethods = function createDebuggedMethods(methods, prefix) {\n  if (prefix === void 0) {\n    prefix = '';\n  }\n\n  var methodNames = Object.keys(methods);\n  return methodNames.map(function (methodName) {\n    var method = methods[methodName];\n    return function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (_console = console).info.apply(_console, [prefix + \".\" + methodName + \"() ===>\"].concat(args));\n\n      var result = method.apply(void 0, args);\n\n      if (result && typeof result.then === 'function') {\n        result.then(function (data) {\n          console.info(prefix + \".\" + methodName + \"() <===\", data);\n        }).catch(function (err) {\n          console.error(prefix + \".\" + methodName + \"() <===\", err);\n        });\n      }\n\n      return result;\n    };\n  }).reduce(function (acc, method, index) {\n    acc[methodNames[index]] = method;\n    return acc;\n  }, {});\n};\n\nvar createEnhancedListener = function createEnhancedListener(label, event, listener) {\n  if (listener[LISTENER_IDENTITY] === undefined) {\n    Object.defineProperty(listener, LISTENER_IDENTITY, {\n      value: {}\n    });\n  }\n\n  if (listener[LISTENER_IDENTITY][event]) {\n    var enhancedListenerId = listener[LISTENER_IDENTITY][event];\n    return listenersMap[enhancedListenerId];\n  }\n\n  var enhancedListener = function enhancedListener(data) {\n    console.info(\".\" + label + \"(\\\"\" + event + \"\\\") <===\", data);\n    listener(data);\n  };\n\n  var uniqueId = generateUniqueId(listenersMap);\n  listener[LISTENER_IDENTITY][event] = uniqueId;\n  listenersMap[uniqueId] = enhancedListener;\n  return enhancedListener;\n}; // TODO: this really should just accept & return CustomerSdk type\n\n\nvar debug = (function (_sdk) {\n  var sdk = _sdk;\n\n  if (process.env.NODE_ENV === 'production') {\n    console.warn('You probably do not want to use debug(customerSDK) in your production environment.');\n  }\n\n  var _on = sdk.on,\n      _once = sdk.once,\n      _off = sdk.off,\n      _getChatHistory = sdk.getChatHistory,\n      auth = sdk.auth,\n      rest = _objectWithoutPropertiesLoose(sdk, [\"on\", \"once\", \"off\", \"getChatHistory\", \"auth\"]);\n\n  var methods = createDebuggedMethods(rest);\n  return Object.freeze(_extends({\n    auth: Object.freeze(createDebuggedMethods(auth, '.auth'))\n  }, methods, {\n    getChatHistory: function getChatHistory() {\n      var _console2;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      (_console2 = console).info.apply(_console2, [\".getChatHistory()\"].concat(args));\n\n      var history = _getChatHistory.apply(void 0, args);\n\n      var logLabel = 'history.next()';\n      return {\n        next: function next() {\n          var _console3;\n\n          (_console3 = console).info.apply(_console3, [logLabel + \" ===>\"].concat(args));\n\n          var result = history.next();\n          result.then(function (data) {\n            var _console4;\n\n            (_console4 = console).info.apply(_console4, [logLabel + \" <===\"].concat(args, [data]));\n          }).catch(function (err) {\n            var _console5;\n\n            (_console5 = console).error.apply(_console5, [logLabel + \" <===\"].concat(args, [err]));\n          });\n          return result;\n        }\n      };\n    },\n    off: function off(event, listener) {\n      console.info(\".off(\\\"\" + event + \"\\\", \" + (listener.name || 'anonymous') + \")\");\n      var enhancedListener = listener;\n\n      if (listener[LISTENER_IDENTITY] !== undefined) {\n        var enhancedListenerId = listener[LISTENER_IDENTITY][event];\n        enhancedListener = listenersMap[enhancedListenerId];\n      }\n\n      _off(event, enhancedListener);\n    },\n    on: function on(event, listener) {\n      _on(event, createEnhancedListener('on', event, listener));\n    },\n    once: function once(event, listener) {\n      _once(event, createEnhancedListener('once', event, listener));\n    }\n  }));\n});\n\nvar CHATS_PAGINATION_MAX_LIMIT = 25;\nvar THREADS_PAGINATION_MAX_LIMIT = 1000;\nvar init = function init(config, env) {\n  if (env === void 0) {\n    env = 'production';\n  }\n\n  validateConfig(config);\n\n  var _config$autoConnect = config.autoConnect,\n      autoConnect = _config$autoConnect === void 0 ? true : _config$autoConnect,\n      customerDataProvider = config.customerDataProvider,\n      instanceConfig = _objectWithoutPropertiesLoose(config, [\"autoConnect\", \"customerDataProvider\"]);\n\n  var store = finalCreateStore(_extends({}, instanceConfig, {\n    env: env\n  }));\n  var emitter = mitt();\n  var socket = createSocketClient(store);\n  var auth = createAuth(instanceConfig, env);\n  store.addSideEffectsHandler(createSideEffectsHandler({\n    emitter: emitter,\n    socket: socket,\n    auth: auth,\n    customerDataProvider: customerDataProvider\n  }));\n  socketListener(store, socket);\n\n  var sendRequestAction$$1 = sendRequestAction.bind(null, store);\n\n  var startConnection = function startConnection() {\n    store.dispatch({\n      type: START_CONNECTION\n    });\n  };\n\n  var api = Object.freeze({\n    acceptGreeting: function acceptGreeting(_ref) {\n      var greetingId = _ref.greetingId,\n          uniqueId = _ref.uniqueId;\n      return sendRequestAction$$1(sendRequest(ACCEPT_GREETING, {\n        greeting_id: greetingId,\n        unique_id: uniqueId\n      }));\n    },\n    activateChat: function activateChat(data) {\n      log({\n        env: env,\n        licenseId: config.licenseId,\n        eventName: 'chat_started'\n      });\n      return sendRequestAction$$1(sendRequest(ACTIVATE_CHAT, parseActivationChatData(data)));\n    },\n    auth: auth,\n    cancelGreeting: function cancelGreeting(_ref2) {\n      var uniqueId = _ref2.uniqueId;\n      return sendRequestAction$$1(sendRequest(CANCEL_GREETING, {\n        unique_id: uniqueId\n      }));\n    },\n    cancelRate: function cancelRate(params) {\n      var chatId = params.chatId,\n          _params$properties = params.properties,\n          properties = _params$properties === void 0 ? ['score'] : _params$properties;\n      return api.getChatThreadsSummary({\n        chatId: chatId\n      }).then(function (_ref3) {\n        var threadsSummary = _ref3.threadsSummary;\n        var lastThreadSummary = last(threadsSummary);\n\n        if (!lastThreadSummary) {\n          throw createError({\n            message: \"There is no thread in \\\"\" + chatId + \"\\\".\",\n            code: MISSING_CHAT_THREAD\n          });\n        }\n\n        return api.deleteThreadProperties({\n          chatId: chatId,\n          threadId: lastThreadSummary.id,\n          properties: {\n            rating: properties\n          }\n        });\n      });\n    },\n    connect: startConnection,\n    deactivateChat: function deactivateChat(_ref4) {\n      var chatId = _ref4.chatId;\n      return sendRequestAction$$1(sendRequest(DEACTIVATE_CHAT, {\n        chat_id: chatId\n      }));\n    },\n    deleteChatProperties: function deleteChatProperties(_ref5) {\n      var chatId = _ref5.chatId,\n          properties = _ref5.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_CHAT_PROPERTIES, {\n        chat_id: chatId,\n        properties: properties\n      }));\n    },\n    deleteEventProperties: function deleteEventProperties(_ref6) {\n      var chatId = _ref6.chatId,\n          threadId = _ref6.threadId,\n          eventId = _ref6.eventId,\n          properties = _ref6.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_EVENT_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        event_id: eventId,\n        properties: properties\n      }));\n    },\n    deleteThreadProperties: function deleteThreadProperties(_ref7) {\n      var chatId = _ref7.chatId,\n          threadId = _ref7.threadId,\n          properties = _ref7.properties;\n      return sendRequestAction$$1(sendRequest(DELETE_THREAD_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    destroy: function destroy$$1() {\n      store.dispatch(destroy('manual'));\n    },\n    disconnect: function disconnect() {\n      store.dispatch({\n        type: PAUSE_CONNECTION\n      });\n    },\n    getChatHistory: function getChatHistory(_ref8) {\n      var chatId = _ref8.chatId;\n      return chatHistory(api, chatId);\n    },\n\n    /** @deprecated gonna be removed soon with introduction of the smart pagination */\n    getChatThreads: function getChatThreads(_ref9) {\n      var chatId = _ref9.chatId,\n          threadIds = _ref9.threadIds;\n      return sendRequestAction$$1(sendRequest(GET_CHAT_THREADS, {\n        chat_id: chatId,\n        thread_ids: threadIds\n      }));\n    },\n\n    /** @deprecated gonna be removed soon with introduction of the smart pagination */\n    getChatThreadsSummary: function getChatThreadsSummary(_ref10) {\n      var chatId = _ref10.chatId,\n          _ref10$offset = _ref10.offset,\n          offset = _ref10$offset === void 0 ? 0 : _ref10$offset,\n          _ref10$limit = _ref10.limit,\n          limit = _ref10$limit === void 0 ? 25 : _ref10$limit;\n\n      if (limit > THREADS_PAGINATION_MAX_LIMIT) {\n        return Promise.reject(new Error(\"Specified limit is too high (max \" + THREADS_PAGINATION_MAX_LIMIT + \").\"));\n      }\n\n      return sendRequestAction$$1(sendRequest(GET_CHAT_THREADS_SUMMARY, {\n        chat_id: chatId,\n        offset: offset,\n        limit: limit\n      }));\n    },\n    getCustomer: function getCustomer() {\n      return sendRequestAction$$1(sendRequest(GET_CUSTOMER));\n    },\n    getForm: function getForm(_ref11) {\n      var groupId = _ref11.groupId,\n          type = _ref11.type;\n      return sendRequestAction$$1(sendRequest(GET_FORM, {\n        group_id: groupId,\n        type: type\n      }));\n    },\n    getPredictedAgent: function getPredictedAgent(params) {\n      if (params === void 0) {\n        params = {};\n      }\n\n      var _params = params,\n          groupId = _params.groupId;\n      return sendRequestAction$$1(sendRequest(GET_PREDICTED_AGENT, typeof groupId === 'number' ? {\n        group_id: groupId\n      } : undefined));\n    },\n    getUrlInfo: function getUrlInfo(_ref12) {\n      var url = _ref12.url;\n      return sendRequestAction$$1(sendRequest(GET_URL_INFO, {\n        url: url\n      }));\n    },\n    listChats: function listChats(_temp) {\n      var _ref13 = _temp === void 0 ? {} : _temp,\n          _ref13$offset = _ref13.offset,\n          offset = _ref13$offset === void 0 ? 0 : _ref13$offset,\n          _ref13$limit = _ref13.limit,\n          limit = _ref13$limit === void 0 ? 10 : _ref13$limit;\n\n      if (limit > CHATS_PAGINATION_MAX_LIMIT) {\n        return Promise.reject(new Error(\"Specified limit is too high (max \" + CHATS_PAGINATION_MAX_LIMIT + \").\"));\n      }\n\n      return sendRequestAction$$1(sendRequest(LIST_CHATS, {\n        offset: offset,\n        limit: limit\n      }));\n    },\n    listGroupStatuses: function listGroupStatuses(_temp2) {\n      var _ref14 = _temp2 === void 0 ? {} : _temp2,\n          groupIds = _ref14.groupIds;\n\n      return sendRequestAction$$1(sendRequest(LIST_GROUP_STATUSES, // wait for script propagation, then ask API to use `group_ids` instead of `groups` and remove `groups` from here after that\n      groupIds ? {\n        groups: groupIds,\n        group_ids: groupIds\n      } : {\n        all: true\n      }));\n    },\n    markEventsAsSeen: function markEventsAsSeen(_ref15) {\n      var chatId = _ref15.chatId,\n          seenUpTo = _ref15.seenUpTo;\n      return sendRequestAction$$1(sendRequest(MARK_EVENTS_AS_SEEN, {\n        chat_id: chatId,\n        seen_up_to: seenUpTo\n      }));\n    },\n    on: emitter.on,\n    once: emitter.once,\n    off: emitter.off,\n    rateChat: function rateChat(params) {\n      var chatId = params.chatId,\n          rating = params.rating;\n      return api.getChatThreadsSummary({\n        chatId: chatId\n      }).then(function (_ref16) {\n        var threadsSummary = _ref16.threadsSummary;\n        var lastThreadSummary = last(threadsSummary);\n\n        if (!lastThreadSummary) {\n          throw createError({\n            message: \"There is no thread in \\\"\" + chatId + \"\\\".\",\n            code: MISSING_CHAT_THREAD\n          });\n        }\n\n        return api.updateThreadProperties({\n          chatId: chatId,\n          threadId: lastThreadSummary.id,\n          properties: {\n            rating: rating\n          }\n        });\n      });\n    },\n    sendEvent: function (_sendEvent) {\n      function sendEvent$$1(_x) {\n        return _sendEvent.apply(this, arguments);\n      }\n\n      sendEvent$$1.toString = function () {\n        return _sendEvent.toString();\n      };\n\n      return sendEvent$$1;\n    }(function (params) {\n      return sendRequestAction$$1(sendEvent(params));\n    }),\n    sendTicketForm: function sendTicketForm$$1(options) {\n      return sendTicketForm(store, auth, options);\n    },\n    sendRichMessagePostback: function sendRichMessagePostback(_ref17) {\n      var chatId = _ref17.chatId,\n          threadId = _ref17.threadId,\n          eventId = _ref17.eventId,\n          postback = _ref17.postback;\n      return sendRequestAction$$1(sendRequest(SEND_RICH_MESSAGE_POSTBACK, {\n        chat_id: chatId,\n        event_id: eventId,\n        thread_id: threadId,\n        postback: postback\n      }));\n    },\n    setCustomerSessionFields: function setCustomerSessionFields(_ref18) {\n      var sessionFields = _ref18.sessionFields;\n      return sendRequestAction$$1(sendRequest(SET_CUSTOMER_SESSION_FIELDS, {\n        session_fields: parseCustomerSessionFields(sessionFields)\n      }));\n    },\n    setSneakPeek: function setSneakPeek(_ref19) {\n      var chatId = _ref19.chatId,\n          sneakPeekText = _ref19.sneakPeekText;\n      var state = store.getState();\n\n      if (!isChatActive(state, chatId) || !isConnected(state)) {\n        return;\n      }\n\n      sendRequestAction$$1(sendRequest(SEND_SNEAK_PEEK, {\n        chat_id: chatId,\n        sneak_peek_text: sneakPeekText\n      })).catch(noop);\n    },\n    startChat: function startChat(data) {\n      if (data === void 0) {\n        data = {};\n      }\n\n      log({\n        env: env,\n        licenseId: config.licenseId,\n        eventName: 'chat_started'\n      });\n      return sendRequestAction$$1(sendRequest(START_CHAT, parseActivationChatData(data)));\n    },\n    updateChatProperties: function updateChatProperties(_ref20) {\n      var chatId = _ref20.chatId,\n          properties = _ref20.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_CHAT_PROPERTIES, {\n        chat_id: chatId,\n        properties: properties\n      }));\n    },\n    updateCustomer: function updateCustomer(update) {\n      return sendRequestAction$$1(sendRequest(UPDATE_CUSTOMER, parseCustomerUpdate(update)));\n    },\n    updateCustomerPage: function updateCustomerPage(page) {\n      store.dispatch({\n        type: UPDATE_CUSTOMER_PAGE,\n        payload: pickOwn(['title', 'url'], page)\n      });\n    },\n    updateEventProperties: function updateEventProperties(_ref21) {\n      var chatId = _ref21.chatId,\n          threadId = _ref21.threadId,\n          eventId = _ref21.eventId,\n          properties = _ref21.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_EVENT_PROPERTIES, {\n        chat_id: chatId,\n        event_id: eventId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    updateThreadProperties: function updateThreadProperties(_ref22) {\n      var chatId = _ref22.chatId,\n          threadId = _ref22.threadId,\n          properties = _ref22.properties;\n      return sendRequestAction$$1(sendRequest(UPDATE_THREAD_PROPERTIES, {\n        chat_id: chatId,\n        thread_id: threadId,\n        properties: properties\n      }));\n    },\n    uploadFile: function uploadFile$$1(options) {\n      return uploadFile({\n        auth: auth,\n        store: store\n      }, options);\n    }\n  });\n\n  if (autoConnect) {\n    startConnection();\n  } else {\n    store.dispatch({\n      type: CHECK_GOALS,\n      payload: {\n        sessionFields: typeof customerDataProvider === 'function' ? customerDataProvider().sessionFields : {}\n      }\n    });\n  }\n\n  return api;\n};\n\nexport { init, debug, parseFile, parseFilledForm, parseMessage, parseRichMessage, parseSystemMessage, parseEvent$1 as parseEvent, parseGreeting };\n","// import * as LivechatVisitorSDK from \"@livechat/livechat-visitor-sdk\";\nconst logger = require(\"@/utils/logging\").getLogger(\"live-chat.js\");\nimport * as CustomerSDK from \"@livechat/customer-sdk\"; // live chat\n// customerSDK.auth.getToken().then(token => logger.debug(token));\nvar stripHtml = require(\"striptags\");\nvar iterator = require(\"markdown-it-for-inline\");\n\nvar md = require(\"markdown-it\")({\n  html: true,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: \"language-\",\n  linkify: true,\n  typographer: true,\n  quotes: \"“”‘’\"\n}).use(iterator, \"url_new_win\", \"link_open\", function (tokens, idx) {\n  tokens[idx].attrPush([\"target\", \"_blank\"]);\n});\n\nexport class LiveChat {\n  constructor(store, useLocalStorage, storageKey, teneoChatHistory) {\n    this.store = store;\n    this.tts = store.state.tts.tts;\n    this.useLocalStorage = useLocalStorage;\n    this.storageKey = storageKey;\n    this.teneoChatHistory = teneoChatHistory;\n    this.sdk;\n    this.chatId;\n    this.authToken;\n    this.isActiveChat = false;\n    this.agent = {};\n    this.historyStates = {\n      DONE: \"DONE\",\n      INACTIVE: \"INACTIVE\",\n      LOADING: \"LOADING\"\n    };\n    this.initialize();\n  }\n\n  initialize() {\n    try {\n      if (this.store.getters.enableLiveChat && window.leopardConfig.liveChat.licenseKey) {\n        this.sdk = CustomerSDK.init({\n          licenseId: parseInt(window.leopardConfig.liveChat.licenseKey),\n          clientId: \"5e68dfc9597a892b27eb97740abe1fee\"\n        });\n\n        // this.sdk = CustomerSDK.debug(\n        //   CustomerSDK.init({\n        //     licenseId: parseInt(window.leopardConfig.liveChat.licenseKey),\n        //     clientId: \"5e68dfc9597a892b27eb97740abe1fee\"\n        //   })\n        // );\n        window.sdk = this.sdk;\n\n        logger.debug(`LiveChat sdk has been initialized`, this.sdk);\n\n        this.sdk.auth\n          .getToken()\n          .then(token => {\n            logger.debug(\"Live Chat - Access Token\", token);\n            this.accessToken = token.accessToken;\n          })\n          .catch(error => {\n            logger.error(\"Unable to authenticate with LiveChat\", error);\n          });\n\n        //new\n        this.sdk.on(\"availability_updated\", ({ availability }) => {\n          logger.debug(\"availability_updated\", availability);\n        });\n\n        this.sdk.on(\"chat_deactivate\", () => {\n          this.stopChat();\n        });\n\n        this.sdk.on(\"chat_properties_updated\", payload => {\n          const { chatId, properties } = payload;\n          logger.debug(\"chat_properties_updated\", { chatId, properties });\n        });\n\n        this.sdk.on(\"chat_transferred\", payload => {\n          const { chatId, threadId, requesterId, transferredTo } = payload;\n          logger.debug(\"chat_transferred\", {\n            chatId,\n            threadId,\n            requesterId,\n            transferredTo\n          });\n        });\n\n        this.sdk.on(\"connection_recovered\", () => {\n          logger.debug(\"connection_recovered\");\n        });\n\n        this.sdk.on(\"connection_unstable\", () => {\n          logger.debug(\"connection_unstable\");\n        });\n\n        this.sdk.on(\"event_properties_updated\", payload => {\n          const { chatId, threadId, eventId, properties } = payload;\n          logger.debug(\"event_properties_updated\", {\n            chatId,\n            threadId,\n            eventId,\n            properties\n          });\n        });\n\n        this.sdk.on(\"event_updated\", payload => {\n          const { chatId, threadId, event } = payload;\n          logger.debug(\"event_updated\", { chatId, threadId, event });\n        });\n\n        this.sdk.on(\"events_marked_as_seen\", payload => {\n          const { chatId, userId, seenUpTo } = payload;\n          logger.debug(\"events_marked_as_seen\", { chatId, userId, seenUpTo });\n        });\n\n        this.sdk.on(\"incoming_chat\", payload => {\n          const { chat } = payload;\n          const { id, access, users, properties, thread } = chat;\n          logger.debug(\"incoming_chat\", { id, access, users, properties, thread });\n        });\n\n        this.sdk.on(\"incoming_event\", payload => {\n          const { event } = payload;\n          logger.debug(`LiveChat > new_event`, event);\n\n          switch (event.type) {\n            case \"system_message\":\n              if (event.systemMessageType === \"manual_archived_agent\") {\n                this.stopChat();\n              }\n              break;\n            case \"message\":\n              logger.debug(`LiveChat > Message Text`, event.text);\n              // if (!this.chatId) {\n              //   this.chatId = chat;\n              // }\n              logger.debug(\n                `LiveChat > Is live chat enabled?`,\n                this.store.state.liveAgent.isLiveChat\n              );\n\n              if (event.authorId === this.agent.id) {\n                if (!this.store.state.liveAgent.isLiveChat || !this.store.state.ui.showChatWindow) {\n                  this.startLiveChat();\n                  logger.debug(`LiveChat > Started live chat... from within new_event`);\n                }\n                logger.debug(\"new message from agent - \", event.text);\n\n                let liveChatResponse = {\n                  type: \"liveChatResponse\",\n                  text: md.render(event.text),\n                  agentAvatar: this.store.getters.agentAvatar,\n                  agentName: this.store.getters.agentName,\n                  bodyText: \"\",\n                  hasExtraData: false\n                };\n                this.store.commit(\"PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG\", liveChatResponse); // push the getting message onto the dialog\n                if (\n                  Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\n                  Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\n                ) {\n                  if (this.tts && this.store.getters.speakBackResponses) {\n                    this.tts.say(stripHtml(event.text));\n                  }\n                }\n\n                if (this.useLocalStorage) {\n                  localStorage.setItem(\n                    this.storageKey + this.teneoChatHistory,\n                    JSON.stringify(this.store.getters.dialog)\n                  );\n                }\n                this.store.commit(\n                  \"SET_DIALOG_HISTORY\",\n                  JSON.parse(sessionStorage.getItem(this.storageKey + this.teneoChatHistory))\n                );\n                if (this.store.getters.dialogHistory === null) {\n                  this.store.commit(\"SET_DIALOG_HISTORY\", this.store.getters.dialog);\n                } else {\n                  this.store.commit(\"PUSH_RESPONSE_TO_DIALOG_HISTORY\", liveChatResponse);\n                }\n                sessionStorage.setItem(\n                  this.storageKey + this.teneoChatHistory,\n                  JSON.stringify(this.store.getters.dialogHistory)\n                );\n                this.store.commit(\"CLEAR_USER_INPUT\");\n              } else {\n                logger.debug(\"LiveChat > new user message to agent - \", event.text);\n              }\n              break;\n            default:\n              break;\n          }\n        });\n\n        this.sdk.on(\"incoming_greeting\", payload => {\n          const { text, agent } = payload;\n          const { name } = agent;\n          logger.debug(`Received a greeting with \"${text}\" text content from ${name}.`);\n        });\n\n        this.sdk.on(\"incoming_typing_indicator\", payload => {\n          logger.debug(`LiveChat > user_is_typing`);\n          if (\n            payload.typingIndicator.isTyping &&\n            payload.typingIndicator.authorId === this.agent.id\n          ) {\n            this.store.commit(\"LIVE_CHAT_LOADING\", true);\n          } else if (\n            !payload.typingIndicator.isTyping &&\n            payload.typingIndicator.authorId === this.agent.id\n          ) {\n            this.store.commit(\"LIVE_CHAT_LOADING\", false);\n          }\n        });\n\n        this.sdk.on(\"queue_position_updated\", payload => {\n          logger.debug(payload.chatId);\n          logger.debug(payload.threadId);\n          logger.debug(payload.queue.position);\n          logger.debug(payload.queue.waitTime);\n        });\n\n        this.sdk.on(\"user_added_to_chat\", payload => {\n          const { chatId, user, present } = payload;\n          logger.debug(\"LiveChat > user_joined_chat\", { chatId, user, present });\n\n          this.chatId = chatId;\n          if (user.type === \"agent\" && !this.store.state.liveAgent.isLiveChat) {\n            this.agent = user;\n            this.store.commit(\"AGENT_NAME\", user.name);\n            this.store.commit(\"AGENT_ID\", user.id);\n            this.store.commit(\"AGENT_AVATAR\", user.avatar);\n            logger.debug(`LiveChat > Starting live chat form within - user_added_to_chat`);\n            this.startLiveChat();\n          }\n        });\n\n        this.sdk.on(\"connected\", payload => {\n          logger.debug(`CUSTOMER DATA`, payload.customer);\n          logger.debug(`LiveChat > Conected`, payload);\n          this.sdk.listChats().then(existingChats => {\n            logger.info(`Existing LiveChats`, existingChats);\n            if (existingChats.chatsSummary.length > 0) {\n              this.chatId = existingChats.chatsSummary[0].id;\n              this.lastMessage = existingChats.chatsSummary[0].lastEventsPerType.message.text;\n              this.lastMessageAuthorId =\n                existingChats.chatsSummary[0].lastEventsPerType.message.author;\n              this.isActiveChat = existingChats.chatsSummary[0].active;\n            }\n          });\n        });\n      }\n    } catch (e) {\n      logger.error(\"LiveChat > Error Setting Up Live Chat\", e);\n    }\n  }\n\n  stopChat() {\n    this.store.commit(\"LIVE_CHAT_LOADING\", false);\n    logger.debug(`LiveChat > chat_deactivate`);\n    if (this.store.state.liveAgent.isLiveChat) {\n      let message = \"Chat with live agent ended. You are now talking with the virtual assistant. \";\n      this.store.commit(\"RESET_CHAT_TITLE\");\n      // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\n      let liveChatStatus = {\n        type: \"liveChatEnded\",\n        text: message,\n        bodyText: \"\",\n        hasExtraData: false\n      };\n      this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\n      this.store.commit(\"STOP_LIVE_CHAT\");\n      if (!this.store.getters.hasLoggedInTeneo) {\n        this.store\n          .dispatch(\"beginTeneoSession\")\n          .then(() => {\n            logger.debug(\"Successfully established chat session\");\n          })\n          .catch(err => {\n            logger.debug(\"ERROR LOGGING IN TO CHAT: \", err.teneoUrl);\n          });\n      }\n    }\n  }\n\n  // disableLiveChat() {\n  //   this.sdk.disconnect();\n  //   this.sdk.destroy();\n  //   this.store.commit(\"RESET_CHAT_TITLE\");\n  //   this.store.commit(\"STOP_LIVE_CHAT\");\n  // }\n\n  startLiveChat() {\n    if (!this.store.state.liveAgent.isLiveChat) {\n      logger.debug(`LiveChat > startLiveChat`);\n      this.store.commit(\"CHANGE_CHAT_TITLE\", `Speaking with ${this.agent.name}`);\n      // show typing output agentName + ' is typing...'\n\n      let message = \"You are talking to \" + this.agent.name + \".\";\n      this.store.commit(\"START_LIVE_CHAT\");\n      // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\n\n      let liveChatStatus = {\n        type: \"liveChatStatus\",\n        text: message,\n        bodyText: \"\",\n        hasExtraData: false\n      };\n      this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\n      this.store\n        .dispatch(\"openChatWindow\", false)\n        .then(() => {\n          logger.debug(\"LiveChat > Successfully logged into chat\");\n          setTimeout(\n            function () {\n              this.store.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\n            }.bind(this),\n            1500\n          ); // only show the chat button after a successful login\n        })\n        .catch(err => {\n          logger.error(\"ERROR OPENING CHAT FROM INCOMING LIVE CHAT MESSAGE: \", err);\n        });\n    }\n  }\n\n  /**\n   * Send a message to message to the live chat agent\n   *\n   * @param {*} message\n   */\n  sendMessage(message) {\n    if (!this.chatId && this.sdk) {\n      this.sdk.listChats().then(existingChats => {\n        logger.info(`Existing LiveChats`, existingChats);\n        if (existingChats.chatsSummary.length > 0) {\n          this.chatId = existingChats.chatsSummary[0].id;\n          this.communicateWithAgent(message);\n        }\n      });\n    } else if (this.chatId && this.sdk) {\n      this.communicateWithAgent(message);\n    }\n  }\n\n  communicateWithAgent(message) {\n    if (this.chatId && this.sdk && this.isActiveChat) {\n      logger.debug(\n        \"Have existing chatId, chat is active and Sending message to LiveChat Agent:\" + message\n      );\n      this.sdk\n        .sendEvent({\n          chatId: this.chatId,\n          event: {\n            type: \"message\",\n            text: message\n          }\n        })\n        .catch(error => {\n          logger.error(`Could not send message to Live Agent`, error);\n        });\n    } else if (this.chatId && this.sdk && !this.isActiveChat) {\n      logger.debug(\n        \"Have existing chatId, chat not active and Sending message to LiveChat Agent:\" + message\n      );\n      // this.sdk\n      //   .sendEvent({\n      //     chatId: this.chatId,\n      //     event: {\n      //       type: \"message\",\n      //       text: message\n      //     }\n      //   })\n      //   .then(event => {\n      //     logger.debug(event);\n      //   })\n      //   .catch(error => {\n      //     logger.debug(error);\n      //   });\n\n      this.sdk\n        .activateChat({\n          chat: {\n            id: this.chatId,\n            thread: {\n              events: [\n                {\n                  type: \"message\",\n                  text: message\n                }\n              ]\n            }\n          }\n        })\n        .then(response => {\n          logger.debug(`Live Chat Chat Reactivation`, response);\n          this.chatId = response.chat.id;\n          this.isActiveChat = response.chat.thread.active;\n          this.displayQueueNotification(response);\n        })\n        .catch(error => {\n          logger.error(\"LiveChat > Could not start a live chat message\", error);\n        });\n    } else if (this.sdk) {\n      logger.debug(\"STARTING LiveChat with message\" + message);\n      // .startChat({\n      //     events: [\n      //       {\n      //         type: \"message\",\n      //         text: message\n      //       }\n      //     ]\n      //   })\n      this.sdk\n        .startChat({\n          chat: {\n            thread: {\n              events: [\n                {\n                  type: \"message\",\n                  text: message\n                }\n              ]\n            }\n          }\n        })\n        .then(chat => {\n          this.chatId = chat;\n          logger.debug(`Live Chat Response`, chat);\n        })\n        .catch(error => {\n          logger.error(\"LiveChat > Could not start a live chat message\", error);\n        });\n    } else {\n      logger.error(`LiveChat SDK not initialized for user`, this.chatId, this.sdk);\n    }\n  }\n\n  displayQueueNotification(response) {\n    try {\n      let secondsWait = response.chat.thread.queue.waitTime;\n      let message =\n        \"Chat request sent to agent. You are number \" +\n        response.chat.thread.queue.position +\n        \" in the queue. Average wait time is \" +\n        (Math.floor(secondsWait / 60) + \" min \" + (\"0\" + Math.floor(secondsWait % 60)).slice(-2)) +\n        \" seconds\";\n      // only display messages if live chat is active (check for isLiveChat prevents messages from showing when user refreshed the page)\n      let liveChatStatus = {\n        type: \"liveChatQueue\",\n        text: message,\n        bodyText: \"\",\n        hasExtraData: false\n      };\n      this.store.commit(\"PUSH_LIVE_CHAT_STATUS_TO_DIALOG\", liveChatStatus); // push the getting message onto the dialog\n      this.store.commit(\"STOP_LIVE_CHAT\"); // No need directing all inputs if no chat session started yet\n    } catch (e) {\n      logger.error(`LiveChat > Remue/Start Chat`, e);\n    }\n  }\n}\n","const logger = require(\"@/utils/logging\").getLogger(\"setup.js\");\nimport \"@mdi/font/css/materialdesignicons.css\";\nimport { LocalStorage } from \"ttl-localstorage\";\n\n// import \"typeface-roboto\";\nimport {\n  doesParameterExist,\n  getParameterByName,\n  fixSolutions,\n  createSharableLink\n} from \"@/utils/utils\";\nimport { Ripple } from \"vuetify/lib/directives\";\nimport superagent from \"superagent\";\nimport PromisedLocation from \"promised-location\";\nimport COLOR_NAMES from \"@/constants/color-names\";\nimport Vue from \"vue\";\nimport \"@/utils/vee-validate\";\n\nimport \"vue-loaders/dist/vue-loaders.css\";\nimport \"vue2-animate/dist/vue2-animate.min.css\";\n\nimport Vuetify from \"vuetify/lib/framework\";\nVue.use(Vuetify, {\n  directives: {\n    Ripple\n  }\n});\n\nimport { ASR_CORRECTIONS } from \"@/constants/asr-corrections\"; // fix ASR issues before they get to Teneo\nimport { LiveChat } from \"@/utils/live-chat\";\nimport { STORAGE_KEY } from \"@/constants/solution-config-default\";\n\nlet logrocketPlugin = null;\nlet logRocket = null;\nlet sentry = null;\n\n// start LogRocket Setup\nif (window.leopardConfig.isProduction && window.leopardConfig.logging.logRocket) {\n  import(\"logrocket\")\n    .then(({ default: LogRocket }) => {\n      logRocket = LogRocket;\n      logger.debug(`Setting up LogRocket 🚀`);\n      LogRocket.init(window.leopardConfig.logging.logRocket);\n      import(\"logrocket-vuex\").then(({ default: createPlugin }) => {\n        logrocketPlugin = createPlugin(LogRocket);\n        logger.debug(`LogRocket 🚀 setup complete`);\n      });\n    })\n    .catch(err => {\n      logger.error(`Failed to dynamically import LogRocket 🚀`, err);\n    });\n}\n// End LogRocket Setup\n\n// start sentry\nif (window.window.leopardConfig.isProduction && window.window.leopardConfig.logging.sentryDsn) {\n  Promise.all([import(\"@sentry/browser\"), import(\"@sentry/integrations\")]).then(\n    ([Sentry, Integrations]) => {\n      Sentry.init({\n        dsn: window.leopardConfig.logging.sentryDsn,\n        integrations: [new Integrations.Vue({ Vue, attachProps: true })],\n        logErrors: true\n      });\n      sentry = Sentry;\n    }\n  );\n}\n// end sentry\n\nexport default class Setup {\n  constructor() {\n    this.TENEO_CHAT_HISTORY = \"teneo-chat-history\";\n    this.TENEO_LAST_INTERACTION_DATE = \"teneo-last-interaction\";\n    this.TENEO_CHAT_DARK_THEME = \"darkTheme\";\n    this.logrocketPlugin = logrocketPlugin;\n    this.ASR_CORRECTIONS_MERGED;\n    this.liveChat;\n    this.CHAT_TITLE = \"Configure Me\";\n    this.IS_AGENT_ASSIST = doesParameterExist(\"plugin_id\");\n    this.EMBED = doesParameterExist(\"embed\");\n    this.sheetId = getParameterByName(\"sheetId\");\n    this.ENABLE_LIVE_CHAT = false;\n    this.FLOAT = false;\n    this.THEME = {\n      primary: \"#3277D5\",\n      secondary: \"#E78600\",\n      accent: \"#4CAF50\",\n      error: \"#FF5252\",\n      info: \"#2196F3\",\n      success: \"#4CAF50\",\n      warning: \"#FFC107\"\n    };\n    this.IFRAME_URL = \"\";\n    this.KNOWLEDGE_DATA = [];\n    this.LOCALE = \"en\";\n    this.REQUEST_PARAMETERS = \"\";\n    this.RESPONSE_ICON = \"\";\n    this.SEND_CTX_PARAMS = \"login\";\n    this.TENEO_URL = \"\";\n    this.USE_SESSION_STORAGE = !this.EMBED;\n    this.USER_ICON = \"\";\n    this.activeSolution = null;\n    this.chatConfig = null;\n    // Get the dark theme setting from local storage\n    // let darkThemeSetting = localStorage.getItem(STORAGE_KEY + \"darkTheme\");\n\n    localStorage.setItem(STORAGE_KEY + \"darkTheme\", \"false\");\n  }\n\n  init() {\n    return new Promise((resolve, reject) => {\n      this.getSolutionConfig()\n        .then(config => {\n          this.chatConfig = fixSolutions(config);\n\n          if (!this.EMBED) {\n            this.addIframeHtml();\n          }\n\n          logger.info(`Active Solution Config: `, this.chatConfig);\n\n          if (this.chatConfig && this.chatConfig.activeSolution) {\n            logger.debug(`Active Solution: ${this.chatConfig.activeSolution}`);\n            let deepLink = getParameterByName(\"dl\"); // look for deep link\n            if (!deepLink) {\n              this.setupNoDeepLink();\n            } else {\n              // allow for deep linking to a specific solution ?dl=<deepLink>\n              this.setupDeepLink(deepLink);\n            }\n            this.setupTivaSheetId();\n            this.ASR_CORRECTIONS_MERGED = this.getMergedAsrCorrections(ASR_CORRECTIONS);\n            logger.debug(\"Merged ASR Corrections\");\n            this.CHAT_TITLE = this.activeSolution.chatTitle;\n            this.IFRAME_URL = this.activeSolution.iframeUrl;\n            this.KNOWLEDGE_DATA = this.activeSolution.knowledgeData;\n            this.LOCALE = this.activeSolution.locale;\n            this.FLOAT = this.activeSolution.float;\n            this.RESPONSE_ICON = this.activeSolution.responseIcon;\n            // this.DIALOG = this.retrievePastDialog();\n            this.SEND_CTX_PARAMS = this.activeSolution.sendContextParams\n              ? this.activeSolution.sendContextParams\n              : \"login\";\n            this.TENEO_URL = this.activeSolution.url;\n            this.USER_ICON = this.activeSolution.userIcon;\n\n            let theme = this.activeSolution.theme;\n            // convert color names to their #hex equivalent\n            for (const key in theme) {\n              if (theme[key].charAt(0) !== \"#\") theme[key] = COLOR_NAMES[theme[key]];\n            }\n            this.THEME = theme;\n\n            this.ENABLE_LIVE_CHAT =\n              this.activeSolution.enableLiveChat && !doesParameterExist(\"plugin_id\");\n            this.UNIQUE_KEY =\n              this.activeSolution.deepLink +\n              (window.location.href.indexOf(\"mobile=true\") > -1 ? \"_mobile\" : \"\");\n            document.title = this.activeSolution.name;\n\n            this.setupContextParams();\n          }\n\n          // update the IFRAME URL\n          this.seupIframeInNonEmbedMode();\n          logger.debug(\"About to initialize Vuetify\");\n          let vuetify = this.setupVuetifyConfig();\n          this.setupThirdPartyLogging();\n          this.setupGeoCapture(resolve, vuetify);\n          resolve(vuetify);\n        })\n        .catch(error => {\n          console.error(\"Can't get Vuetify to work\", error);\n          reject(error);\n        });\n    });\n  }\n\n  seupIframeInNonEmbedMode() {\n    if (!this.EMBED && document.getElementById(\"site-frame\")) {\n      document.getElementById(\"site-frame\").src = this.IFRAME_URL;\n      logger.debug(\"Updated IFRAME url\", this.IFRAME_URL);\n    }\n  }\n\n  setupContextParams() {\n    let self = this;\n    // find active CTX parameters and build the parameters part of the URL\n    this.activeSolution.contextParams.forEach(contextParam => {\n      if (contextParam) {\n        contextParam.values.forEach(value => {\n          if (value.active) {\n            self.REQUEST_PARAMETERS =\n              self.REQUEST_PARAMETERS +\n              \"&\" +\n              contextParam.name +\n              \"=\" +\n              encodeURIComponent(value.text);\n          }\n        });\n      }\n    });\n  }\n\n  setupNoDeepLink() {\n    logger.debug(`No deep link found in the current url - load default solution`);\n    this.activeSolution = this.chatConfig.activeSolution;\n    const matchingSolutions = this.chatConfig.solutions.filter(\n      solution => solution.id === this.activeSolution\n    );\n    if (matchingSolutions.length > 0) {\n      this.activeSolution = matchingSolutions[0];\n    } else {\n      this.activeSolution = this.chatConfig.solutions[0];\n    }\n  }\n\n  setupDeepLink(deepLink) {\n    const matchingSolutions = this.chatConfig.solutions.filter(\n      solution => solution.deepLink === deepLink\n    );\n    if (matchingSolutions.length > 0) {\n      this.activeSolution = matchingSolutions[0];\n    } else {\n      // fall back to default\n      this.activeSolution = this.chatConfig.activeSolution;\n      const matchingSolutions = this.chatConfig.solutions.filter(\n        solution => solution.id === this.activeSolution\n      );\n      if (matchingSolutions.length > 0) {\n        this.activeSolution = matchingSolutions[0];\n      } else {\n        this.activeSolution = this.chatConfig.solutions[0];\n      }\n    }\n  }\n\n  setupTivaSheetId() {\n    if (this.sheetId) {\n      let targetContext = this.activeSolution.contextParams.find(\n        element => element.name === \"sheetId\"\n      );\n      if (targetContext) {\n        targetContext.values[0].text = this.sheetId;\n      } else {\n        this.activeSolution.contextParams.push({\n          name: \"sheetId\",\n          values: [\n            {\n              text: this.sheetId,\n              active: true\n            }\n          ]\n        });\n      }\n    }\n  }\n\n  setupVuetifyConfig() {\n    return new Vuetify({\n      breakpoint: {\n        thresholds: {\n          xs: 0,\n          sm: 300,\n          md: 480,\n          lg: 1000,\n          xl: 1300\n        }\n      },\n      theme: {\n        dark: false,\n        options: {\n          customProperties: false\n        },\n        themes: {\n          light: this.THEME,\n          dark: {\n            primary: \"#161616\",\n            secondary: \"#0F6695\",\n            accent: \"#00FF00\",\n            error: \"#FF4B4B\",\n            info: \"#1E92D0\",\n            success: \"#335f13\",\n            warning: \"#FDFF00\",\n            anchor: \"#67BAD7\",\n            sendButton: \"#FFFFFF\",\n            focusButton: \"#CEFF00\",\n            textButton: \"#FFFFFF\"\n          }\n        }\n      },\n      directives: {\n        Ripple\n      }\n    });\n  }\n\n  obtainLocation(resolve, vuetify) {\n    let browserIp;\n    let ipUrl = window.leopardConfig.ipUrl ? window.leopardConfig.ipUrl : \"https://ipapi.co/ip/\";\n    logger.debug(`ipUrl`, ipUrl);\n    superagent\n      .get(ipUrl)\n      .then(res => {\n        browserIp = res.text;\n        let geoUrl = window.leopardConfig.geoUrl\n          ? window.leopardConfig.geoUrl\n          : `https://cors-anywhere.herokuapp.com/http://www.geoplugin.net/json.gp?ip=${res.text}`;\n        logger.debug(`geoUrl`, geoUrl);\n        return superagent.get(geoUrl).accept(\"application/json\");\n      })\n      .then(res => {\n        const loc = JSON.parse(res.text);\n        logger.debug(`📍 Obtained New Location Information`, loc);\n        if (window.leopardConfig.geoUrl) {\n          this.LOCATION = {\n            ip: browserIp,\n            city: loc.city,\n            continentCode: loc.continentCode,\n            continentName: loc.continentName,\n            countryCode: loc.countryCode,\n            countryName: loc.countryName,\n            currencySymbol: loc.currencySymbol,\n            currencyCode: loc.currencyCode,\n            latitude: loc.latitude,\n            longitude: loc.longitude,\n            regionCode: loc.regionCode,\n            regionName: loc.regionName\n          };\n        } else {\n          this.LOCATION = {\n            ip: browserIp,\n            city: loc.geoplugin_city,\n            continentCode: loc.geoplugin_continentCode,\n            continentName: loc.geoplugin_continentName,\n            countryCode: loc.geoplugin_countryCode,\n            countryName: loc.geoplugin_countryName,\n            currencySymbol: loc.geoplugin_currencySymbol,\n            currencyCode: loc.geoplugin_currencyCode,\n            latitude: loc.geoplugin_latitude,\n            longitude: loc.geoplugin_longitude,\n            regionCode: loc.geoplugin_regionCode,\n            regionName: loc.geoplugin_regionName\n          };\n        }\n\n        LocalStorage.put(STORAGE_KEY + \"loc\", this.LOCATION); // cache so we don't do this too often\n        resolve(vuetify);\n      })\n      .catch(err => {\n        this.LOCATION = \"\";\n        logger.error(`📍 Unable to obtain location info`, err);\n        resolve(vuetify);\n      });\n  }\n\n  getSolutionConfig() {\n    logger.debug(\"Begin looking for Solution Config \");\n    return new Promise((resolve, reject) => {\n      // Reload config for each load. Maybe there a new deployment change that you want to\n      if (window.leopardConfig.loadFreshConfigForNewSessions) {\n        // localStorage.removeItem(STORAGE_KEY + \"config\");\n        logger.debug(\"Loading fresh solution config\");\n      } else {\n        logger.debug(\"Looking for Solution Config in localStorage first\");\n        let configInLocalStorage = localStorage.getItem(STORAGE_KEY + \"config\");\n        if (configInLocalStorage && configInLocalStorage !== \"null\") {\n          this.chatConfig = JSON.parse(configInLocalStorage);\n          if (this.chatConfig) {\n            logger.debug(\"Found config in localstorage\");\n          }\n        }\n      }\n\n      if (!this.chatConfig || (this.chatConfig && this.chatConfig.solutions.length === 0)) {\n        this._loadDefaultConfig()\n          .then(defaultConfig => {\n            this.chatConfig = defaultConfig;\n            resolve(this.chatConfig);\n          })\n          .catch(message => reject(message));\n      } else {\n        logger.debug(\n          \"Found Solution Config | using existing solutions in local storage | Presales Mode\"\n        );\n        resolve(this.chatConfig);\n      }\n    });\n  }\n\n  _loadDefaultConfig() {\n    return new Promise((resolve, reject) => {\n      if (!window.leopardConfig.mustGetStaticDefaultConfig) {\n        logger.debug(\n          \"Found and loaded build's solution environment config\",\n          window.leopardConfig.solutionConfig.buildConfig\n        );\n        resolve(window.leopardConfig.solutionConfig.buildConfig);\n      } else {\n        // look for default config on the server\n        const defaultConfigUrl = `${location.protocol}//${location.host}${location.pathname}/../static/config.json`;\n        superagent\n          .get(defaultConfigUrl)\n          .accept(\"application/json\")\n          .then(res => {\n            logger.debug(\"Found and loaded Solution Config from /static/config.json\");\n            let defaultConfig = res.body;\n            if (defaultConfig) {\n              localStorage.setItem(STORAGE_KEY + \"config\", JSON.stringify(defaultConfig));\n              resolve(defaultConfig);\n            } else {\n              reject(\"Could not load config.json from /static/config.json\");\n            }\n          })\n          .catch(function (error) {\n            reject(\"Could not load config.json from /static/config.json: \" + error.message);\n          });\n      }\n    });\n  }\n\n  setupLiveChat(store) {\n    this.liveChat = new LiveChat(\n      store,\n      !this.USE_SESSION_STORAGE,\n      STORAGE_KEY,\n      this.TENEO_CHAT_HISTORY\n    );\n  }\n\n  getMergedAsrCorrections(leopardDefaultCorrections) {\n    let finalCorrections = leopardDefaultCorrections;\n    if (this.activeSolution && \"asrCorrections\" in this.activeSolution) {\n      let solutionResplacements = [];\n      let lines = this.activeSolution.asrCorrections.split(/\\r?\\n/);\n      lines.forEach(replacement => {\n        if (replacement.trim() !== \"\") {\n          let thisThatArray = replacement.split(/\\|/);\n          if (thisThatArray.length === 2) {\n            thisThatArray[0] = thisThatArray[0].trim();\n            thisThatArray[1] = thisThatArray[1].trim();\n            solutionResplacements.push(thisThatArray);\n          }\n        }\n      });\n      finalCorrections = leopardDefaultCorrections.concat(solutionResplacements);\n    }\n    return finalCorrections;\n  }\n\n  getLocator() {\n    const LOCATION_OPTIONS = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 60000\n    };\n    let locator = new PromisedLocation(LOCATION_OPTIONS);\n    return locator;\n  }\n\n  isPusherEnabled() {\n    return false;\n  }\n\n  addIframeHtml() {\n    let iframeHtml = `<iframe id=\"site-frame\" sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms\" src=\"\" frameborder=\"0\" title=\"Demonstration Page\"></iframe>`;\n    document.body.innerHTML += iframeHtml;\n  }\n\n  getFunctionHTMLTemplate(f) {\n    return f\n      .toString()\n      .replace(/^[^/]+\\/\\*!?/, \"\")\n      .replace(/\\*\\/[^/]+$/, \"\");\n  }\n\n  setupGeoCapture(resolve, vuetify) {\n    if (window.leopardConfig.mustSendLocationAtLogin) {\n      LocalStorage.keyExists(STORAGE_KEY + \"loc\").then(exists => {\n        if (exists) {\n          LocalStorage.get(STORAGE_KEY + \"loc\").then(data => {\n            superagent\n              .get(window.leopardConfig.ipUrl ? window.leopardConfig.ipUrl : \"https://ipapi.co/ip/\")\n              .then(res => {\n                if (res.text === data.ip) {\n                  logger.debug(`📍 Found Location Info in LocalStorage. IP hasn't changed`, data);\n                  this.LOCATION = data;\n                  resolve(vuetify);\n                } else {\n                  this.obtainLocation(resolve, vuetify);\n                }\n              });\n          });\n        } else {\n          this.obtainLocation(resolve, vuetify);\n        }\n      });\n    }\n  }\n\n  setupThirdPartyLogging() {\n    setTimeout(() => {\n      if (logRocket && sentry) {\n        logRocket.getSessionURL(sessionURL => {\n          sentry.configureScope(scope => {\n            scope.setExtra(\"teneoSolutionURL\", createSharableLink(this.activeSolution));\n            scope.setExtra(\"sessionURL\", sessionURL);\n          });\n        });\n      }\n    }, 2000);\n  }\n\n  setupPusher() {\n    // if (this.isPusherEnabled()) {\n    //   Vue.use(require(\"vue-pusher\"), {\n    //     api_key: window.leopardConfig.pusherKey,\n    //     options: {\n    //       cluster: \"us2\",\n    //       encrypted: true,\n    //       forceTLS: true\n    //     }\n    //   });\n    // }\n  }\n}\n","'use strict';\n\nvar JSON3 = require('json3');\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\n// eslint-disable-next-line no-control-regex\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON3.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n","export const TRANSLATIONS = {\n  en: {\n    \"about.page.button\": \"Learn more\",\n    \"about.page.content\":\n      \"Teneo allows your customers to speak to applications, devices and web services in a natural, human-like and intelligent way\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"Say something...\",\n    listening: \"Listening...\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  it: {\n    \"about.page.button\": \"Scopri di più\",\n    \"about.page.content\":\n      \"Teneo permette ai tuoi clienti di parlare con applicazioni, dispositivi e web service in modo naturale ed intelligente\",\n    \"about.page.title\": \"Teneo di Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"torna alla chat\",\n    \"empty.user.input\": \"Sembra che tu non abbia detto nulla\",\n    \"help.page.title\": \"Queste sono alcune cose che mi si possono chiedere\",\n    \"input.box.label\": \"Dici qualcosa...\",\n    listening: \"Ascoltando...\",\n    \"menu.about\": \"Su di noi\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Configurazione\",\n    \"menu.help\": \"Aiuto\",\n    \"menu.history\": \"Storico\",\n    \"menu.register\": \"Registrati\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"dettagli\",\n    \"more.info.title\": \"Più informazioni\",\n    \"no.chat.history.body\": \"Domandami qualcosa per iniziare\",\n    \"no.chat.history.title\": \"Nessuno storico della chat\",\n    \"input.box.label.password\": \"Introduci password\",\n    \"input.box.label.email\": \"Introduci email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Immagine\",\n    \"button.table\": \"Tabella Risultati\",\n    \"button.page\": \"Pagina\",\n    \"button.more\": \"Continua\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Mappa\"\n  },\n  fr: {\n    \"about.page.button\": \"Apprendre encore plus\",\n    \"about.page.content\":\n      \"Teneo permet à vos clients de parler des applications, des appareils et des services Web de manière naturelle, humaine et intelligente\",\n    \"about.page.title\": \"Teneo par des Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"retour au chat\",\n    \"empty.user.input\": \"Tu ne m'as rien dit\",\n    \"help.page.title\": \"Voici quelques choses que vous pouvez me demander\",\n    \"input.box.label\": \"Dis quelquechose...\",\n    listening: \"j'écoute\",\n    \"menu.about\": \"À propos de nous\",\n    \"menu.chat\": \"Parler\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Aidez-moi\",\n    \"menu.history\": \"Histoire\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"plus\",\n    \"more.info.title\": \"Plus d'information\",\n    \"no.chat.history.body\": \"Posez-moi quelques questions pour faire avancer les choses..\",\n    \"no.chat.history.title\": \"Aucun historique de discussion\",\n    \"input.box.label.password\": \"Entrer le mot de passe\",\n    \"input.box.label.email\": \"Entrez email @\",\n    \"button.video\": \"Vidéo\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Tableau de résultats\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"Plus\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  de: {\n    \"about.page.button\": \"Erfahren Sie mehr\",\n    \"about.page.content\":\n      \"Mit Teneo können Ihre Kunden auf natürliche, menschenähnliche und intelligente Weise mit Anwendungen, Geräten und Webdiensten sprechen\",\n    \"about.page.title\": \"Teneo von Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/de/\",\n    \"back.to.chat.button\": \"zurück zum Chat\",\n    \"empty.user.input\": \"Sieht aus, als hättest du mir nichts gesagt\",\n    \"help.page.title\": \"Hier sind einige Dinge, die Sie mich fragen können\",\n    \"input.box.label\": \"Sag etwas...\",\n    listening: \"Zuhören...\",\n    \"menu.about\": \"Über\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Hilfe\",\n    \"menu.history\": \"Verlauf\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mehr\",\n    \"more.info.title\": \"Weitere Informationen\",\n    \"no.chat.history.body\": \"Stellen Sie mir ein paar Fragen, um die Dinge ins Rollen zu bringen\",\n    \"no.chat.history.title\": \"Kein Chatverlauf\",\n    \"input.box.label.password\": \"Passwort eingeben\",\n    \"input.box.label.email\": \"Email eingeben @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bild\",\n    \"button.table\": \"Ergebnistabelle\",\n    \"button.page\": \"Seite\",\n    \"button.more\": \"Mehr\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  nl: {\n    \"about.page.button\": \"Meer informatie\",\n    \"about.page.content\":\n      \"Met Teneo kunnen uw klanten op een natuurlijke, mensachtige en intelligente manier met applicaties, apparaten en webservices spreken\",\n    \"about.page.title\": \"Teneo van Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/nl/\",\n    \"back.to.chat.button\": \"terug naar chat\",\n    \"empty.user.input\": \"Het lijkt erop dat je niets tegen me zei\",\n    \"help.page.title\": \"Hier zijn enkele dingen die u mij kunt vragen\",\n    \"input.box.label\": \"Zeg iets...\",\n    listening: \"Luisteren\",\n    \"menu.about\": \"Over\",\n    \"menu.chat\": \"Babbelen\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"Geschiedenis\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"meer\",\n    \"more.info.title\": \"Meer informatie\",\n    \"no.chat.history.body\": \"Stel me een paar vragen om dingen aan het rollen te krijgen\",\n    \"no.chat.history.title\": \"Geen chatgeschiedenis\",\n    \"input.box.label.password\": \"Voer wachtwoord in\",\n    \"input.box.label.email\": \"Voer email in @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Beeld\",\n    \"button.table\": \"Tabel met resultaten\",\n    \"button.page\": \"Pagina\",\n    \"button.more\": \"Meer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  es: {\n    \"about.page.button\": \"Aprende más\",\n    \"about.page.content\":\n      \"Teneo les permite a sus clientes hablar con aplicaciones, dispositivos y servicios web de forma natural, humana e inteligente\",\n    \"about.page.title\": \"Teneo por Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/es/\",\n    \"back.to.chat.button\": \"volver al chat\",\n    \"empty.user.input\": \"Parece que no me dijiste nada\",\n    \"help.page.title\": \"Aquí hay algunas cosas que puedes preguntarme\",\n    \"input.box.label\": \"Di algo...\",\n    listening: \"Escuchando...\",\n    \"menu.about\": \"Acerca de\",\n    \"menu.chat\": \"Charla\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Ayuda\",\n    \"menu.history\": \"Historia\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Más\",\n    \"more.info.title\": \"Más información\",\n    \"no.chat.history.body\": \"Hazme algunas preguntas para que las cosas funcionen\",\n    \"no.chat.history.title\": \"Sin historial de chat\",\n    \"input.box.label.password\": \"Introducir la contraseña\",\n    \"input.box.label.email\": \"Ingrese correo electrónico @\",\n    \"button.video\": \"Vídeo\",\n    \"button.image\": \"Imagen\",\n    \"button.table\": \"Tabla de resultados\",\n    \"button.page\": \"Página\",\n    \"button.more\": \"Más\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  ru: {\n    \"about.page.button\": \"Учить больше\",\n    \"about.page.content\":\n      \"Teneo позволяет вашим клиентам общаться с приложениями, устройствами и веб-сервисами естественным, удобным и интеллектуальным способом\",\n    \"about.page.title\": \"Teneo от Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"вернуться в чат\",\n    \"empty.user.input\": \"Похоже, ты ничего не сказал мне\",\n    \"help.page.title\": \"Вот некоторые вещи, которые вы можете спросить у меня\",\n    \"input.box.label\": \"Скажите что-то...\",\n    listening: \"Прослушивание ...\",\n    \"menu.about\": \"Около\",\n    \"menu.chat\": \"чат\",\n    \"menu.config\": \"конфиг\",\n    \"menu.help\": \"Помогите\",\n    \"menu.history\": \"история\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Больше\",\n    \"more.info.title\": \"Дополнительная информация\",\n    \"no.chat.history.body\": \"Задайте мне несколько вопросов, чтобы заставить вещи катиться ..\",\n    \"no.chat.history.title\": \"Нет истории чата\",\n    \"input.box.label.password\": \"Введите пароль\",\n    \"input.box.label.email\": \"Введите адрес электронной почты @\",\n    \"button.video\": \"видео\",\n    \"button.image\": \"Образ\",\n    \"button.table\": \"Таблица результатов\",\n    \"button.page\": \"страница\",\n    \"button.more\": \"Больше\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  sv: {\n    \"about.page.button\": \"Läs mer\",\n    \"about.page.content\":\n      \"Teneo tillåter dina kunder att prata med applikationer, enheter och webbtjänster på ett naturligt, mänskligt och intelligent sätt\",\n    \"about.page.title\": \"Teneo av Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tillbaka till chatt\",\n    \"empty.user.input\": \"Det verkar som om du inte sa någonting till mig\",\n    \"help.page.title\": \"Här är några saker du kan fråga mig\",\n    \"input.box.label\": \"Säg något...\",\n    listening: \"Lyssnande...\",\n    \"menu.about\": \"Handla om\",\n    \"menu.chat\": \"Chatt\",\n    \"menu.config\": \"config\",\n    \"menu.help\": \"Hjälp\",\n    \"menu.history\": \"Historia\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"Mer\",\n    \"more.info.title\": \"Mer information\",\n    \"no.chat.history.body\": \"Fråga mig några frågor för att få saker att rulla..\",\n    \"no.chat.history.title\": \"Ingen chatthistorik\",\n    \"input.box.label.password\": \"Skriv in lösenord\",\n    \"input.box.label.email\": \"Skriv in e-mail @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bild\",\n    \"button.table\": \"Resultat tabell\",\n    \"button.page\": \"Sida\",\n    \"button.more\": \"Mer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  no: {\n    \"about.page.button\": \"Lære mer\",\n    \"about.page.content\":\n      \"Teneo gjør at kundene dine kan snakke med applikasjoner, enheter og webtjenester på en naturlig, menneskelig og intelligent måte\",\n    \"about.page.title\": \"Teneo av Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tilbake til chat\",\n    \"empty.user.input\": \"Ser ut som om du ikke sa noe til meg\",\n    \"help.page.title\": \"Her er noen ting du kan spørre meg om\",\n    \"input.box.label\": \"Si noe...\",\n    listening: \"lytte...\",\n    \"menu.about\": \"Handle om\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Konfigurasjon\",\n    \"menu.help\": \"Hjelp\",\n    \"menu.history\": \"Historie\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mer\",\n    \"more.info.title\": \"Mer informasjon\",\n    \"no.chat.history.body\": \"Spør meg noen spørsmål for å få ting å rulle..\",\n    \"no.chat.history.title\": \"Ingen chattehistorikk\",\n    \"input.box.label.password\": \"Oppgi passord\",\n    \"input.box.label.email\": \"Skriv inn e-post @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Bilde\",\n    \"button.table\": \"Resultater Tabell\",\n    \"button.page\": \"Side\",\n    \"button.more\": \"Mer\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  da: {\n    \"about.page.button\": \"Lær mere\",\n    \"about.page.content\":\n      \"Teneo giver dine kunder mulighed for at tale med applikationer, enheder og webtjenester på en naturlig, menneskelig og intelligent måde\",\n    \"about.page.title\": \"Teneo af Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"tilbage til chat\",\n    \"empty.user.input\": \"Det ser ud som om du ikke sagde noget til mig\",\n    \"help.page.title\": \"Her er nogle ting, du kan spørge mig om\",\n    \"input.box.label\": \"Sig noget...\",\n    listening: \"Hører efter...\",\n    \"menu.about\": \"Om\",\n    \"menu.chat\": \"Snak\",\n    \"menu.config\": \"Konfiguration\",\n    \"menu.help\": \"Hjælp\",\n    \"menu.history\": \"Historie\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"mere\",\n    \"more.info.title\": \"Mere information\",\n    \"no.chat.history.body\": \"Spørg mig et par spørgsmål for at få tingene i gang..\",\n    \"no.chat.history.title\": \"Ingen chathistorik\",\n    \"input.box.label.password\": \"Indtast adgangskode\",\n    \"input.box.label.email\": \"Indtast e-mail @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Billede\",\n    \"button.table\": \"Resultatabel\",\n    \"button.page\": \"Side\",\n    \"button.more\": \"Mere\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  jp: {\n    \"about.page.button\": \"詳しく\",\n    \"about.page.content\":\n      \"Teneoを使用すると、顧客は自然で人間的でインテリジェントな方法でアプリケーション、デバイス、およびWebサービスと対話できます。\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"何か書いて\",\n    listening: \"リッスンしています\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  cn: {\n    \"about.page.button\": \"学到更多\",\n    \"about.page.content\":\n      \"Teneo允许您的客户以自然，类似人类和智能的方式与应用程序，设备和Web服务进行通信\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"说些什么\",\n    listening: \"现在听\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  \"cn(hk)\": {\n    \"about.page.button\": \"學到更多\",\n    \"about.page.content\":\n      \"Teneo允許您的客戶以自然，類似人類和智能的方式與應用程序，設備和Web服務進行通信\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"說些什麼\",\n    listening: \"現在聽\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  },\n  id: {\n    \"about.page.button\": \"Belajarlah lagi\",\n    \"about.page.content\":\n      \"Teneo memungkinkan pelanggan Anda untuk berbicara dengan aplikasi, perangkat, dan layanan web dengan cara yang alami, seperti manusia, dan cerdas\",\n    \"about.page.title\": \"Teneo by Artificial Solutions\",\n    \"about.page.url\": \"https://www.artificial-solutions.com/\",\n    \"back.to.chat.button\": \"back to chat\",\n    \"empty.user.input\": \"Looks like you didn't say anything to me\",\n    \"help.page.title\": \"Here are some things that you can ask me\",\n    \"input.box.label\": \"Mengatakan sesuatu...\",\n    listening: \"Mendengarkan...\",\n    \"menu.about\": \"About\",\n    \"menu.chat\": \"Chat\",\n    \"menu.config\": \"Config\",\n    \"menu.help\": \"Help\",\n    \"menu.history\": \"History\",\n    \"menu.register\": \"Register\",\n    \"menu.login\": \"Login\",\n    \"menu.logout\": \"Logout\",\n    \"more.button\": \"more\",\n    \"more.info.title\": \"More Information\",\n    \"no.chat.history.body\": \"Ask me a few questions to get things rolling..\",\n    \"no.chat.history.title\": \"No Chat History\",\n    \"input.box.label.password\": \"Enter password\",\n    \"input.box.label.email\": \"Enter email @\",\n    \"button.video\": \"Video\",\n    \"button.image\": \"Image\",\n    \"button.table\": \"Results Table\",\n    \"button.page\": \"Page\",\n    \"button.more\": \"More\",\n    \"button.pdf\": \"PDF\",\n    \"button.map\": \"Map\"\n  }\n};\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON3.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","var md5 = require('blueimp-md5'),\n    querystring = require('querystring'),\n    MD5_REGEX = /^[0-9a-f]{32}$/;\n\nfunction params(options) {\n  var params = {}, removing = {protocol:1, format:1};\n  for (var key in options) {\n    if (!removing[key]) params[key] = options[key];\n  }\n  return params;\n}\nfunction proto(options, protocol) {\n  if (!options) return;\n  if(typeof options.protocol === 'boolean') return options.protocol;\n  return options.protocol === \"http\" ? false\n       : options.protocol === \"https\" ? true\n       : undefined;\n}\nfunction getHash(email){\n  email = (typeof email === 'string') ? email.trim().toLowerCase() : 'unspecified';\n  return email.match(MD5_REGEX) ? email : md5(email);\n}\n\nfunction getQueryString(options){\n  var queryData = querystring.stringify(params(options));\n  return (queryData && \"?\" + queryData) || \"\";\n}\n\nvar gravatar = module.exports = {\n\n    url: function (email, options, protocol) {\n      var baseURL = \"//www.gravatar.com/avatar/\";\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/avatar/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) protocol = proto(options);\n        if(typeof protocol !== 'undefined') {\n          baseURL = protocol ? \"https://s.gravatar.com/avatar/\" : 'http://www.gravatar.com/avatar/';\n        }\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + query;\n    },\n\n    profile_url: function (email, options, https) {\n      var format = options != undefined && options.format != undefined ?  String(options.format) : 'json'\n      var baseURL\n      if (options && options.cdn) {\n        baseURL = options.cdn + '/';\n        delete options.cdn;\n      } else {\n        if (options && options.protocol) https = proto(options);\n        var baseURL = (https && \"https://secure.gravatar.com/\") || 'http://www.gravatar.com/';\n      }\n      var query = getQueryString(options);\n      return baseURL + getHash(email) + '.' + format + query;\n    }\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","import { ColorInt, XYZ } from '../colorUtils'\nimport { clamp } from '../../util/helpers'\n\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]\n\n// Forward gamma adjust\nconst srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)\n\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]\n\n// Reverse gamma adjust\nconst srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)\n\nexport function fromXYZ (xyz: XYZ): ColorInt {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n\n  // Rescale back to [0, 255]\n  return (rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] << 0)\n}\n\nexport function toXYZ (rgb: ColorInt): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  const r = transform((rgb >> 16 & 0xff) / 255)\n  const g = transform((rgb >> 8 & 0xff) / 255)\n  const b = transform((rgb >> 0 & 0xff) / 255)\n\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n\n  return xyz\n}\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0, // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i,\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root.Object());\n    exports || (exports = root.Object());\n\n    // Native constructor aliases.\n    var Number = context.Number || root.Number,\n        String = context.String || root.String,\n        Object = context.Object || root.Object,\n        Date = context.Date || root.Date,\n        SyntaxError = context.SyntaxError || root.SyntaxError,\n        TypeError = context.TypeError || root.TypeError,\n        Math = context.Math || root.Math,\n        nativeJSON = context.JSON || root.JSON;\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty = objectProto.hasOwnProperty,\n        undefined;\n\n    // Internal: Contains `try...catch` logic used by other functions.\n    // This prevents other functions from being deoptimized.\n    function attempt(func, errorFunc) {\n      try {\n        func();\n      } catch (exception) {\n        if (errorFunc) {\n          errorFunc();\n        }\n      }\n    }\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    attempt(function () {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    });\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] != null) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"date-serialization\") && has(\"json-parse\");\n      } else if (name == \"date-serialization\") {\n        // Indicates whether `Date`s can be serialized accurately by `JSON.stringify`.\n        isSupported = has(\"json-stringify\") && isExtended;\n        if (isSupported) {\n          var stringify = exports.stringify;\n          attempt(function () {\n            isSupported =\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          });\n        }\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\";\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            attempt(function () {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undefined &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undefined) === undefined &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undefined &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undefined]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undefined, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\";\n            }, function () {\n              stringifySupported = false;\n            });\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse, parseSupported;\n          if (typeof parse == \"function\") {\n            attempt(function () {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  attempt(function () {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  });\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    });\n                  }\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    });\n                  }\n                }\n              }\n            }, function () {\n              parseSupported = false;\n            });\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n    has[\"bug-string-char-index\"] = has[\"date-serialization\"] = has[\"json\"] = has[\"json-stringify\"] = has[\"json-parse\"] = null;\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      var forOwn = function (object, callback) {\n        var size = 0, Properties, dontEnums, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        dontEnums = new Properties();\n        for (property in dontEnums) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(dontEnums, property)) {\n            size++;\n          }\n        }\n        Properties = dontEnums = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          dontEnums = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = dontEnums.length; property = dontEnums[--length];) {\n              if (hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forOwn(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\") && !has(\"date-serialization\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Serializes a date object.\n        var serializeDate = function (value) {\n          var getData, year, month, date, time, hours, minutes, seconds, milliseconds;\n          // Define additional utility methods if the `Date` methods are buggy.\n          if (!isExtended) {\n            var floor = Math.floor;\n            // A mapping between the months of the year and the number of days between\n            // January 1st and the first of the respective month.\n            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n            // Internal: Calculates the number of days between the Unix epoch and the\n            // first day of the given month.\n            var getDay = function (year, month) {\n              return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n            };\n            getData = function (value) {\n              // Manually compute the year, month, date, hours, minutes,\n              // seconds, and milliseconds if the `getUTC*` methods are\n              // buggy. Adapted from @Yaffle's `date-shim` project.\n              date = floor(value / 864e5);\n              for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n              for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n              date = 1 + date - getDay(year, month);\n              // The `time` value specifies the time within the day (see ES\n              // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n              // to compute `A modulo B`, as the `%` operator does not\n              // correspond to the `modulo` operation for negative numbers.\n              time = (value % 864e5 + 864e5) % 864e5;\n              // The hours, minutes, seconds, and milliseconds are obtained by\n              // decomposing the time within the day. See section 15.9.1.10.\n              hours = floor(time / 36e5) % 24;\n              minutes = floor(time / 6e4) % 60;\n              seconds = floor(time / 1e3) % 60;\n              milliseconds = time % 1e3;\n            };\n          } else {\n            getData = function (value) {\n              year = value.getUTCFullYear();\n              month = value.getUTCMonth();\n              date = value.getUTCDate();\n              hours = value.getUTCHours();\n              minutes = value.getUTCMinutes();\n              seconds = value.getUTCSeconds();\n              milliseconds = value.getUTCMilliseconds();\n            };\n          }\n          serializeDate = function (value) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              getData(value);\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n              \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n              // Months, dates, hours, minutes, and seconds should have two\n              // digits; milliseconds should have three.\n              \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n              // Milliseconds are optional in ES 5.0, but required in 5.1.\n              \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              year = month = date = hours = minutes = seconds = milliseconds = null;\n            } else {\n              value = null;\n            }\n            return value;\n          };\n          return serializeDate(value);\n        };\n\n        // For environments with `JSON.stringify` but buggy date serialization,\n        // we override the native `Date#toJSON` implementation with a\n        // spec-compliant one.\n        if (has(\"json-stringify\") && !has(\"date-serialization\")) {\n          // Internal: the `Date#toJSON` implementation used to override the native one.\n          function dateToJSON (key) {\n            return serializeDate(this);\n          }\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          var nativeStringify = exports.stringify;\n          exports.stringify = function (source, filter, width) {\n            var nativeToJSON = Date.prototype.toJSON;\n            Date.prototype.toJSON = dateToJSON;\n            var result = nativeStringify(source, filter, width);\n            Date.prototype.toJSON = nativeToJSON;\n            return result;\n          }\n        } else {\n          // Internal: Double-quotes a string `value`, replacing all ASCII control\n          // characters (characters with code unit values between 0 and 31) with\n          // their escaped equivalents. This is an implementation of the\n          // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n          var unicodePrefix = \"\\\\u00\";\n          var escapeChar = function (character) {\n            var charCode = character.charCodeAt(0), escaped = Escapes[charCode];\n            if (escaped) {\n              return escaped;\n            }\n            return unicodePrefix + toPaddedString(2, charCode.toString(16));\n          };\n          var reEscape = /[\\x00-\\x1f\\x22\\x5c]/g;\n          var quote = function (value) {\n            reEscape.lastIndex = 0;\n            return '\"' +\n              (\n                reEscape.test(value)\n                  ? value.replace(reEscape, escapeChar)\n                  : value\n              ) +\n              '\"';\n          };\n\n          // Internal: Recursively serializes an object. Implements the\n          // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n          var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n            var value, type, className, results, element, index, length, prefix, result;\n            attempt(function () {\n              // Necessary for host object support.\n              value = object[property];\n            });\n            if (typeof value == \"object\" && value) {\n              if (value.getUTCFullYear && getClass.call(value) == dateClass && value.toJSON === Date.prototype.toJSON) {\n                value = serializeDate(value);\n              } else if (typeof value.toJSON == \"function\") {\n                value = value.toJSON(property);\n              }\n            }\n            if (callback) {\n              // If a replacement function was provided, call it to obtain the value\n              // for serialization.\n              value = callback.call(object, property, value);\n            }\n            // Exit early if value is `undefined` or `null`.\n            if (value == undefined) {\n              return value === undefined ? value : \"null\";\n            }\n            type = typeof value;\n            // Only call `getClass` if the value is an object.\n            if (type == \"object\") {\n              className = getClass.call(value);\n            }\n            switch (className || type) {\n              case \"boolean\":\n              case booleanClass:\n                // Booleans are represented literally.\n                return \"\" + value;\n              case \"number\":\n              case numberClass:\n                // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n                // `\"null\"`.\n                return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n              case \"string\":\n              case stringClass:\n                // Strings are double-quoted and escaped.\n                return quote(\"\" + value);\n            }\n            // Recursively serialize objects and arrays.\n            if (typeof value == \"object\") {\n              // Check for cyclic structures. This is a linear search; performance\n              // is inversely proportional to the number of unique nested objects.\n              for (length = stack.length; length--;) {\n                if (stack[length] === value) {\n                  // Cyclic structures cannot be serialized by `JSON.stringify`.\n                  throw TypeError();\n                }\n              }\n              // Add the object to the stack of traversed objects.\n              stack.push(value);\n              results = [];\n              // Save the current indentation level and indent one additional level.\n              prefix = indentation;\n              indentation += whitespace;\n              if (className == arrayClass) {\n                // Recursively serialize array elements.\n                for (index = 0, length = value.length; index < length; index++) {\n                  element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                  results.push(element === undefined ? \"null\" : element);\n                }\n                result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n              } else {\n                // Recursively serialize object members. Members are selected from\n                // either a user-specified list of property names, or the object\n                // itself.\n                forOwn(properties || value, function (property) {\n                  var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                  if (element !== undefined) {\n                    // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                    // is not the empty string, let `member` {quote(property) + \":\"}\n                    // be the concatenation of `member` and the `space` character.\"\n                    // The \"`space` character\" refers to the literal space\n                    // character, not the `space` {width} argument provided to\n                    // `JSON.stringify`.\n                    results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                  }\n                });\n                result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n              }\n              // Remove the object from the traversed object stack.\n              stack.pop();\n              return result;\n            }\n          };\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          exports.stringify = function (source, filter, width) {\n            var whitespace, callback, properties, className;\n            if (objectTypes[typeof filter] && filter) {\n              className = getClass.call(filter);\n              if (className == functionClass) {\n                callback = filter;\n              } else if (className == arrayClass) {\n                // Convert the property names array into a makeshift set.\n                properties = {};\n                for (var index = 0, length = filter.length, value; index < length;) {\n                  value = filter[index++];\n                  className = getClass.call(value);\n                  if (className == \"[object String]\" || className == \"[object Number]\") {\n                    properties[value] = 1;\n                  }\n                }\n              }\n            }\n            if (width) {\n              className = getClass.call(width);\n              if (className == numberClass) {\n                // Convert the `width` to an integer and create a string containing\n                // `width` number of space characters.\n                if ((width -= width % 1) > 0) {\n                  if (width > 10) {\n                    width = 10;\n                  }\n                  for (whitespace = \"\"; whitespace.length < width;) {\n                    whitespace += \" \";\n                  }\n                }\n              } else if (className == stringClass) {\n                whitespace = width.length <= 10 ? width : width.slice(0, 10);\n              }\n            }\n            // Opera <= 7.54u2 discards the values associated with empty string keys\n            // (`\"\"`) only if they are used directly within an object member list\n            // (e.g., `!(\"\" in { \"\": 1})`).\n            return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n          };\n        }\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                var temp = source.slice(Index, Index + 4);\n                if (temp == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (temp == \"fals\" && source.charCodeAt(Index + 4 ) == 101) {\n                  Index += 5;\n                  return false;\n                } else if (temp == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;;) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;;) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undefined) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forOwn` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(getClass, forOwn, value, length, callback);\n              }\n            } else {\n              forOwn(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports.runInContext = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root.JSON3,\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root.JSON3 = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root.JSON3 = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n","var index = (function (fn) {\n\treturn new Promise(function (resolve) {\n\t\tresolve(fn());\n\t});\n});\n\nexport default index;\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n","'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , JSON3 = require('json3')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON3.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON3.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON3.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON3.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n","'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , JSON3 = require('json3')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON3.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON3.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n","'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http:'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","const isUndefined = e => typeof e === \"undefined\";\n\nconst enableDrag = function() {\n  // make vuetify dialogs movable\n  const d = {};\n  document.addEventListener(\"mousedown\", e => {\n    const closestDialog = e.target.closest(\n      \".v-dialog.v-dialog--active, .v-application.application-float\"\n    );\n    if (\n      (e.button === 0 &&\n        closestDialog &&\n        (e.target.classList.contains(\"v-system-bar\") ||\n          e.target.classList.contains(\"teneo-systembar-spacer\")) &&\n        !e.target.classList.contains(\"leopard-system-bar\")) ||\n      e.target.classList.contains(\"v-toolbar__content\")\n    ) {\n      // element which can be used to move element\n      d.el = closestDialog; // element which should be moved\n      d.what = e.target.classList.contains(\"v-toolbar__content\") ? \"chat-window\" : \"dialog\";\n      d.mouseStartX = e.clientX;\n      d.mouseStartY = e.clientY;\n      d.elStartX = d.el.getBoundingClientRect().left;\n      d.elStartY = d.el.getBoundingClientRect().top;\n      if (d.what === \"dialog\") {\n        d.el.style.left =\n          Math.min(\n            Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\n            window.innerWidth - d.el.getBoundingClientRect().width\n          ) + \"px\";\n\n        d.el.style.top =\n          Math.min(\n            Math.max(d.elStartY + e.clientY - d.mouseStartY, 0),\n            window.innerHeight - d.el.getBoundingClientRect().height\n          ) + \"px\";\n        d.el.style.margin = 0;\n      }\n      d.el.style.position = \"fixed\";\n      d.oldTransition = d.el.style.transition;\n      d.el.style.transition = \"none\";\n    }\n  });\n  document.addEventListener(\"mousemove\", e => {\n    if (!d.el) return;\n    if (d.what === \"chat-window\") {\n      const teneo = document.querySelector(\"#teneo\");\n      if (!teneo) return;\n      d.el.style.left =\n        Math.min(\n          Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\n          window.innerWidth - teneo.getBoundingClientRect().width\n        ) + \"px\";\n    } else {\n      d.el.style.left =\n        Math.min(\n          Math.max(d.elStartX + e.clientX - d.mouseStartX, 0),\n          window.innerWidth - d.el.getBoundingClientRect().width\n        ) + \"px\";\n    }\n\n    d.el.style.top =\n      Math.min(\n        Math.max(d.elStartY + e.clientY - d.mouseStartY, 0),\n        window.innerHeight - d.el.getBoundingClientRect().height\n      ) + \"px\";\n    d.el.style.margin = 0;\n  });\n  document.addEventListener(\"mouseup\", () => {\n    if (isUndefined(d.el)) return;\n    d.el.style.transition = d.oldTransition;\n    d.el = undefined;\n  });\n  setInterval(() => {\n    // prevent out of bounds\n    const dialog = document.querySelector(\".v-dialog.v-dialog--active\");\n    if (!dialog) return;\n    dialog.style.left =\n      Math.min(\n        parseInt(dialog.style.left),\n        window.innerWidth - dialog.getBoundingClientRect().width\n      ) + \"px\";\n    dialog.style.top =\n      Math.min(\n        parseInt(dialog.style.top),\n        window.innerHeight - dialog.getBoundingClientRect().height\n      ) + \"px\";\n  }, 1000);\n\n  setInterval(() => {\n    // prevent out of bounds\n    const dialog = document.querySelector(\".v-application.application-float\");\n    const teneo = document.querySelector(\"#teneo\");\n    if (!dialog || !teneo) return;\n    // console.log(\"setInternal application app\");\n    dialog.style.left =\n      Math.min(\n        parseInt(dialog.style.left),\n        window.innerWidth - teneo.getBoundingClientRect().width\n      ) + \"px\";\n    dialog.style.top =\n      Math.min(\n        parseInt(dialog.style.top),\n        window.innerHeight - teneo.getBoundingClientRect().height\n      ) + \"px\";\n  }, 1000);\n};\n\nmodule.exports = enableDrag;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // treat this as the middle of the word\n        canOpen = false;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","const COLOR_NAMES = {\n  aliceblue: \"#f0f8ff\",\n  antiquewhite: \"#faebd7\",\n  aqua: \"#00ffff\",\n  aquamarine: \"#7fffd4\",\n  azure: \"#f0ffff\",\n  beige: \"#f5f5dc\",\n  bisque: \"#ffe4c4\",\n  black: \"#000000\",\n  blanchedalmond: \"#ffebcd\",\n  blue: \"#0000ff\",\n  blueviolet: \"#8a2be2\",\n  brown: \"#a52a2a\",\n  burlywood: \"#deb887\",\n  cadetblue: \"#5f9ea0\",\n  chartreuse: \"#7fff00\",\n  chocolate: \"#d2691e\",\n  coral: \"#ff7f50\",\n  cornflowerblue: \"#6495ed\",\n  cornsilk: \"#fff8dc\",\n  crimson: \"#dc143c\",\n  cyan: \"#00ffff\",\n  darkblue: \"#00008b\",\n  darkcyan: \"#008b8b\",\n  darkgoldenrod: \"#b8860b\",\n  darkgray: \"#a9a9a9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#a9a9a9\",\n  darkkhaki: \"#bdb76b\",\n  darkmagenta: \"#8b008b\",\n  darkolivegreen: \"#556b2f\",\n  darkorange: \"#ff8c00\",\n  darkorchid: \"#9932cc\",\n  darkred: \"#8b0000\",\n  darksalmon: \"#e9967a\",\n  darkseagreen: \"#8fbc8f\",\n  darkslateblue: \"#483d8b\",\n  darkslategray: \"#2f4f4f\",\n  darkslategrey: \"#2f4f4f\",\n  darkturquoise: \"#00ced1\",\n  darkviolet: \"#9400d3\",\n  deeppink: \"#ff1493\",\n  deepskyblue: \"#00bfff\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1e90ff\",\n  firebrick: \"#b22222\",\n  floralwhite: \"#fffaf0\",\n  forestgreen: \"#228b22\",\n  fuchsia: \"#ff00ff\",\n  gainsboro: \"#dcdcdc\",\n  ghostwhite: \"#f8f8ff\",\n  gold: \"#ffd700\",\n  goldenrod: \"#daa520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#adff2f\",\n  grey: \"#808080\",\n  honeydew: \"#f0fff0\",\n  hotpink: \"#ff69b4\",\n  indianred: \"#cd5c5c\",\n  indigo: \"#4b0082\",\n  ivory: \"#fffff0\",\n  khaki: \"#f0e68c\",\n  lavender: \"#e6e6fa\",\n  lavenderblush: \"#fff0f5\",\n  lawngreen: \"#7cfc00\",\n  lemonchiffon: \"#fffacd\",\n  lightblue: \"#add8e6\",\n  lightcoral: \"#f08080\",\n  lightcyan: \"#e0ffff\",\n  lightgoldenrodyellow: \"#fafad2\",\n  lightgray: \"#d3d3d3\",\n  lightgreen: \"#90ee90\",\n  lightgrey: \"#d3d3d3\",\n  lightpink: \"#ffb6c1\",\n  lightsalmon: \"#ffa07a\",\n  lightseagreen: \"#20b2aa\",\n  lightskyblue: \"#87cefa\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#b0c4de\",\n  lightyellow: \"#ffffe0\",\n  lime: \"#00ff00\",\n  limegreen: \"#32cd32\",\n  linen: \"#faf0e6\",\n  magenta: \"#ff00ff\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66cdaa\",\n  mediumblue: \"#0000cd\",\n  mediumorchid: \"#ba55d3\",\n  mediumpurple: \"#9370db\",\n  mediumseagreen: \"#3cb371\",\n  mediumslateblue: \"#7b68ee\",\n  mediumspringgreen: \"#00fa9a\",\n  mediumturquoise: \"#48d1cc\",\n  mediumvioletred: \"#c71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#f5fffa\",\n  mistyrose: \"#ffe4e1\",\n  moccasin: \"#ffe4b5\",\n  navajowhite: \"#ffdead\",\n  navy: \"#000080\",\n  oldlace: \"#fdf5e6\",\n  olive: \"#808000\",\n  olivedrab: \"#6b8e23\",\n  orange: \"#ffa500\",\n  orangered: \"#ff4500\",\n  orchid: \"#da70d6\",\n  palegoldenrod: \"#eee8aa\",\n  palegreen: \"#98fb98\",\n  paleturquoise: \"#afeeee\",\n  palevioletred: \"#db7093\",\n  papayawhip: \"#ffefd5\",\n  peachpuff: \"#ffdab9\",\n  peru: \"#cd853f\",\n  pink: \"#ffc0cb\",\n  plum: \"#dda0dd\",\n  powderblue: \"#b0e0e6\",\n  purple: \"#800080\",\n  rebeccapurple: \"#663399\",\n  red: \"#ff0000\",\n  rosybrown: \"#bc8f8f\",\n  royalblue: \"#4169e1\",\n  saddlebrown: \"#8b4513\",\n  salmon: \"#fa8072\",\n  sandybrown: \"#f4a460\",\n  seagreen: \"#2e8b57\",\n  seashell: \"#fff5ee\",\n  sienna: \"#a0522d\",\n  silver: \"#c0c0c0\",\n  skyblue: \"#87ceeb\",\n  slateblue: \"#6a5acd\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#fffafa\",\n  springgreen: \"#00ff7f\",\n  steelblue: \"#4682b4\",\n  tan: \"#d2b48c\",\n  teal: \"#008080\",\n  thistle: \"#d8bfd8\",\n  tomato: \"#ff6347\",\n  turquoise: \"#40e0d0\",\n  violet: \"#ee82ee\",\n  wheat: \"#f5deb3\",\n  white: \"#ffffff\",\n  whitesmoke: \"#f5f5f5\",\n  yellow: \"#ffff00\",\n  yellowgreen: \"#9acd32\"\n};\n\nexport default COLOR_NAMES;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,4}[a-zA-Z0-9%/]|' + // github has ... in commit range links,\n                                     // google has .... in links (issue #66)\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths\n          '\\\\!(?!' + re.src_ZCc + '|[!]).|' +\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","'use strict';\n\nvar JSON3 = require('json3')\n  , iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n          // en-dash\n          .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n          .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","function add(first, second) {\n  return first + second;\n}\n\nvar _ref = {},\n    hasOwnProperty = _ref.hasOwnProperty;\nfunction hasOwn(prop, obj) {\n  return hasOwnProperty.call(obj, prop);\n}\n\nfunction assign() {\n  // eslint-disable-next-line no-func-assign\n  assign = Object.assign || function (target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      // false positive\n      // eslint-disable-next-line no-unused-vars\n      for (var key in source) {\n        if (hasOwn(key, source)) {\n          target[key] = source[key];\n        }\n      }\n    });\n    return target;\n  };\n\n  return assign.apply(void 0, arguments);\n}\n\nfunction flatMap(iteratee, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(iteratee));\n}\n\nfunction chain(fn, listOrFn) {\n  if (typeof listOrFn === 'function') {\n    return function (list) {\n      return fn(listOrFn(list))(list);\n    };\n  }\n\n  return flatMap(fn, listOrFn);\n}\n\nvar isArray = Array.isArray;\n\nfunction isObject(obj) {\n  return typeof obj === 'object' && obj !== null && !isArray(obj);\n}\n\nfunction mapValues(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = mapper(obj[key]);\n    return acc;\n  }, {});\n}\n\nfunction cloneDeep(value) {\n  if (isArray(value)) {\n    return value.map(cloneDeep);\n  }\n\n  if (isObject(value)) {\n    return mapValues(cloneDeep, value);\n  }\n\n  return value;\n}\n\n// slightly simplified version of https://github.com/sindresorhus/camelcase/blob/a526ef0399f9a1310eaacafa0ae4a69da4a2f1ad/index.js\n// TODO: possibly could be rewritten using short-ish regexp\nvar preserveCamelCase = function preserveCamelCase(input) {\n  var text = input;\n  var isLastCharLower = false;\n  var isLastCharUpper = false;\n  var isLastLastCharUpper = false;\n\n  for (var index = 0; index < text.length; index++) {\n    var char = text[index];\n\n    if (isLastCharLower && /[a-zA-Z]/.test(char) && char.toUpperCase() === char) {\n      text = text.slice(0, index) + '-' + text.slice(index);\n      isLastCharLower = false;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = true;\n      index++;\n    } else if (isLastCharUpper && isLastLastCharUpper && /[a-zA-Z]/.test(char) && char.toLowerCase() === char) {\n      text = text.slice(0, index - 1) + '-' + text.slice(index - 1);\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = false;\n      isLastCharLower = true;\n    } else {\n      isLastCharLower = char.toLowerCase() === char;\n      isLastLastCharUpper = isLastCharUpper;\n      isLastCharUpper = char.toUpperCase() === char;\n    }\n  }\n\n  return text;\n};\n\nfunction camelCase(input) {\n  var text = input.trim();\n\n  if (text.length === 0) {\n    return '';\n  }\n\n  if (text.length === 1) {\n    return text.toLowerCase();\n  }\n\n  if (/^[a-z\\d]+$/.test(text)) {\n    return text;\n  }\n\n  var hasUpperCase = text !== text.toLowerCase();\n\n  if (hasUpperCase) {\n    text = preserveCamelCase(text);\n  }\n\n  text = text.replace(/^[_.\\- ]+/, '').toLowerCase().replace(/[_.\\- ]+(\\w|$)/g, function (match, p1) {\n    return p1.toUpperCase();\n  });\n  return text;\n}\n\nfunction compact(collection) {\n  return isArray(collection) ? collection.filter(function (value) {\n    return value !== null && value !== undefined;\n  }) : Object.keys(collection).reduce(function (result, key) {\n    var value = collection[key];\n\n    if (value !== null && value !== undefined) {\n      result[key] = value;\n    }\n\n    return result;\n  }, {});\n}\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (composed, next) {\n    return function () {\n      return composed(next.apply(void 0, arguments));\n    };\n  });\n}\n\nfunction debounce(ms, fn) {\n  // actual return type of setTimeout differs per platform (browser vs node)\n  var timeoutId;\n  return function () {\n    clearTimeout(timeoutId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    timeoutId = setTimeout.apply(void 0, [fn, ms].concat(args));\n  };\n}\n\nfunction isNil(value) {\n  return value === null || value === undefined;\n}\n\nfunction defaultTo(defaultValue) {\n  return function (value) {\n    return isNil(value) ? defaultValue : value;\n  };\n}\n\nfunction drop(count, arr) {\n  return arr.slice(count);\n}\n\nfunction dropRight(count, arr) {\n  return arr.slice(0, -count);\n}\n\nfunction ensureArray(maybeArr) {\n  return isArray(maybeArr) ? maybeArr : [maybeArr];\n}\n\nfunction entries(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n}\n\nfunction find(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    var element = arr[index];\n\n    if (predicate(element)) {\n      return element;\n    }\n  }\n}\n\nfunction findIndex(predicate, arr) {\n  for (var index = 0; index < arr.length; index++) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findKey(predicate, obj) {\n  return find(function (key) {\n    return predicate(obj[key]);\n  }, Object.keys(obj));\n}\n\nfunction findLast(predicate, arr) {\n  for (var index = arr.length - 1; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return arr[index];\n    }\n  }\n}\n\nfunction findLastIndexFrom(predicate, startIndex, arr) {\n  for (var index = startIndex; index >= 0; index--) {\n    if (predicate(arr[index])) {\n      return index;\n    }\n  }\n\n  return -1;\n}\n\nfunction findLastIndex(predicate, arr) {\n  return findLastIndexFrom(predicate, arr.length - 1, arr);\n}\n\nfunction filledArray(length, value) {\n  var arr = [];\n\n  while (length--) {\n    arr.push(value);\n  }\n\n  return arr;\n}\n\nfunction identity(value) {\n  return value;\n}\n\nfunction flatten(arr) {\n  return flatMap(identity, arr);\n}\n\nfunction forOwn(callback, obj) {\n  return Object.keys(obj).forEach(function (key) {\n    callback(obj[key], key);\n  });\n}\n\nfunction fromPairs(pairs) {\n  return pairs.reduce(function (obj, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    obj[key] = value;\n    return obj;\n  }, {});\n}\n\nfunction generateRandomId() {\n  return Math.random().toString(36).substring(2);\n}\n\nfunction generateUniqueId(map) {\n  var id = generateRandomId();\n  return hasOwn(id, map) ? generateUniqueId(map) : id;\n}\n\n// based on https://github.com/developit/dlv/blob/d7ec976d12665f1c25dec2acf955dfc2e8757a9c/index.js\nfunction get(propPath, obj) {\n  var arrPath = typeof propPath === 'string' ? propPath.split('.') : propPath;\n  var pathPartIndex = 0;\n  var result = obj;\n\n  while (result && pathPartIndex < arrPath.length) {\n    result = result[arrPath[pathPartIndex++]];\n  }\n\n  return result;\n}\n\nfunction getOr(defaultValue, prop, obj) {\n  var propValue = get(prop, obj);\n  return propValue !== undefined && propValue !== null ? propValue : defaultValue;\n}\n\nfunction groupBy(mapper, collection) {\n  return Object.keys(collection).reduce(function (grouped, key) {\n    var element = collection[key];\n    var groupKey = mapper(element);\n    grouped[groupKey] = grouped[groupKey] || [];\n    grouped[groupKey].push(element);\n    return grouped;\n  }, {});\n}\n\nfunction groupKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (grouped, key) {\n    var groupKey = mapper(key);\n    grouped[groupKey] = grouped[groupKey] || {};\n    grouped[groupKey][key] = obj[key];\n    return grouped;\n  }, {});\n}\n\nfunction includes(value, arrOrStr) {\n  return arrOrStr.indexOf(value) !== -1;\n}\n\nfunction isEmpty(collection) {\n  return (isArray(collection) ? collection : Object.keys(collection)).length === 0;\n}\n\nfunction isFalsy (value) {\n  return !value;\n}\n\nfunction isTruthy (value) {\n  return !!value;\n}\n\nvar isPromise = function isPromise(promise) {\n  return !!promise && typeof promise.then === 'function';\n};\n\nfunction keyBy(prop, arr) {\n  return arr.reduce(function (acc, el) {\n    acc[el[prop]] = el;\n    return acc;\n  }, {});\n}\n\nfunction keys(obj) {\n  var keysArray = []; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  for (var property in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, property)) {\n      keysArray.push(property);\n    }\n  }\n\n  return keysArray;\n}\n\n// TODO: this  should return `T | undefined` to match native behavior\nfunction last(arr) {\n  return arr.length > 0 ? arr[arr.length - 1] : null;\n}\n\nfunction mapKeys(mapper, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[mapper(key)] = obj[key];\n    return acc;\n  }, {});\n}\n\nfunction mapValuesIndexed(iteratee, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[key] = iteratee(obj[key], key);\n    return acc;\n  }, {});\n}\n\nfunction merge(objA, objB) {\n  if (isEmpty(objB)) {\n    return objA;\n  }\n\n  var result = {};\n  forOwn(function (value, key) {\n    if (hasOwn(key, objB)) {\n      if (isObject(objA[key]) && isObject(objB[key])) {\n        result[key] = merge(objA[key], objB[key]);\n      } else if (isArray(objA[key]) && isArray(objB[key])) {\n        var length = Math.max(objA[key].length, objB[key].length);\n        result[key] = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          if (i in objB[key]) {\n            result[key][i] = objB[key][i];\n          } else if (i in objA[key]) {\n            result[key][i] = objA[key][i];\n          }\n        }\n      } else {\n        result[key] = objB[key];\n      }\n    } else {\n      result[key] = objA[key];\n    }\n  }, objA);\n  forOwn(function (value, key) {\n    if (!hasOwn(key, result)) {\n      result[key] = objB[key];\n    }\n  }, objB);\n  return result;\n}\n\nfunction mergeAll(objs) {\n  if (objs.length === 0) {\n    return {};\n  }\n\n  var first = objs[0],\n      rest = objs.slice(1);\n  return rest.reduce(function (merged, obj) {\n    return merge(merged, obj);\n  }, first);\n}\n\nfunction memoizeWith(keyResolver, func) {\n  var cache = {};\n  return function () {\n    var key = keyResolver.apply(void 0, arguments);\n\n    if (hasOwn(key, cache)) {\n      return cache[key];\n    }\n\n    var value = func.apply(void 0, arguments);\n    cache[key] = value;\n    return value;\n  };\n}\n\n// TODO: technically this should accept AnyFunction but it doesn't type check currently with that for some reason\nfunction memoize(func) {\n  return memoizeWith(identity, func);\n}\n\nfunction memoizeOne(fn) {\n  var called = false;\n  var memoized;\n  var cacheKey;\n  return function () {\n    if (called && (arguments.length <= 0 ? undefined : arguments[0]) === cacheKey) {\n      return memoized;\n    }\n\n    called = true;\n    cacheKey = arguments.length <= 0 ? undefined : arguments[0];\n    memoized = fn.apply(void 0, arguments);\n    return memoized;\n  };\n}\n\nfunction noop() {}\n\nfunction values(obj) {\n  return Object.keys(obj).map(function (key) {\n    return obj[key];\n  });\n}\n\nfunction numericSortBy(propOrMapper, collection) {\n  var mapper = typeof propOrMapper === 'function' ? propOrMapper : function (element) {\n    return get(propOrMapper, element);\n  };\n  return (isArray(collection) ? [].concat(collection) : values(collection)).sort(function (elementA, elementB) {\n    return mapper(elementA) - mapper(elementB);\n  });\n}\n\nfunction omitByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction omit(keys, obj) {\n  return omitByIndexed(function (_, key) {\n    return keys.indexOf(key) !== -1;\n  }, obj);\n}\n\nfunction omitBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (!predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction once(fn) {\n  var called = false;\n  var result;\n  return function () {\n    if (called) {\n      return result;\n    }\n\n    called = true;\n    return result = fn.apply(void 0, arguments);\n  };\n}\n\nfunction over(fns) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return fns.map(function (fn) {\n      return fn.apply(void 0, args);\n    });\n  };\n}\n\nfunction takeLast(count, arr) {\n  return arr.slice(-count);\n}\n\nfunction overArgs(fn, transformers) {\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var transformed = transformers.map(function (transform, index) {\n      return transform(args[index]);\n    });\n    return args.length > transformed.length ? fn.apply(void 0, transformed.concat(takeLast(args.length - transformed.length, args))) : fn.apply(void 0, transformed);\n  };\n}\n\nfunction pair(a, b) {\n  return [a, b];\n}\n\nfunction partitionObject(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    acc[predicate(obj[key]) ? 0 : 1][key] = obj[key];\n    return acc;\n  }, [{}, {}]);\n}\n\nfunction pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n}\n\nfunction pickBy(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key])) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickByIndexed(predicate, obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (predicate(obj[key], key)) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction pickOwn(props, obj) {\n  return props.reduce(function (acc, prop) {\n    if (hasOwn(prop, obj)) {\n      acc[prop] = obj[prop];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction range(max) {\n  var arr = [];\n  var counter = 0;\n\n  while (counter <= max) {\n    arr.push(counter++);\n  }\n\n  return arr;\n}\n\nfunction reject(predicate, arr) {\n  return arr.filter(function (element) {\n    return !predicate(element);\n  });\n}\n\nfunction removeAt(index, arr) {\n  var copy = [].concat(arr);\n  copy.splice(index, 1);\n  return copy;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction set$1(_keys, val, obj) {\n  var _extends2;\n\n  var keys = _keys.split ? _keys.split('.') : _keys;\n  var index = keys[0];\n  var finalVal = val;\n\n  if (keys.length > 1) {\n    // eslint-disable-next-line eqeqeq\n    var nextObj = obj != null && hasOwn(index, obj) ? obj[index] : {};\n    finalVal = set$1(keys.slice(1), val, nextObj);\n  }\n\n  return _extends({}, obj, (_extends2 = {}, _extends2[index] = finalVal, _extends2));\n}\n\n// https://github.com/reactjs/react-redux/blob/5d792a283554cff3d2f54fad1be1f79cbcab33fe/src/utils/shallowEqual.js\n\nfunction is(first, second) {\n  if (first === second) {\n    return first !== 0 || second !== 0 || 1 / first === 1 / second;\n  } // eslint-disable-next-line no-self-compare\n\n\n  return first !== first && second !== second;\n}\n\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (var index = 0; index < keysA.length; index++) {\n    if (!hasOwn(keysA[index], objB) || !is(objA[keysA[index]], objB[keysA[index]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction sliceDiff(slice, obj) {\n  var picked = pickByIndexed(function (value, key) {\n    return value !== obj[key];\n  }, slice);\n  return isEmpty(picked) ? null : picked;\n}\n\n// TODO: this could be written a lot better\nfunction snakeCase(str) {\n  var snakeCased = str.replace(/[A-Z]|([-_ ]+)/g, function (match) {\n    var code = match.charCodeAt(0);\n    var upperCased = code > 64 && code < 91;\n    return upperCased ? \"_\" + match.toLowerCase() : '_';\n  });\n  return snakeCased[0] === '_' ? snakeCased.substr(1) : snakeCased;\n}\n\nfunction someAreTruthy(arr) {\n  return arr.some(identity);\n}\n\nfunction splitAt(splitPoint, arrOrStr) {\n  return [arrOrStr.slice(0, splitPoint), arrOrStr.slice(splitPoint, arrOrStr.length)];\n}\n\nfunction splitRightWhenAccum(fn, acc, arr) {\n  var result = false;\n\n  for (var index = arr.length; index > 0; index--) {\n\n    var _fn = fn(arr[index - 1], acc);\n\n    result = _fn[0];\n    acc = _fn[1];\n\n    if (result) {\n      return splitAt(index - 1, arr);\n    }\n  }\n\n  return [[], arr];\n}\n\nfunction spread(fn) {\n  return function (args) {\n    return fn.apply(void 0, args);\n  };\n}\n\nfunction sum(numbers) {\n  return numbers.reduce(add, 0);\n}\n\nfunction take(count, arr) {\n  return arr.slice(0, count);\n}\n\nfunction takeRightWhileFrom(predicate, startIndex, arr) {\n  var endIndex = findLastIndexFrom(function (element) {\n    return !predicate(element);\n  }, startIndex, arr);\n  return endIndex === startIndex ? [] : arr.slice(endIndex + 1, startIndex + 1);\n}\n\nfunction takeRightWhile(predicate, arr) {\n  return takeRightWhileFrom(predicate, arr.length - 1, arr);\n}\n\nfunction throttle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (now - lastCall >= ms) {\n      invoke.apply(void 0, args);\n      return;\n    }\n\n    clearTimeout(trailingId);\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nvar toPairs = function toPairs(obj) {\n  return Object.keys(obj).map(function (key) {\n    return [key, obj[key]];\n  });\n};\n\nfunction trailingThrottle(ms, fn) {\n  var lastCall = Date.now() - 2 * ms;\n  var trailingId;\n\n  var invoke = function invoke() {\n    lastCall = Date.now();\n    return fn.apply(void 0, arguments);\n  };\n\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n    }\n\n    clearTimeout(trailingId);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    trailingId = setTimeout.apply(void 0, [invoke, lastCall - now + ms].concat(args));\n  };\n}\n\nfunction leadingThrottle(ms, fn) {\n  var lastCall = 0;\n  return function () {\n    var now = Date.now();\n\n    if (now - lastCall >= ms) {\n      lastCall = Date.now();\n      fn.apply(void 0, arguments);\n    }\n  };\n}\n\nvar leadingWhiteSpace = /^\\s+/;\nfunction trimStart(str) {\n  return str.replace(leadingWhiteSpace, '');\n}\n\nvar trailingWhiteSpace = /\\s+$/;\nfunction trimEnd(str) {\n  return str.replace(trailingWhiteSpace, '');\n}\n\nfunction repeat(count, text) {\n  return Array(count + 1).join(text);\n}\n\nfunction uniqBy(iteratee, arr) {\n  // with polyfills this could be just: return Array.from(new Set(arr.map(iteratee)))\n  var seen = [];\n  return arr.filter(function (element) {\n    var key = iteratee(element);\n\n    if (seen.indexOf(key) === -1) {\n      seen.push(key);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction uniq(arr) {\n  return uniqBy(identity, arr);\n}\n\nfunction update(index, newElement, arr) {\n  return [].concat(arr.slice(0, index), [newElement], arr.slice(index + 1, arr.length));\n}\n\nfunction without(removed, arr) {\n  return arr.filter(function (element) {\n    return removed.indexOf(element) === -1;\n  });\n}\n\nfunction zipWith(zipper, arrayA, arrayB) {\n  return arrayA.map(function (elementA, index) {\n    return zipper(elementA, arrayB[index]);\n  });\n}\n\nfunction zip(arrayA, arrayB) {\n  return zipWith(pair, arrayA, arrayB);\n}\n\nexport { add, assign, chain, cloneDeep, camelCase, compact, compose, debounce, defaultTo, drop, dropRight, ensureArray, entries, find, findIndex, findKey, findLast, findLastIndex, findLastIndexFrom, filledArray, flatMap, flatten, forOwn, fromPairs, generateRandomId, generateUniqueId, get, getOr, groupBy, groupKeys, hasOwn, identity, includes, isArray, isEmpty, isFalsy, isNil, isObject, isTruthy, isPromise, keyBy, keys, last, mapKeys, mapValues, mapValuesIndexed, merge, mergeAll, memoize, memoizeOne, memoizeWith, noop, numericSortBy, omit, omitBy, omitByIndexed, once, over, overArgs, pair, partitionObject, pick, pickBy, pickByIndexed, pickOwn, range, reject, removeAt, set$1 as set, shallowEqual, sliceDiff, snakeCase, someAreTruthy, splitAt, splitRightWhenAccum, spread, sum, take, takeLast, takeRightWhile, takeRightWhileFrom, throttle, toPairs, trailingThrottle, leadingThrottle, trimStart, trimEnd, repeat, uniq, uniqBy, update, values, without, zip, zipWith };\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n","/* eslint-disable no-unused-vars */\n// import VuePlyr from \"vue-plyr\";\nimport Listening from \"@/components/Listening.vue\"; // component dialog that shows then capturing audio\nimport Modal from \"@/components/Modal.vue\";\nimport { STORAGE_KEY } from \"@/constants/solution-config-default\"; // application storage key\nimport { TRANSLATIONS } from \"@/constants/translations\"; // add UI translations for different language here\nimport router from \"@/router\";\nimport { initializeASR, initializeTTS } from \"@/utils/asr-tts\";\nimport enableDrag from \"@/utils/drag\";\nimport Firebase from \"@/utils/firebase\";\nimport liveChatConfig from \"@/utils/livechat-config\";\nimport PostMessage from \"@/utils/postMessage\";\nimport Setup from \"@/utils/setup\";\n// Controls Data Store and Flow for Components...\nimport {\n  cleanEmptyChunks,\n  doesParameterExist,\n  generateQueryParams,\n  getParameterByName,\n  isLight,\n  queryParamStringAsObject,\n  sleep,\n  uuid\n} from \"@/utils/utils\";\nimport { accountsSdk } from \"@livechat/accounts-sdk\";\nimport LiveChat from \"@livechat/agent-app-widget-sdk\";\nimport dayjs from \"dayjs\";\nimport gravatar from \"gravatar\";\nimport \"regenerator-runtime/runtime\";\nimport Vue from \"vue\";\nimport VueLoadersBallPulseSync from \"vue-loaders/dist/loaders/ball-pulse-sync\";\nimport VueLoadersLineScale from \"vue-loaders/dist/loaders/line-scale\";\nimport VueLoadersLineScalePulseOutRapid from \"vue-loaders/dist/loaders/line-scale-pulse-out-rapid\";\nimport Snotify, { SnotifyPosition } from \"vue-snotify\";\nimport Vuex from \"vuex\";\nimport vuexI18n from \"vuex-i18n\"; // i18n the leopard interface\nconst logger = require(\"@/utils/logging\").getLogger(\"store.js\");\nconst replaceString = require(\"replace-string\");\nconst TIE = require(\"leopard-tie-client\");\n\nconst snotifyOptions = {\n  toast: {\n    position: SnotifyPosition.leftBottom\n  }\n};\n\nVue.use(Snotify, snotifyOptions);\n\nvar md = require(\"markdown-it\")({\n  html: true,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: \"language-\",\n  linkify: true,\n  typographer: true,\n  quotes: \"“”‘’\"\n});\n\nconst superagent = require(\"superagent\");\nvar stripHtml = require(\"striptags\");\nvar mobile = require(\"is-mobile\");\n\nlet store;\nlet setupConfig = new Setup();\nVue.use(Vuex);\n\nVue.use(require(\"vue-shortkey\"));\n\nVue.component(\"teneo-modal\", Modal);\nVue.component(\"teneo-listening\", Listening);\nVue.component(VueLoadersBallPulseSync.component.name, VueLoadersBallPulseSync.component);\nVue.component(VueLoadersLineScale.component.name, VueLoadersLineScale.component);\nVue.component(\n  VueLoadersLineScalePulseOutRapid.component.name,\n  VueLoadersLineScalePulseOutRapid.component\n);\n\nVue.config.productionTip = false;\nlet liveChatAssistConnectCount = 0;\n\nlet postMessage;\n\nexport default function getStore() {\n  return new Promise((resolve, reject) => {\n    setupConfig\n      .init()\n      .then(vuetify => {\n        resolve(storeSetup(vuetify)); // { vuetify, store }\n      })\n      .catch(error => reject(error));\n  });\n}\n\nfunction storeSetup(vuetify) {\n  if (!setupConfig.EMBED) {\n    enableDrag();\n  }\n  store = new Vuex.Store({\n    plugins: [...(setupConfig.logrocketPlugin ? [setupConfig.logrocketPlugin] : [])],\n    state: {\n      asr: {\n        stopAudioCapture: false,\n        asr: null\n      },\n      accessibleAnouncement: \"\",\n      chatConfig: setupConfig.chatConfig,\n      activeSolution: setupConfig.activeSolution,\n      connection: {\n        requestParameters: setupConfig.REQUEST_PARAMETERS,\n        ctxParameters: doesParameterExist(\"teneoCtx\")\n          ? JSON.parse(getParameterByName(\"teneoCtx\"))\n          : \"\",\n        teneoUrl: setupConfig.TENEO_URL\n      },\n      browser: {\n        isMobile: mobile(),\n        timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone\n      },\n      auth: {\n        hasLoggedInTeneo: false,\n        firebase: null,\n        userInfo: {\n          user: null,\n          username: null,\n          profileImage: null\n        }\n      },\n      conversation: {\n        dialog: [],\n        dialogHistory: [],\n        feedbackFormConfig: null\n      },\n      iframe: {\n        iframeUrl: setupConfig.IFRAME_URL,\n        iframeUrlBase: setupConfig.IFRAME_URL\n          ? setupConfig.IFRAME_URL.substring(0, setupConfig.IFRAME_URL.lastIndexOf(\"/\")) + \"/\"\n          : setupConfig.IFRAME_URL\n      },\n      teneoSessionId: null,\n      promptTriggerInterval: null,\n      knowledgeData: setupConfig.KNOWLEDGE_DATA,\n      liveAgent: {\n        apiAccessToken: null,\n        agentAvatar: null,\n        agentID: null,\n        agentName: null,\n        enableLiveChat: setupConfig.ENABLE_LIVE_CHAT,\n        isLiveChat: false,\n        isAgentAssist: setupConfig.IS_AGENT_ASSIST,\n        liveChatMessage: null,\n        showLiveChatProcessing: false\n      },\n      overlay: {\n        showOverlayAlert: false,\n        overlayAlertMessage: \"\"\n      },\n      modals: {\n        modalItem: null,\n        showConfigModal: true,\n        showCustomModal: false,\n        showModal: false\n      },\n      locationInfo: setupConfig.LOCATION,\n      hide508: false,\n      progress: {\n        listening: false,\n        progressBar: false,\n        showChatLoading: false\n      },\n      tts: {\n        speakBackResponses: false,\n        tts: initializeTTS(setupConfig.LOCALE)\n      },\n      ui: {\n        vuetify: vuetify,\n        chatTitle: setupConfig.CHAT_TITLE,\n        dark: localStorage.getItem(STORAGE_KEY + \"darkTheme\")\n          ? localStorage.getItem(STORAGE_KEY + \"darkTheme\") === \"true\"\n          : false,\n        embed: setupConfig.EMBED,\n        emergencyConfig: null,\n        showDelayedResponse: false,\n        hideConfigMenu: window.leopardConfig.hideConfigMenu,\n        isWebSite: true,\n        snotify: null,\n        overlayChat: setupConfig.FLOAT,\n        responseIcon: setupConfig.RESPONSE_ICON,\n        theme: setupConfig.THEME,\n        userIcon: setupConfig.USER_ICON,\n        parent: {},\n        showUploadButton: false,\n        showChatWindow: false,\n        showChatButton: true,\n        closeChatEsc: false\n      },\n      userInput: {\n        userInput: \"\",\n        userInputReadyForSending: false\n      }\n    },\n    getters: {\n      isAuthProviderEnabled: _state => provider => {\n        let authProviders = window.leopardConfig.firebase.authProviders;\n        if (authProviders) {\n          return authProviders.indexOf(provider) > -1;\n        } else {\n          return true; // just so those that haven't added the env variable get all the existing auth providers\n        }\n      },\n      locationInfo(state) {\n        let locationInfo = state.locationInfo;\n        return locationInfo ? `&${generateQueryParams(locationInfo)}` : \"\";\n      },\n      emergencyConfig(state) {\n        return state.ui.emergencyConfig;\n      },\n      snotify(state) {\n        return state.ui.snotify;\n      },\n      teneoSessionId(state) {\n        return state.teneoSessionId;\n      },\n      mustCloseBecauseOfEscape(state) {\n        return state.ui.closeChatEsc;\n      },\n      theme(state) {\n        return state.ui.theme;\n      },\n      fullscreenEmbed(state) {\n        return state.ui.embed && state.ui.parent.width && state.ui.parent.width <= 480;\n      },\n      accessibleAnouncement(state) {\n        return state.accessibleAnouncement;\n      },\n      responseDelay(state) {\n        return state.activeSolution.responseDelay;\n      },\n      leopardFont(state) {\n        return state.activeSolution.font;\n      },\n      responseLookAndFeel(state) {\n        return state.activeSolution.lookAndFeel.response;\n      },\n      questionLookAndFeel(state) {\n        return state.activeSolution.lookAndFeel.question;\n      },\n      showOverlayAlert(state) {\n        return state.overlay.showOverlayAlert;\n      },\n      overlayAlertMessage(state) {\n        return state.overlay.overlayAlertMessage;\n      },\n      liveChatApiToken(state) {\n        return state.liveAgent.apiAccessToken;\n      },\n      hide508(state) {\n        return state.hide508;\n      },\n      hasLoggedInTeneo(state) {\n        return state.auth.hasLoggedInTeneo;\n      },\n      isLiveAgentAssist(state) {\n        return state.liveAgent.isAgentAssist;\n      },\n      config(state) {\n        return state.chatConfig;\n      },\n      isPromptPollingActive(state) {\n        if (\n          \"promptTriggers\" in state.activeSolution &&\n          state.activeSolution.promptTriggers.enabled\n        ) {\n          return true;\n        }\n        return false;\n      },\n      getPromptPollingIntervalInMilliseconds(state) {\n        if (\n          \"promptTriggers\" in state.activeSolution &&\n          state.activeSolution.promptTriggers.pollSeconds\n        ) {\n          return parseInt(state.activeSolution.promptTriggers.pollSeconds) * 1000;\n        }\n        return 10000; // default to 10 seconds\n      },\n      showDelayedResponse(state) {\n        return state.ui.showDelayedResponse;\n      },\n      isChatOpen(state) {\n        logger.debug(`store:getters:isChatOpen: ${state.ui.showChatWindow}`);\n        return state.ui.showChatWindow;\n      },\n      hideConfigMenu(state) {\n        return state.ui.hideConfigMenu;\n      },\n      uuid(_state) {\n        return uuid();\n      },\n      showButtonOnly(state) {\n        logger.debug(`store: showButtonOnly: ${state.ui.embed && !state.ui.showChatWindow}`);\n        return state.ui.embed && !state.ui.showChatWindow;\n      },\n      getAnimatedIn(state, getters) {\n        if (getters.isMobileDevice) {\n          return \"\";\n        }\n        let animation = \"\";\n        if (\"animations\" in state.activeSolution && !getters.embed) {\n          animation = state.activeSolution.animations.in;\n        }\n        return animation;\n      },\n      getAnimatedOut(state, getters) {\n        if (getters.isMobileDevice) {\n          return \"\";\n        }\n        let animation = \"\";\n        if (\"animations\" in state.activeSolution && !getters.embed) {\n          animation = state.activeSolution.animations.out;\n        }\n        return animation;\n      },\n      accentStyling(state) {\n        if (state.activeSolution.displayAccent) {\n          return \"border-top: 3px solid\" + state.ui.theme.accent + \" !important;\";\n        }\n        return \"\";\n      },\n      customCssButtonToolbar(state) {\n        return state.activeSolution.customCssButtonToolbar !== undefined\n          ? state.activeSolution.customCssButtonToolbar\n          : \"\";\n      },\n      timeZoneParam(state) {\n        return \"&timeZone=\" + encodeURI(state.browser.timeZone);\n      },\n      showChatButton(state) {\n        return state.ui.showChatButton;\n      },\n      uploadConfig(_state, getters) {\n        let item = getters.lastReplyItem;\n        let uploadConfigJson = null;\n        if (getters.getItemProperty(item, \"uploadConfig\")) {\n          uploadConfigJson = getters.getItemProperty(item, \"uploadConfig\");\n        }\n\n        return uploadConfigJson;\n      },\n      isMobileDevice: state => state.browser.isMobile,\n      socialAuthEnabled: state => (state.auth.firebase ? true : false),\n      lastReplyItem: state => {\n        return state.conversation.dialog\n          .slice()\n          .reverse()\n          .find(item => item.type === \"reply\");\n      },\n      userInformationParams(state) {\n        let userInfoParams = \"\";\n\n        // {\n        //   user: user,\n        //   providerId: \"microsoft.com\",\n        //   additional: {\n        //     credentials: result.credentials,\n        //     mail: result.additionalUserInfo.profile.mail,\n        //     phone: result.additionalUserInfo.profile.mobilePhone,\n        //     displayName: result.additionalUserInfo.profile.displayName,\n        //     surname: result.additionalUserInfo.profile.surname,\n        //     givenName: result.additionalUserInfo.profile.givenName,\n        //     jobTitle: result.additionalUserInfo.profile.jobTitle,\n        //     userPrincipleName: result.additionalUserInfo.profile.userPrincipleName,\n        //     accessToken: result.credential.accessToken,\n        //     providerId: \"microsoft.com\"\n        //   }\n        // }\n        if (state.auth.userInfo.user) {\n          logger.info(`USER-INFO`, state.auth.userInfo.user.additional);\n          if (\n            \"providerId\" in state.auth.userInfo.user &&\n            state.auth.userInfo.user.providerId === \"microsoft.com\"\n          ) {\n            userInfoParams = `&${generateQueryParams(state.auth.userInfo.user.additional)}`;\n            logger.debug(`Microsoft query Params:`, userInfoParams);\n          } else {\n            userInfoParams = `&name=${state.auth.userInfo.user.user.displayName}&email=${state.auth.userInfo.user.user.email}`;\n          }\n        }\n        return userInfoParams;\n      },\n      askingForPassword(_state, getters) {\n        let item = getters.lastReplyItem;\n        let isAskingForPassword = false;\n        if (item && item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (\n            tResp.hasParameter(\"inputType\") &&\n            tResp.getParameter(\"inputType\").trim().toLowerCase() === \"password\"\n          ) {\n            isAskingForPassword = true;\n          }\n        }\n        return isAskingForPassword;\n      },\n      inputHelpText(_state, getters) {\n        let item = getters.lastReplyItem;\n        let inputHelpText;\n        if (item && item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(\"inputHelpText\") && tResp.getParameter(\"inputHelpText\")) {\n            inputHelpText = tResp.getParameter(\"inputHelpText\");\n          }\n        }\n        return inputHelpText;\n      },\n      itemInputMask(_state, getters) {\n        let item = getters.lastReplyItem;\n        let itemInputMask;\n        if (item && item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(\"inputMask\")) {\n            itemInputMask = tResp.getParameter(\"inputMask\");\n          }\n        }\n        logger.debug(\"Input Mask: \", itemInputMask);\n        return itemInputMask;\n      },\n      askingForEmail(_state, getters) {\n        let item = getters.lastReplyItem;\n        let isAskingForEmail = false;\n        if (item && item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (\n            tResp.hasParameter(\"inputType\") &&\n            tResp.getParameter(\"inputType\").trim().toLowerCase() === \"email\"\n          ) {\n            isAskingForEmail = true;\n          }\n        }\n        return isAskingForEmail;\n      },\n      activeSolution(state) {\n        return state.activeSolution;\n      },\n      listening(state) {\n        return state.progress.listening;\n      },\n      responseIcon(state) {\n        return state.ui.responseIcon;\n      },\n      userIcon(state) {\n        return state.auth.userInfo.profileImage ? \"account-check\" : state.ui.userIcon;\n      },\n      tts(state) {\n        return state.tts.tts;\n      },\n      asr(state) {\n        return state.asr.asr;\n      },\n      agentAvatar(state) {\n        return state.liveAgent.agentAvatar;\n      },\n      agentId(state) {\n        return state.liveAgent.agentID;\n      },\n      agentName(state) {\n        return state.liveAgent.agentName;\n      },\n      userInputReadyForSending(state) {\n        return state.userInput.userInputReadyForSending;\n      },\n      modalPosition: _state => item => {\n        let modalPosition = null;\n        if (item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(\"modalPosition\")) {\n            modalPosition = tResp.getParameter(\"modalPosition\").toLowerCase();\n          }\n        }\n        return modalPosition;\n      },\n      modalSize: _state => item => {\n        let modalSize = null;\n        if (item.teneoResponse) {\n          let tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(\"modalSize\")) {\n            modalSize = tResp.getParameter(\"modalSize\").toLowerCase();\n          }\n        }\n        return modalSize;\n      },\n      outputLink: _state => item => {\n        const tResp = TIE.wrap(item.teneoResponse);\n        return tResp.getLink();\n      },\n      liveChatTranscript: _state => item => {\n        let tResp = TIE.wrap(item.teneoResponse);\n        return tResp.getParameter(\"liveChat\");\n      },\n      profileImageFromEmail: _state => email => {\n        return gravatar.url(email, { protocol: \"https\" });\n      },\n      isVideoFile: _state => url => {\n        logger.debug(\"IsVideo:\" + url);\n        const regExp = /\\.(?:mp4|webm|ogg)$/i;\n        const match = url.match(regExp);\n        let result = match ? match[0].substring(1, match[0].length) : false;\n        logger.debug(result);\n        return result;\n      },\n      isAudioFile: _state => url => {\n        logger.debug(\"ISAudio:\" + url);\n        const regExp = /\\.(?:wav|mp3|ogg)$/i;\n        const match = url.match(regExp);\n        let result = match ? match[0].substring(1, match[0].length) : false;\n        logger.debug(result);\n        return result;\n      },\n      youTubeIdFromUrl: _state => url => {\n        const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#]*).*/;\n        const match = url.match(regExp);\n        if (match) {\n          return match[7].length == 11 ? match[7] : false;\n        } else {\n          return false;\n        }\n      },\n      textColor: state => themeColorName => {\n        if (!vuetify.framework.theme.isDark) {\n          let hexColor = state.ui.theme[themeColorName];\n          return isLight(hexColor) ? \"black--text\" : \"white--text\";\n        } else {\n          return \"white--text\";\n        }\n      },\n      vimeoIdFromUrl: _state => url => {\n        const regExp = /^.+vimeo.com\\/(.*\\/)?([^#]*)/;\n        const match = url.match(regExp);\n        return match ? match[2] || match[1] : false;\n      },\n      enableLiveChat(state) {\n        return state.liveAgent.enableLiveChat;\n      },\n      chatConfig(state) {\n        return state.chatConfig;\n      },\n      extensionIsInline: _state => extension => {\n        if (extension && extension.inline) {\n          return extension.inline;\n        } else {\n          return false;\n        }\n      },\n      itemExtensionsModal: (_state, getters) => item => {\n        let extensions = getters.itemExtensions(item);\n        let modalExtensions = [];\n        extensions.forEach(extension => {\n          if (\n            !getters.extensionIsInline(extension) &&\n            !extension.name.startsWith(\"displayCollection\")\n          ) {\n            modalExtensions.push(extension);\n          }\n        });\n        return modalExtensions;\n      },\n      getItemProperty: _state => (item, name) => {\n        let response = {};\n        if (item && item.teneoResponse) {\n          const tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(name)) {\n            response = tResp.getParameter(name);\n          }\n        }\n        return response;\n      },\n      itemExtensions: _state => item => {\n        let actions = [];\n        if (item && item.teneoResponse) {\n          const tResp = TIE.wrap(item.teneoResponse);\n          if (\n            Object.keys(tResp.getJson().output.parameters).some(function (k) {\n              return ~k.indexOf(\"extensions\");\n            })\n          ) {\n            // sort the keys for ordering of extensions\n            const ordered = {};\n            Object.keys(tResp.getJson().output.parameters)\n              .sort()\n              .forEach(function (key) {\n                ordered[key] = tResp.getParameter(key);\n              });\n            try {\n              for (let key in ordered) {\n                if (key.startsWith(\"extensions\")) {\n                  // let value = parseExtraData(ordered[key]);\n                  if (ordered[key]) {\n                    logger.debug(`Item Extensions > Key: ${key} Value:`, ordered[key]);\n                    actions.push(ordered[key]);\n                  }\n                }\n              }\n            } catch (e) {\n              logger.error(e);\n              // store.commit(\"SHOW_MESSAGE_IN_CHAT\", \"Problems with extension format: \" + e.message + \".\");\n            }\n          }\n        }\n        return actions;\n      },\n      ctxParameters(state) {\n        let ctxParams = state.connection.ctxParameters;\n        if (ctxParams) {\n          let queryParams = Object.keys(ctxParams)\n            .map(key => key + \"=\" + encodeURIComponent(ctxParams[key]))\n            .join(\"&\");\n          return `&${queryParams}`;\n        }\n        return \"\";\n      },\n      hasFeedbackForm: () => item => {\n        let result = false;\n        if (item.teneoResponse) {\n          const tResp = TIE.wrap(item.teneoResponse);\n          if (tResp.hasParameter(\"offerFeedbackForm\")) {\n            result = true;\n          }\n        }\n        return result;\n      },\n      hasModal: (_state, getters) => item => {\n        let extensions = getters.itemExtensions(item);\n        let hasModal = false;\n        extensions.forEach(extension => {\n          if (\n            extension &&\n            !extension.inline &&\n            extension.name &&\n            !extension.name.startsWith(\"displayCollection\") &&\n            !extension.name.startsWith(\"displayRouterCheckList\")\n          ) {\n            hasModal = true;\n          }\n        });\n\n        return hasModal;\n      },\n      hasInline: (_state, getters) => item => {\n        let extensions = getters.itemExtensions(item);\n        let hasInline = false;\n        extensions.forEach(extension => {\n          if (extension && extension.inline) {\n            hasInline = true;\n          }\n        });\n        return hasInline;\n      },\n      hasExtensions: (_state, getters) => item => {\n        let extensions = getters.itemExtensions(item);\n        return extensions.length > 0;\n      },\n      hasMediaExtensions: (_state, getters) => item => {\n        let extensions = getters.itemExtensions(item);\n        let hasMediaExtensions = false;\n        extensions.forEach(extension => {\n          if (getters.hasExtensionType(extension, \"youTube\")) {\n            hasMediaExtensions = true;\n          } else if (getters.hasExtensionType(extension, \"vimeo\")) {\n            hasMediaExtensions = true;\n          } else if (getters.hasExtensionType(extension, \"video\")) {\n            hasMediaExtensions = true;\n          } else if (getters.hasExtensionType(extension, \"map\")) {\n            hasMediaExtensions = true;\n          } else if (getters.hasExtensionType(extension, \"image\")) {\n            hasMediaExtensions = true;\n          } else if (getters.hasExtensionType(extension, \"carousel\")) {\n            hasMediaExtensions = true;\n          }\n        });\n        return hasMediaExtensions;\n      },\n      hasExtensionType: (_state, getters) => (extension, type) => {\n        if (extension) {\n          switch (type) {\n            case \"youTube\":\n              if (getters.youTubeVideoId(extension)) {\n                return true;\n              }\n              break;\n            case \"audio\":\n              if (getters.audioInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"vimeo\":\n              if (getters.vimeoId(extension)) {\n                return true;\n              }\n              break;\n            case \"video\":\n              if (getters.videoInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"map\":\n              if (getters.mapInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"image\":\n              if (getters.imageUrl(extension)) {\n                return true;\n              }\n              break;\n            case \"carousel\":\n              if (getters.carouselImageArray(extension)) {\n                return true;\n              }\n              break;\n            default:\n              return false;\n          }\n        }\n        return false;\n      },\n      hasInlineType: (_state, getters) => (extension, type) => {\n        if (extension && extension.inline) {\n          switch (type) {\n            case \"youTube\":\n              if (getters.youTubeVideoId(extension)) {\n                return true;\n              }\n              break;\n            case \"alert\":\n              if (extension.name === \"displayAlert\") {\n                return true;\n              }\n              break;\n            case \"audio\":\n              if (getters.audioInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"vimeo\":\n              if (getters.vimeoId(extension)) {\n                return true;\n              }\n              break;\n            case \"video\":\n              if (getters.videoInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"map\":\n              if (getters.mapInfo(extension)) {\n                return true;\n              }\n              break;\n            case \"table\":\n              if (extension.name === \"displaySimpleTable\") {\n                return true;\n              }\n              break;\n            case \"image\":\n              if (getters.imageUrl(extension)) {\n                return true;\n              }\n              break;\n            case \"carousel\":\n              if (getters.carouselImageArray(extension)) {\n                return true;\n              }\n              break;\n            default:\n              return false;\n          }\n        }\n        return false;\n      },\n      youTubeVideoId: (_state, getters) => extension => {\n        if (extension && extension.name === \"displayVideo\") {\n          let url = extension.parameters.video_url;\n          let videoId = getters.youTubeIdFromUrl(url);\n          if (videoId) {\n            return videoId;\n          }\n        }\n\n        return \"\";\n      },\n      getActivePromptInterval(state) {\n        return state.promptTriggerInterval;\n      },\n      audioInfo: (_state, getters) => extension => {\n        if (extension && extension.name === \"displayVideo\") {\n          let url = extension.parameters.video_url;\n          const audioFileExt = getters.isAudioFile(url);\n          if (audioFileExt) {\n            return {\n              audioType: `audio/${audioFileExt}`,\n              audioUrl: url\n            };\n          }\n        }\n\n        return {};\n      },\n      vimeoId: (_state, getters) => extension => {\n        if (extension && extension.name === \"displayVideo\") {\n          let url = extension.parameters.video_url;\n          const vimeoId = getters.vimeoIdFromUrl(url);\n          if (vimeoId) {\n            return vimeoId;\n          }\n        }\n\n        return;\n      },\n      videoInfo: (_state, getters) => extension => {\n        if (extension && extension.name === \"displayVideo\") {\n          let url = extension.parameters.video_url;\n          const videoFileExt = getters.isVideoFile(url);\n          if (videoFileExt) {\n            return {\n              videoType: `video/${videoFileExt}`,\n              videoUrl: url\n            };\n          }\n        }\n\n        return;\n      },\n      mapInfo: (_state, getters) => extension => {\n        if (extension && extension.name === \"displayMap\") {\n          let address = extension.parameters.address;\n          if (address) {\n            return {\n              address: address\n            };\n          }\n        }\n\n        return;\n      },\n      imageUrl: (_state, _getters) => extension => {\n        if (extension && extension.name === \"displayImage\") {\n          logger.debug(`image URL ${extension.parameters.image_url}`);\n          return extension.parameters.image_url;\n        }\n        return \"\";\n      },\n      carouselImageArray: (_state, _getters) => extension => {\n        if (extension && extension.name === \"displayImageCarousel\") {\n          return extension.parameters.images;\n        }\n        return [];\n      },\n      iFrameUrlBase(state) {\n        return state.iframe.iframeUrlBase;\n      },\n      firebase(state) {\n        return state.auth.firebase;\n      },\n      isLiveChat(state) {\n        return state.liveAgent.isLiveChat;\n      },\n      knowledgeData(state) {\n        return state.knowledgeData;\n      },\n      settingLongResponsesInModal(state) {\n        return state.activeSolution.longResponsesInModal;\n      },\n      pulseButton(state) {\n        return state.activeSolution.pulseButton;\n      },\n      lastItemAnswerTextCropped(_state, getters) {\n        let answer = \"\";\n        if (getters.lastReplyItem) {\n          answer = getters.lastReplyItem.text;\n        }\n\n        if (getters.settingLongResponsesInModal && getters.lastItemHasLongResponse) {\n          answer = answer.substr(0, 300 - 1) + (answer.length > 300 ? \"&hellip;\" : \"\");\n        }\n        return answer;\n      },\n      itemAnswerTextCropped: (_state, getters) => item => {\n        let answer = item.text;\n        if (getters.settingLongResponsesInModal && getters.itemHasLongResponse(item)) {\n          answer = answer.substr(0, 300 - 1) + (answer.length > 300 ? \"&hellip;\" : \"\");\n        }\n        return answer;\n      },\n      lastItemHasLongResponse(_state, getters) {\n        let hasLongResponse = false;\n        if (getters.settingLongResponsesInModal) {\n          let item = getters.lastReplyItem;\n          if (item && item.text && item.text.length > 400) {\n            hasLongResponse = true;\n          }\n        }\n        return hasLongResponse;\n      },\n      itemHasLongResponse: (_state, getters) => item => {\n        let hasLongResponse = false;\n        if (getters.settingLongResponsesInModal && item && item.text && item.text.length > 400) {\n          hasLongResponse = true;\n        }\n        return hasLongResponse;\n      },\n      showCustomModal(state) {\n        return state.modals.showCustomModal;\n      },\n      speakBackResponses(state) {\n        return state.tts.speakBackResponses;\n      },\n      liveChatMessage(state) {\n        return state.liveAgent.liveChatMessage;\n      },\n      showChatLoading(state) {\n        return state.progress.showChatLoading;\n      },\n      teneoUrl(state) {\n        return state.connection.teneoUrl;\n      },\n      showLiveChatProcessing(state) {\n        return state.liveAgent.showLiveChatProcessing;\n      },\n      dialogs(state) {\n        logger.debug(\n          `Session Storage? ${setupConfig.USE_SESSION_STORAGE} Dialog Length ${state.conversation.dialog.length}`\n        );\n        if (!setupConfig.USE_SESSION_STORAGE && state.conversation.dialog.length === 0) {\n          logger.debug(\"Checking for stale session - embed\");\n          // typically here when in production embedded state\n          // check if session expired\n          let now = new Date();\n          let lastInteractionTime = localStorage.getItem(\n            STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE\n          );\n          if (!lastInteractionTime) {\n            logger.debug(\"No previous interaction time...\");\n            state.conversation.dialog = JSON.parse(\n              localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\n            );\n          } else {\n            logger.debug(`found last interaction time: ${lastInteractionTime}`);\n            var diff = (now.getTime() - lastInteractionTime) / 1000;\n            diff /= 60;\n            let diffMins = Math.abs(Math.round(diff));\n            logger.debug(`Minutes Difference: ${diffMins}`);\n            if (diffMins > 0) {\n              localStorage.setItem(\n                STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE,\n                now.getTime()\n              );\n              state.conversation.dialog = [];\n              localStorage.setItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\");\n            } else {\n              // \"session\" still active\n              state.conversation.dialog = JSON.parse(\n                localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\n              );\n            }\n          }\n        }\n        if (!state.conversation.dialog) {\n          state.conversation.dialog = [];\n        }\n        return state.conversation.dialog;\n      },\n      getLatestDialogHistory(state) {\n        if (state.conversation.dialogHistory.length === 0) {\n          if (setupConfig.USE_SESSION_STORAGE) {\n            state.conversation.dialogHistory = JSON.parse(\n              sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\n            );\n          } else {\n            state.conversation.dialogHistory = JSON.parse(\n              localStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\")\n            );\n          }\n\n          if (!state.conversation.dialogHistory) {\n            state.conversation.dialogHistory = [];\n          }\n        }\n        return state.conversation.dialogHistory;\n      },\n      userInput(state) {\n        return state.userInput.userInput;\n      },\n      showFeedbackForm(state) {\n        if (state.conversation.feedbackFormConfig !== null) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      getFeedbackFormConfig(state) {\n        return state.conversation.feedbackFormConfig;\n      },\n      embed(state) {\n        return state.ui.embed;\n      },\n      overlayChat(state) {\n        return state.ui.overlayChat;\n      },\n      float(state) {\n        return state.ui.overlayChat;\n      },\n      dialog(state) {\n        return state.conversation.dialog;\n      },\n      dialogHistory(state) {\n        return state.conversation.dialogHistory;\n      },\n      progressBar(state) {\n        return state.progress.progressBar;\n      },\n      stopAudioCapture(state) {\n        return state.asr.stopAudioCapture;\n      },\n      showModal(state) {\n        return state.modals.showModal;\n      },\n      showConfigModal(state) {\n        return state.modals.showConfigModal;\n      },\n      modalItem(state) {\n        return state.modals.modalItem;\n      },\n      authenticated(state) {\n        return state.auth.userInfo.user ? true : false;\n      },\n      userProfileImage(state) {\n        return state.auth.userInfo.user.user ? state.auth.userInfo.user.user.photoURL : \"\";\n      },\n      displayName(state) {\n        return state.auth.userInfo.user ? state.auth.userInfo.user.displayName : \"Anonymous\";\n      },\n      dark(state) {\n        return state.ui.dark;\n      },\n      chatTitle(state) {\n        return state.ui.chatTitle;\n      },\n      showChatIcons(state) {\n        return state.liveAgent.isAgentAssist ? true : state.activeSolution.showChatIcons;\n      },\n      showUploadButton(state) {\n        return state.ui.showUploadButton;\n      }\n    },\n    mutations: {\n      SET_EMERGENCY_CONFIG(state, config) {\n        config.payload = config.payload.split(\"?\").join(\"&\");\n        state.ui.emergencyConfig = config;\n      },\n      SET_SNOTIFY(state, config) {\n        state.ui.snotify = config;\n      },\n      SET_TENEO_SESSION_ID(state, newSessionId) {\n        state.teneoSessionId = newSessionId;\n      },\n      CLEAR_TENEO_SESSION_ID(state) {\n        state.teneoSessionId = null;\n      },\n      HIDE_508_CONTENT(state) {\n        state.hide508 = true;\n      },\n      SHOW_508_CONTENT(state) {\n        state.hide508 = false;\n      },\n      SET_ACCESIBLE_ANOUNCEMENT(state, message) {\n        state.accessibleAnouncement = stripHtml(message);\n      },\n      SHOW_OVERLAY_ALERT(state, message) {\n        state.overlay.overlayAlertMessage = message;\n        state.overlay.showOverlayAlert = true;\n        setTimeout(function () {\n          state.overlay.showOverlayAlert = false;\n          state.overlay.overlayAlertMessage = \"\";\n        }, 2000);\n      },\n      SET_CHAT_CONFIG(state, chatConfig) {\n        state.chatConfig = chatConfig;\n      },\n      CLOSE_CHAT_ESC(state) {\n        logger.debug(`CLOSE_CHAT_ESC`);\n        state.ui.closeChatEsc = true;\n      },\n      RESET_MUST_CLOSE(state) {\n        state.ui.closeChatEsc = false;\n      },\n      CLOSE_OVERY_ALERT(state) {\n        state.overlay.showOverlayAlert = false;\n        state.overlay.overlayAlertMessage = \"\";\n      },\n      LIVE_CHAT_API_ACCESS_TOKEN(state, token) {\n        state.liveAgent.apiAccessToken = token;\n      },\n      CHANGE_CHAT_TITLE(state, title) {\n        state.ui.chatTitle = title;\n      },\n      RESET_CHAT_TITLE(state) {\n        state.ui.chatTitle = setupConfig.CHAT_TITLE;\n      },\n      SHOW_RESPONSE_DELAY(state) {\n        state.ui.showDelayedResponse = true;\n      },\n      HIDE_RESPONSE_DELAY(state) {\n        state.ui.showDelayedResponse = false;\n      },\n      SHOW_UPLOAD_BUTTON(state) {\n        state.ui.showUploadButton = true;\n      },\n      HIDE_UPLOAD_BUTTON(state) {\n        state.ui.showUploadButton = false;\n      },\n      HIDE_CUSTOM_MODAL(state) {\n        state.modals.showCustomModal = false;\n      },\n      HIDE_CHAT_WINDOW_DISPLAY_EMBED(state, _getters) {\n        logger.debug(`HIDE_CHAT_WINDOW_DISPLAY_EMBED`);\n        localStorage.setItem(\"isChatOpen\", false);\n        state.ui.showChatWindow = false;\n      },\n      HIDE_CHAT_WINDOW(state) {\n        logger.debug(`store: HIDE_CHAT_WINDOW`);\n        state.ui.showChatWindow = false;\n      },\n      OPEN_CHAT_WINDOW_DISPLAY_EMBED(state, _getters) {\n        state.ui.showChatWindow = true;\n        logger.debug(`OPEN_CHAT_WINDOW_DISPLAY_EMBED`);\n        postMessage.sendMessageToParent(\"showLeopard\");\n        localStorage.setItem(\"isChatOpen\", true);\n      },\n      TOGGLE_CHAT_WINDOW_DISPLAY(state, _getters) {\n        state.ui.showChatWindow = !state.ui.showChatWindow;\n        logger.debug(\n          `store: TOGGLE_CHAT_WINDOW_DISPLAY:  state.ui.showChatWindow has toggled to: ${state.ui.showChatWindow}`\n        );\n        if (state.ui.embed) {\n          logger.debug(`TOGGLE_CHAT_WINDOW_DISPLAY: ${state.ui.showChatWindow}`);\n          localStorage.setItem(\"isChatOpen\", state.ui.showChatWindow);\n          logger.debug(\n            `store: TOGGLE_CHAT_WINDOW_DISPLAY: sending message to parent to ${state.ui.showChatWindow}`\n          );\n          postMessage.sendMessageToParent(state.ui.showChatWindow ? \"showLeopard\" : \"hideLeopard\");\n        }\n      },\n      SHOW_CHAT_WINDOW(state) {\n        logger.debug(`store: SHOW_CHAT_WINDOW`);\n        state.ui.showChatWindow = true;\n      },\n      LOGGED_INTO_TENEO(state) {\n        state.auth.hasLoggedInTeneo = true;\n      },\n      LOG_OUT_TENEO(state) {\n        state.auth.hasLoggedInTeneo = false;\n      },\n      HIDE_CHAT_BUTTON(state) {\n        state.ui.showChatButton = false;\n      },\n      SHOW_CHAT_BUTTON(state) {\n        state.ui.showChatButton = true;\n      },\n      SHOW_CUSTOM_MODAL(state) {\n        state.modals.showCustomModal = true;\n      },\n      PUSH_RESPONSE_TO_DIALOG(state, response) {\n        state.conversation.dialog.push(response);\n      },\n      PUSH_RESPONSE_TO_DIALOG_HISTORY(state, response) {\n        state.conversation.dialogHistory.push(response);\n      },\n      PUSH_USER_INPUT_TO_DIALOG_HISTORY(state, userInput) {\n        state.conversation.dialogHistory.push(userInput);\n      },\n      SET_CHAT_TITLE(state, title) {\n        state.ui.chatTitle = title;\n      },\n      SET_DIALOG_HISTORY(state, newHistory) {\n        state.conversation.dialogHistory = newHistory;\n      },\n      PUSH_USER_INPUT_TO_DIALOG(state, userInput) {\n        state.conversation.dialog.push(userInput);\n      },\n      PUSH_LIVE_CHAT_STATUS_TO_DIALOG(state, liveChatStatus) {\n        state.conversation.dialog.push(liveChatStatus);\n      },\n      SHOW_SIMPLE_MESSAGE_IN_CHAT(state, config) {\n        state.progress.showChatLoading = false;\n        let miscMessage = {\n          type: \"miscMessage\",\n          message: null,\n          borderPosition: \"left\",\n          alertType: null,\n          color: \"info\",\n          primient: false,\n          outlined: false,\n          icon: null,\n          bodyText: \"\",\n          hasExtraData: false\n        };\n        Object.assign(miscMessage, config);\n        if (!miscMessage.icon && !miscMessage.alertType) {\n          miscMessage.alertType = \"info\";\n        }\n        state.conversation.dialog.push(miscMessage);\n      },\n      SHOW_MESSAGE_IN_CHAT(\n        state,\n        message,\n        type = \"info\",\n        color = \"info\",\n        prominent = false,\n        outlined = false,\n        icon = undefined,\n        borderPosition = \"top\"\n      ) {\n        state.progress.showChatLoading = false;\n        let miscMessage = {\n          type: \"miscMessage\",\n          message: message,\n          borderPosition: borderPosition,\n          alertType: type,\n          color: color,\n          primient: prominent,\n          outlined: outlined,\n          icon: icon,\n          bodyText: \"\",\n          hasExtraData: false\n        };\n        state.conversation.dialog.push(miscMessage);\n      },\n      PUSH_LIVE_CHAT_RESPONSE_TO_DIALOG(state, liveChatResponse) {\n        logger.debug(`Pushing LiveChat response onto chat dialog`, liveChatResponse);\n        state.conversation.dialog.push(liveChatResponse);\n      },\n      CLEAR_USER_INPUT(state) {\n        state.userInput.userInput = \"\";\n      },\n      SET_FIREBASE(state, firebase) {\n        state.auth.firebase = firebase;\n      },\n      SHOW_CHAT_LOADING(state) {\n        logger.debug(\"Showing Chat Loading Animation\");\n        state.progress.showChatLoading = true;\n      },\n      HIDE_CHAT_LOADING(state) {\n        logger.debug(\"Hiding Chat Loading Animation\");\n        state.progress.showChatLoading = false;\n      },\n      LIVE_CHAT_LOADING(state, mustShow) {\n        state.liveAgent.showLiveChatProcessing = mustShow;\n      },\n      SHOW_LIVE_CHAT_LOADING(state) {\n        state.liveAgent.showLiveChatProcessing = true;\n      },\n      HIDE_LIVE_CHAT_LOADING(state) {\n        state.liveAgent.showLiveChatProcessing = false;\n      },\n      CLEAR_CHAT_HISTORY(state) {\n        logger.debug(`Clearing Chat History`);\n        state.conversation.dialog = [];\n        localStorage.setItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY, \"[]\");\n      },\n      LIVE_CHAT(_state, transcript) {\n        setupConfig.liveChat.sendMessage(transcript);\n      },\n      START_LIVE_CHAT(state) {\n        state.liveAgent.isLiveChat = true;\n      },\n      STOP_LIVE_CHAT(state) {\n        state.liveAgent.isLiveChat = false;\n      },\n      DISABLE_LIVE_CHAT(state) {\n        state.liveAgent.enableLiveChat = false;\n      },\n      CHANGE_THEME(state) {\n        state.ui.dark = !state.ui.dark;\n        localStorage.setItem(\n          STORAGE_KEY + setupConfig.TENEO_CHAT_DARK_THEME,\n          JSON.stringify(state.ui.dark)\n        );\n      },\n      SHOW_LISTING_OVERLAY(state) {\n        state.progress.listening = true;\n      },\n      HIDE_LISTENING_OVERLAY(state) {\n        state.progress.listening = false;\n      },\n      SET_USER_INPUT(state, userInput) {\n        if (userInput) {\n          //state.userInput.userInput = userInput.replace(/^\\w/, c => c.toUpperCase());\n          state.userInput.userInput = userInput;\n        } else {\n          state.userInput.userInput = \"\";\n        }\n      },\n      START_TTS(state) {\n        state.tts.speakBackResponses = true;\n      },\n      STOP_TTS(state) {\n        state.tts.speakBackResponses = false;\n      },\n      TTS_ENABLE(state, useTTS) {\n        state.tts.speakBackResponses = useTTS;\n      },\n      UPDATE_CHAT_WINDOW_AND_STORAGE(state, payload) {\n        let hasExtraData = false;\n        if (payload.response.teneoResponse) {\n          const tResp = TIE.wrap(payload.response.teneoResponse);\n          if (\n            Object.keys(tResp.getJson().output.parameters).some(function (k) {\n              return ~k.indexOf(\"extensions\");\n            }) ||\n            tResp.hasParameter(\"liveChat\") ||\n            tResp.hasLink()\n          ) {\n            hasExtraData = true;\n          }\n        }\n\n        let newUserInput = {\n          type: \"userInput\",\n          text: payload.mask ? \"*********\" : payload.response.userInput,\n          bodyText: \"\",\n          hasExtraData: false\n        };\n\n        // add the user input - display it on the chat dialog\n        if (newUserInput.text) {\n          state.conversation.dialog.push(newUserInput);\n        }\n\n        let newReply = {\n          type: \"reply\",\n          id: uuid(),\n          text: cleanEmptyChunks(payload.response.teneoAnswer),\n          bodyText: \"\",\n          teneoResponse: payload.response.teneoResponse,\n          hasExtraData: hasExtraData\n        };\n\n        // add the teneo response - display it on the chat dialog\n        state.conversation.dialog.push(newReply);\n        if (hasExtraData) {\n          state.modals.modalItem = newReply;\n          state.modals.showModal = true;\n        }\n\n        //state.userInput.userInput = \"\"; // reset the user input to nothing\n\n        // deal with persiting the chat history\n        if (!setupConfig.USE_SESSION_STORAGE) {\n          localStorage.setItem(\n            STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\n            JSON.stringify(state.conversation.dialog)\n          );\n        }\n        state.conversation.dialogHistory = JSON.parse(\n          sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY)\n        );\n        if (state.conversation.dialogHistory === null) {\n          state.conversation.dialogHistory = state.conversation.dialog;\n        } else {\n          // add current user input and teneo response to the dialog history\n          if (newUserInput.text) {\n            state.conversation.dialogHistory.push(newUserInput);\n          }\n          state.conversation.dialogHistory.push(newReply);\n        }\n        // save the dislaog history in session storage\n        sessionStorage.setItem(\n          STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\n          JSON.stringify(state.conversation.dialogHistory)\n        );\n      },\n      REMOVE_FORM_CONFIG(state, itemId) {\n        let foundHistory = state.conversation.dialogHistory.find(function (item) {\n          return item.id === itemId;\n        });\n\n        let tResHis = null;\n        if (foundHistory && foundHistory.teneoResponse) {\n          tResHis = TIE.wrap(foundHistory.teneoResponse);\n        }\n\n        if (tResHis && tResHis.hasParameter(\"formConfig\")) {\n          delete foundHistory.teneoResponse.output.parameters.formConfig;\n        }\n\n        let found = state.conversation.dialog.find(function (item) {\n          return item.id === itemId;\n        });\n\n        let tResConv = null;\n        if (found && found.teneoResponse) {\n          tResConv = TIE.wrap(found.teneoResponse);\n        }\n\n        if (tResConv && tResConv.hasParameter(\"formConfig\")) {\n          delete found.teneoResponse.output.parameters.formConfig;\n        }\n\n        sessionStorage.setItem(\n          STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\n          JSON.stringify(state.conversation.dialogHistory)\n        );\n      },\n      SHOW_PROGRESS_BAR(state) {\n        state.progress.progressBar = true;\n      },\n      HIDE_PROGRESS_BAR(state) {\n        state.progress.progressBar = false;\n      },\n      SHOW_CONFIG_MODAL(state) {\n        state.modals.showConfigModal = true;\n      },\n      HIDE_CONFIG_MODAL(state) {\n        state.modals.showConfigModal = false;\n      },\n      UPDATE_TENEO_URL(state, newUrl) {\n        state.connection.teneoUrl = newUrl;\n      },\n      SHOW_CHAT_MODAL(state, item) {\n        state.modals.modalItem = item;\n        state.modals.showModal = true;\n      },\n      STOP_AUDIO_CAPTURE(state) {\n        state.asr.stopAudioCapture = true;\n      },\n      START_AUDIO_CAPTURE(state) {\n        if (state.asr.asr !== null) {\n          if (state.tts.tts.isSpeaking()) {\n            logger.debug(`TTS was speaking. Stopping the existing chatter.`);\n            state.tts.tts.shutUp();\n          }\n          state.asr.stopAudioCapture = false;\n          try {\n            state.asr.asr.start();\n          } catch (e) {\n            logger.debug(`Attempted to start ASR when it was already active`, e);\n          }\n        }\n      },\n      ADD_FEEDBACK_FORM(state, feedbackFormConfig) {\n        state.conversation.feedbackFormConfig = feedbackFormConfig;\n      },\n      CLEAR_FEEDBACK_FORM(state) {\n        state.conversation.feedbackFormConfig = null;\n      },\n      HIDE_CHAT_MODAL(state) {\n        logger.debug(\"hiding modal\");\n        state.userInput.userInputReadyForSending = false;\n        state.modals.showModal = false;\n        state.modals.modalItem = null;\n        logger.debug(\"modal item should be empty\");\n      },\n      CLEAR_DIALOGS(state) {\n        state.conversation.dialog = [];\n      },\n      USER_INPUT_READY_FOR_SENDING(state) {\n        state.userInput.userInputReadyForSending = true;\n      },\n      USER_INPUT_NOT_READY_FOR_SENDING(state) {\n        state.userInput.userInputReadyForSending = false;\n      },\n      REMOVE_MODAL_ITEM(state) {\n        state.modals.modalItem = null;\n      },\n      AGENT_NAME(state, agentName) {\n        state.liveAgent.agentName = agentName;\n      },\n      AGENT_ID(state, agentId) {\n        state.liveAgent.agentID = agentId;\n      },\n      AGENT_AVATAR(state, imageUrl) {\n        state.liveAgent.agentAvatar = imageUrl;\n      },\n      UPDATE_UI_LOCALE(state, lang) {\n        state.i18n.locale = lang.toLowerCase();\n        Vue.i18n.set(lang);\n      },\n      SET_PROMPT_TRIGGER_INTERVAL(state, newInterval) {\n        state.promptTriggerInterval = newInterval;\n      },\n      CLEAR_PROMPT_TRIGGER_INTERVAL(state) {\n        clearInterval(state.promptTriggerInterval);\n        state.promptTriggerInterval = null;\n      },\n      UPDATE_FRAME_URL(state, newUrl) {\n        if (document.getElementById(\"site-frame\")) {\n          document.getElementById(\"site-frame\").src = newUrl;\n        } else if (state.ui.embed) {\n          postMessage.sendMessageToParent(`runLeopardScript|window.location.href = '${newUrl}';`);\n        }\n        state.iframe.iframeUrl = newUrl;\n        state.iframe.iframeUrlBase = newUrl.substring(0, newUrl.lastIndexOf(\"/\")) + \"/\";\n      },\n      USER_INFO(state, userInfo) {\n        state.auth.userInfo.user = userInfo;\n        // TODO: tell sentry and logrocket\n      },\n      CHANGE_ASR_TTS(state, lang) {\n        state.tts.tts = initializeTTS(lang);\n        initializeASR(store, setupConfig.ASR_CORRECTIONS_MERGED);\n      },\n      CLEAR_USER_INFO(state) {\n        state.auth.userInfo.user = null;\n      }\n    },\n    actions: {\n      shouldBackupSolutionsConfig() {\n        return new Promise(resolve => {\n          let now = dayjs();\n\n          let lastSolutionBackupDate = localStorage.getItem(STORAGE_KEY + \"lastBackupDate\");\n\n          if (lastSolutionBackupDate) {\n            let pastDate = dayjs(lastSolutionBackupDate);\n            let daysDiff = now.diff(pastDate, \"day\");\n            if (daysDiff >= 14) {\n              localStorage.setItem(STORAGE_KEY + \"lastBackupDate\", now.format());\n              resolve(true); // backup probably needed\n            } else {\n              resolve(false); // no backup needed\n            }\n          } else {\n            localStorage.setItem(STORAGE_KEY + \"lastBackupDate\", now.format());\n            resolve(true); // backup needed\n          }\n        });\n      },\n      liveChatAddCannedResponse(context, config) {\n        // config.data.token = context.getters.liveChatApiToken;\n        logger.debug(`Adding LiveChat Canned Response`, config);\n\n        superagent\n          .post(`${window.leopardConfig.liveChat.agentAssistServerUrl}/can`)\n          .accept(\"json\")\n          .type(\"json\")\n          .send(config)\n          .then(res => {\n            // res.body = json, res.headers, res.status\n            logger.debug(\"Agent Assist: Canned Resposne Created\", res.body);\n          })\n          .catch(err => {\n            // err.message, err.response\n            logger.error(`Could not add LiveChat canned response`, err);\n          });\n      },\n      async putLiveChatAgentMessage(_context, message) {\n        // await LiveChat.refreshSessionId();\n        await LiveChat.putMessage(stripHtml(message));\n      },\n      setupLiveChatAgentAssist(context) {\n        logger.debug(\">> Before Live Agent Assist Setup\");\n        if (context.getters.isLiveAgentAssist) {\n          logger.debug(`Is this an Agent Assist App?`, context.getters.isLiveAgentAssist);\n          logger.debug(\">> In Live Agent Assist Setup\");\n          let liveChatAgentAssistLastMessage = null;\n          LiveChat.init({ authorize: false })\n            .then(async () => {\n              logger.debug(\">> Live Agent Assist Setup\");\n              context.commit(\"DISABLE_LIVE_CHAT\");\n\n              await LiveChat.refreshSessionId();\n              logger.debug(\"LiveChat Agent Assist Setup!\");\n              LiveChat.on(\"customer_profile\", profile => {\n                logger.debug(\"customer_profile\", profile);\n              });\n\n              LiveChat.on(\"message\", message => {\n                logger.debug(\"message received\", message);\n                if (\n                  message.message_source === \"visitor\" &&\n                  message.message_id !== liveChatAgentAssistLastMessage &&\n                  !message.message.includes(\"VIRTUAL ASSISTANT CONVERSATION HISTORY\")\n                ) {\n                  liveChatAgentAssistLastMessage = message.message_id;\n                  context.commit(\"SET_USER_INPUT\", message.message);\n                  context.dispatch(\"sendUserInput\").then(() => {});\n                }\n\n                // putLiveChatMessage(\"Wow this works a treat\");\n              });\n\n              await LiveChat.watchMessages();\n              accountsSdk.init({\n                client_id: liveChatConfig.client_id,\n                onIdentityFetched: (error, data) => {\n                  if (error) {\n                    logger.error(`Could not init LiveChat accountsSdk`, error);\n                  } else {\n                    if (data && data.access_token) {\n                      context.commit(\"LIVE_CHAT_API_ACCESS_TOKEN\", data.access_token);\n                      logger.debug(\"LIVE_CHAT_API_ACCESS_TOKEN\", data.access_token);\n                    } else {\n                      const redirectUrl = `${liveChatConfig.account_url}?response_type=token&client_id=${liveChatConfig.client_id}&redirect_uri=${window.location.href}`;\n                      logger.debug(\"No LiveChat access token. Redirect page to... \", redirectUrl);\n                      window.location.href = redirectUrl;\n                    }\n                  }\n                }\n              });\n            })\n            .catch(err => {\n              logger.error(`Can't setup LiveChat`, err);\n              liveChatAssistConnectCount += 1;\n              if (liveChatAssistConnectCount < 5) {\n                setTimeout(() => {\n                  context.dispatch(\"setupLiveChatAgentAssist\");\n                }, 2000);\n              }\n            });\n        }\n      },\n      openChatWindow(context, mustLogin = true) {\n        context.commit(\"HIDE_CHAT_BUTTON\"); // toggle the chat button visibility\n        context.commit(\"STOP_TTS\"); // always reset audio to not speak when chat button is clicked\n        let siteFrame;\n        //animate the IFrame\n        if (!this.embed && !this.overlayChat) {\n          siteFrame = document.getElementById(\"site-frame\");\n        }\n        let chatButton = document.getElementById(\"chat-open-close-button\");\n        // show chat window\n        if (!context.getters.isChatOpen) {\n          if (router.currentRoute.path !== \"/\") {\n            router.push({ name: \"chat\" }); // make sure we show the main chat window\n          }\n\n          context.commit(\"SHOW_CHAT_LOADING\"); // display the loading spinner\n          let isChatUiFloating = context.getters.float;\n          setTimeout(\n            function () {\n              // wait just a bit before animating things - need the chat button to hide first\n              context.commit(\"TOGGLE_CHAT_WINDOW_DISPLAY\"); // show the chat window\n              logger.debug(`In move button left: ${isChatUiFloating}`);\n              // wait just a bit before animating things - need the chat button to hide first\n              if (chatButton) {\n                if (isChatUiFloating) {\n                  chatButton.setAttribute(\"class\", \"move-button-left-float\"); // reposition the chat button\n                } else {\n                  chatButton.setAttribute(\"class\", \"move-button-left\"); // reposition the chat button\n                }\n              }\n\n              if (!context.getters.embed && !context.getters.overlayChat && siteFrame) {\n                setTimeout(function () {\n                  siteFrame.setAttribute(\"class\", \"contract-iframe\"); // animate the iframe\n                }, 1000);\n              }\n            }.bind(this),\n            400\n          );\n          logger.debug(\"Toggle Chat: Send Login\");\n          if (mustLogin) {\n            context\n              .dispatch(\"beginTeneoSession\")\n              .then(() => {\n                logger.debug(\"Successfully logged into chat\");\n                context.commit(\"LOGGED_INTO_TENEO\");\n                setTimeout(\n                  function () {\n                    context.commit(\"SHOW_CHAT_BUTTON\"); // only show the open chat button once the session has ended\n                    context.commit(\"HIDE_CHAT_LOADING\");\n                  }.bind(this),\n                  1500\n                ); // only show the chat button after a successful login\n              })\n              .catch(err => {\n                logger.debug(\"ERROR LOGGING IN TO CHAT: \", err.teneoUrl);\n              });\n          } else {\n            context.commit(\"HIDE_CHAT_LOADING\");\n          }\n        }\n      },\n      sendFeedback(context, feedback) {\n        let queryParams =\n          setupConfig.REQUEST_PARAMETERS +\n          window.leopardConfig.requestParams +\n          context.getters.userInformationParams +\n          context.getters.timeZoneParam +\n          context.getters.ctxParameters;\n\n        queryParams = replaceString(queryParams, \"CURL_CONNECT_TIMEOUT\", \"\");\n\n        let queryObj = queryParamStringAsObject(queryParams);\n        queryObj.command = \"feedback\";\n        queryObj.text = \"\"; // it's a login we don't have to say anything yet\n        queryObj.feedback = JSON.stringify(feedback);\n\n        TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj).then(() =>\n          logger.debug(\"Feedback sent to Teneo\")\n        );\n      },\n      setUserInformation({ commit, getters }) {\n        if (!window.leopardConfig.firebase.apiKey) {\n          return;\n        }\n        if (getters.firebase) {\n          logger.debug(`SET USER INFORMATION > Located Firebase`);\n          getters.firebase.auth().onAuthStateChanged(function (user) {\n            if (user && !getters.authenticated) {\n              commit(\"USER_INFO\", { user: user }); // user is still signed in\n            }\n          });\n        } else {\n          let retyCount = 0;\n          let checkExist = setInterval(function () {\n            retyCount++;\n\n            if (getters.firebase) {\n              logger.debug(`SET USER INFORMATION > Firebase > Found on retry: ${retyCount}`);\n              getters.firebase.auth().onAuthStateChanged(function (user) {\n                if (user && !getters.authenticated) {\n                  commit(\"USER_INFO\", { user: user }); // user is still signed in\n                }\n              });\n              clearInterval(checkExist);\n            }\n\n            if (retyCount++ > 80) {\n              logger.debug(\"SET USER INFORMATION > Firebase > Giving up trying waiting!!\");\n              clearInterval(checkExist);\n            }\n          }, 100); // check every 100ms\n        }\n      },\n      logoutSocial({ commit, getters }) {\n        if (!window.leopardConfig.firebase.apiKey) {\n          return;\n        }\n        if (getters.firebase) {\n          getters.firebase\n            .auth()\n            .signOut()\n            .then(\n              () => {\n                commit(\"LOG_OUT_TENEO\");\n                commit(\"CLEAR_USER_INFO\");\n                logger.debug(\"Signed out of chat\");\n              },\n              function (error) {\n                // An error happened.\n                logger.error(error);\n              }\n            );\n        }\n      },\n      setupFirebase(context) {\n        return new Promise((resolve, _reject) => {\n          if (!window.leopardConfig.firebase.apiKey) {\n            logger.debug(\"No configuration for Firebase - skipping\");\n            resolve();\n            return;\n          }\n          if (!context.getters.firebase) {\n            Firebase.init().then(firebase => {\n              context.commit(\"SET_FIREBASE\", firebase);\n              logger.debug(`Firebase has been initiated`, firebase);\n              resolve(firebase);\n              return;\n            });\n          } else {\n            resolve(context.getters.firebase);\n            return;\n          }\n        });\n      },\n      loginSocial({ commit, getters }, socialProvider) {\n        return new Promise((resolve, reject) => {\n          if (!window.leopardConfig.firebase.apiKey) {\n            resolve();\n            return;\n          }\n          let provider = null;\n          logger.debug(`Firebase Login `, socialProvider);\n          switch (socialProvider) {\n            case \"google\":\n              provider = new getters.firebase.auth.GoogleAuthProvider();\n              break;\n            case \"microsoft\":\n              const scopes = [\"User.Read.All\"];\n              provider = new getters.firebase.auth.OAuthProvider(\"microsoft.com\");\n              provider.setCustomParameters({\n                prompt: \"select_account\",\n                tenant: window.leopardConfig.auth.microsoft.tenant,\n                domain_hint: window.leopardConfig.auth.microsoft.domainHint\n              });\n              scopes.forEach(scope => {\n                provider.addScope(scope);\n              });\n\n              break;\n            case \"facebook\":\n              provider = new getters.firebase.auth.FacebookAuthProvider();\n              break;\n            case \"github\":\n              provider = new getters.firebase.auth.GithubAuthProvider();\n              break;\n            default:\n              break;\n          }\n\n          // getters.firebase.auth().languageCode = \"en\";\n          // To apply the default browser preference instead of explicitly setting it.\n          getters.firebase.auth().useDeviceLanguage();\n\n          getters.firebase\n            .auth()\n            .signInWithPopup(provider)\n            .then(function (result) {\n              logger.debug(\"Authentication Result:\", result);\n              // This gives you a Google Access Token. You can use it to access the Google API.\n              // var token = result.credential.accessToken;\n              // The signed-in user info.\n              let user = result.user;\n              logger.debug(user);\n              if (socialProvider === \"microsoft\") {\n                let userInfo = {\n                  user: user,\n                  providerId: \"microsoft.com\",\n                  additional: {\n                    credentials: result.credential,\n                    email: result.additionalUserInfo.profile.mail,\n                    phone: result.additionalUserInfo.profile.mobilePhone,\n                    displayName: result.additionalUserInfo.profile.displayName,\n                    surname: result.additionalUserInfo.profile.surname,\n                    givenName: result.additionalUserInfo.profile.givenName,\n                    name: result.additionalUserInfo.profile.givenName,\n                    jobTitle: result.additionalUserInfo.profile.jobTitle,\n                    userPrincipleName: result.additionalUserInfo.profile.userPrincipalName,\n                    accessToken: result.credential.accessToken,\n                    providerId: \"microsoft.com\"\n                  }\n                };\n                logger.debug(`Microsoft User Info:`, userInfo);\n                commit(\"USER_INFO\", userInfo);\n              } else {\n                commit(\"USER_INFO\", {\n                  user: user\n                });\n              }\n\n              resolve();\n            })\n            .catch(function (error) {\n              // Handle Errors here.\n              // var errorCode = error.code;\n              // var errorMessage = error.message;\n              // // The email of the user's account used.\n              // var email = error.email;\n              // // The firebase.auth.AuthCredential type that was used.\n              // var credential = error.credential;\n              // ...\n              reject(error.message);\n            });\n        });\n      },\n      loginUserWithUsernameEmailPassword({ commit, getters }, loginInfo) {\n        return new Promise((resolve, reject) => {\n          if (!window.leopardConfig.firebase.apiKey) {\n            resolve();\n            return;\n          }\n          loginInfo.photoURL = getters.profileImageFromEmail(loginInfo.email);\n          getters.firebase\n            .auth()\n            .signInWithEmailAndPassword(loginInfo.email, loginInfo.password)\n            .then(user => {\n              commit(\"USER_INFO\", { user: user });\n              resolve();\n            })\n            .catch(function (error) {\n              reject(error.message);\n            });\n        });\n      },\n      registerUserWithUsernameEmailPassword({ commit, getters }, registrationInfo) {\n        return new Promise((resolve, reject) => {\n          if (!window.leopardConfig.firebase.apiKey) {\n            resolve();\n            return;\n          }\n          registrationInfo.photoURL = getters.profileImageFromEmail(registrationInfo.email);\n          getters.firebase\n            .auth()\n            .createUserWithEmailAndPassword(registrationInfo.email, registrationInfo.password)\n            .then(user => {\n              let currentUser = getters.firebase.auth().currentUser;\n              logger.debug(registrationInfo.displayName);\n              logger.debug(registrationInfo.photoURL);\n              currentUser\n                .updateProfile({\n                  displayName: registrationInfo.displayName,\n                  photoURL: registrationInfo.photoURL\n                })\n                .then(function () {\n                  logger.debug(\"User's profile info updated\");\n                })\n                .catch(function (error) {\n                  logger.error(`Unable to update user's profile information:`, error);\n                });\n              commit(\"USER_INFO\", { user: user });\n              resolve();\n            })\n            .catch(function (error) {\n              logger.error(error);\n              reject(error.message);\n            });\n        });\n      },\n      stopAudioCapture(context) {\n        if (context.getters.tts && context.getters.tts.isSpeaking()) {\n          logger.debug(\"muted TTS!\");\n          context.getters.tts.shutUp();\n        }\n        if (context.getters.tts && context.getters.tts.isObeying()) {\n          context.getters.asr.stop();\n          context.commit(\"STOP_AUDIO_CAPTURE\");\n        }\n      },\n      endTeneoSessionLite(context) {\n        context.commit(\"REMOVE_MODAL_ITEM\");\n        TIE.close(context.getters.teneoUrl, context.getters.teneoSessionId).then(() => {\n          context.commit(\"CLEAR_TENEO_SESSION_ID\");\n          logger.debug(\"Session Ended\");\n        });\n      },\n      endTeneoSession(context) {\n        context.commit(\"CLEAR_DIALOGS\");\n        context.commit(\"REMOVE_MODAL_ITEM\");\n        TIE.close(context.getters.teneoUrl, context.getters.teneoSessionId).then(() => {\n          context.commit(\"CLEAR_TENEO_SESSION_ID\");\n          context.commit(\"HIDE_CHAT_LOADING\");\n          context.commit(\"HIDE_UPLOAD_BUTTON\");\n          logger.debug(\"Session Ended\");\n        });\n      },\n      beginTeneoSession(context) {\n        let that = this;\n        context.commit(\"SHOW_CHAT_LOADING\");\n        // get the greeting message if we haven't done so for this session\n        return new Promise((resolve, reject) => {\n          let queryObj = buildQueryParamsObjectNewTeneoSession(context); // it's a login we don't have to say anything yet\n\n          TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj)\n            .then(json => {\n              handleLoginResponse(context, json, vuetify, resolve);\n            })\n            .catch(err => {\n              handleTieErrorReponse(context, err, reject);\n            });\n        });\n      },\n      async sendUserInput(context, params = \"\") {\n        // important because sometimes some weird object gets injected from chrome browser extensions\n        if (typeof params !== \"string\") {\n          params = \"\";\n        }\n        let now = new Date();\n        let currentUserInput = \"\";\n        currentUserInput = handlePromptBefore(params, now, currentUserInput, context);\n\n        playAudioConfirmation(currentUserInput);\n\n        if (!context.getters.isLiveChat) {\n          // normal user input - discussion with the VA\n          await handleTeneoResponse(currentUserInput, context, params, vuetify);\n        } else if (context.getters.isLiveChat && params.indexOf(\"command=prompt\") === -1) {\n          // live chat discussion\n          handleLiveChatResponse(currentUserInput, context);\n        }\n      },\n      captureAudio(context) {\n        context.commit(\"START_AUDIO_CAPTURE\");\n      }\n    }\n  });\n\n  // setup i18n for Leopard UI\n  setupI18n();\n\n  // Setup ASR\n  setupAsr();\n\n  // setup Live Chat\n  setupLiveChat();\n\n  // ok vuetify and store are setup\n  return { vuetify, store };\n}\n\nfunction buildQueryParamsObjectNewTeneoSession(context) {\n  let queryParams =\n    setupConfig.REQUEST_PARAMETERS +\n    window.leopardConfig.requestParams +\n    context.getters.userInformationParams +\n    context.getters.timeZoneParam +\n    context.getters.ctxParameters +\n    context.getters.locationInfo;\n  queryParams = replaceString(queryParams, \"CURL_CONNECT_TIMEOUT\", \"\");\n  let queryObj = queryParamStringAsObject(queryParams);\n  queryObj.command = \"login\";\n  queryObj.text = \"\"; // it's a login we don't have to say anything yet\n  return queryObj;\n}\n\nfunction setupLiveChat() {\n  try {\n    if (window.leopardConfig.liveChat.licenseKey) {\n      logger.debug(`About to try and setup Live Chat`);\n      setupConfig.setupLiveChat(store);\n    }\n  } catch (e) {\n    logger.info(`Error setting up LiveChat`, e);\n  }\n  postMessage = new PostMessage(store, setupConfig);\n}\n\nfunction setupAsr() {\n  try {\n    initializeASR(store, setupConfig.ASR_CORRECTIONS_MERGED);\n  } catch (err) {\n    logger.error(`Error setting up ASR and TTS`, err);\n  }\n}\n\nfunction setupI18n() {\n  Vue.use(vuexI18n.plugin, store);\n  Object.keys(TRANSLATIONS).forEach(function (key) {\n    Vue.i18n.add(key, TRANSLATIONS[key]);\n  });\n  Vue.i18n.set(setupConfig.LOCALE);\n}\n\nfunction handleTieErrorReponse(context, err, reject) {\n  context.commit(\"HIDE_CHAT_LOADING\");\n  const errResp = {\n    error: err,\n    teneoUrl: setupConfig.TENEO_URL,\n    message: \"Could not send login command to TIE\"\n  };\n  logger.debug(`Problems sending login command`, errResp);\n  context.commit(\n    \"SHOW_MESSAGE_IN_CHAT\",\n    \"Problems sending login to TIE: Is your solution published and online? Is your TIE url correct?\"\n  );\n  reject(errResp);\n}\n\nasync function handleTeneoResponse(currentUserInput, context, params, vuetify) {\n  logger.debug(\"Question 💬\", currentUserInput.trim());\n  await sleep(context.getters.responseDelay); // delay responses if needed\n  let queryObj = buildQueryParamsObjectUserInput(params, context, currentUserInput);\n  TIE.sendInput(context.getters.teneoUrl, context.getters.teneoSessionId, queryObj)\n    .then(json => {\n      // live chat assist - train\n      if (params.indexOf(\"command=train\") !== -1) {\n        return;\n      }\n\n      let tResp = handleTeneoResponseEarly(context, json);\n      handleToastResponse(tResp, context);\n      handleThemeResponse(tResp, vuetify);\n\n      let mustStop = handlePromptPollingResponse(tResp, context, params);\n      if (mustStop) {\n        return;\n      }\n      context.commit(\"HIDE_CHAT_LOADING\");\n      handleDarkLightThemeResponse(tResp, vuetify);\n      handleFeedbackFormResponse(tResp, context);\n\n      // if (\n      //   params.indexOf(\"langSwitch\") === -1 &&\n      //   (json.responseData.isNewSession || json.responseData.extraData.newsession)\n      // ) {\n      //   logger.debug(\"Session is stale.. keep chat open and continue with the new session\");\n      //   const awayMessage = \"This is a new chatbot session.\";\n      //   context.commit(\"SHOW_SIMPLE_MESSAGE_IN_CHAT\", {\n      //     message: awayMessage,\n      //     icon: \"mdi-timer\"\n      //   });\n      //   context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", awayMessage);\n      // }\n\n      handleScriptResponse(tResp, context);\n      handleDelayResponse(tResp, context, params);\n      handleUploadResponse(tResp, context);\n      handleLocationResponse(tResp, context);\n\n      logger.debug(`Response 💬: `, cleanEmptyChunks(tResp.getOutputText()));\n      const response = {\n        userInput: currentUserInput,\n        id: uuid(),\n        teneoAnswer: md.render(\n          cleanEmptyChunks(tResp.getOutputText()).replace(/onclick=\"[^\"]+\"/g, 'class=\"sendInput\"')\n        ),\n        teneoResponse: json\n      };\n      if (response.teneoResponse) {\n        let ttsText = stripHtml(cleanEmptyChunks(response.teneoAnswer));\n        if (tResp.hasParameter(\"tts\")) {\n          ttsText = stripHtml(tResp.getParameter(\"tts\"));\n        }\n        context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", \"Chat Bot Said. \" + ttsText + \".\");\n        // check if this browser supports the Web Speech API\n        if (\n          Object.prototype.hasOwnProperty.call(window, \"webkitSpeechRecognition\") &&\n          Object.prototype.hasOwnProperty.call(window, \"speechSynthesis\")\n        ) {\n          if (context.getters.tts && context.getters.speakBackResponses) {\n            context.getters.tts.say(ttsText);\n          }\n        }\n\n        let finalLeopardPayload = {\n          response,\n          mask: false\n        };\n\n        if (context.getters.askingForPassword) {\n          finalLeopardPayload.mask = true;\n        }\n\n        context.commit(\"UPDATE_CHAT_WINDOW_AND_STORAGE\", finalLeopardPayload);\n        context.commit(\"HIDE_PROGRESS_BAR\");\n        handleSignalToStartLiveChatReponse(tResp, context);\n        handleChangeChatTitleResponse(tResp, context);\n        handleTieUrlSwitchResponse(tResp, context);\n      }\n    })\n    .catch(err => {\n      const errResp = {\n        error: err,\n        teneoUrl: setupConfig.TENEO_URL\n      };\n      if (err.status && err.status === 408) {\n        logger.error(\"Request To Teneo Timed Out: 408\", errResp);\n        context.commit(\n          \"SHOW_MESSAGE_IN_CHAT\",\n          \"I'm sorry but the request timed out - Please try again.\"\n        );\n      } else if (err.status && err.status === 400) {\n        logger.error(\"Request To Teneo Timed Out: 400\", errResp);\n        context.commit(\n          \"SHOW_MESSAGE_IN_CHAT\",\n          \"I'm sorry, I wasn't able to communicate with the virtual assitant. Please check your internet connection.\"\n        );\n      } else {\n        logger.error(\"Could not communicate with Teneo\", errResp);\n        context.commit(\"SHOW_MESSAGE_IN_CHAT\", err.message);\n      }\n      context.commit(\"HIDE_PROGRESS_BAR\");\n    });\n}\n\nfunction handleChangeChatTitleResponse(tResp, context) {\n  if (tResp.hasParameter(\"chatTitle\")) {\n    let chatTitle = tResp.getParameter(\"chatTitle\");\n    if (chatTitle !== \"undefined\") {\n      context.commit(\"SET_CHAT_TITLE\", chatTitle);\n    }\n  }\n}\n\nfunction handleSignalToStartLiveChatReponse(tResp, context) {\n  if (tResp.hasParameter(\"liveChat\")) {\n    context.commit(\"START_LIVE_CHAT\");\n  }\n}\n\nfunction handleTieUrlSwitchResponse(tResp, context) {\n  if (tResp.hasParameter(\"langengineurl\") && tResp.hasParameter(\"langinput\")) {\n    context.dispatch(\"endTeneoSessionLite\");\n    context.commit(\"UPDATE_TENEO_URL\", tResp.getParameter(\"langengineurl\"));\n    context.commit(\"SET_USER_INPUT\", tResp.getParameter(\"langinput\"));\n    context.commit(\"SHOW_PROGRESS_BAR\");\n    if (tResp.hasParameter(\"lang\")) {\n      context.commit(\"UPDATE_UI_LOCALE\", tResp.getParameter(\"lang\"));\n      context.commit(\"CHANGE_ASR_TTS\", tResp.getParameter(\"lang\"));\n    }\n    if (tResp.hasParameter(\"langurl\")) {\n      context.commit(\"UPDATE_FRAME_URL\", tResp.getParameter(\"langurl\"));\n    }\n    context\n      .dispatch(\"sendUserInput\", \"&langSwitch=true\")\n      .then(logger.debug(\"Sent original lang input to new lang specific solution\"))\n      .catch(err => {\n        logger.error(\"Unable to send lang input to new lang specific solution\", err);\n        context.commit(\n          \"SHOW_MESSAGE_IN_CHAT\",\n          \"Unable to send lang input to new lang specific solution: \" + err.message\n        );\n      });\n  }\n}\n\nfunction handlePromptPollingResponse(tResp, context, params) {\n  let mustStop = false;\n  if (tResp.hasParameter(\"numActiveFlows\")) {\n    // deal with polling\n    let numActiveFlows = parseInt(tResp.getParameter(\"numActiveFlows\"));\n    if (numActiveFlows > 0) {\n      // mid dialog stop polling\n      context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\n      logger.debug(\"Stop polling - there active dialogs\");\n    } else if (context.getters.isPromptPollingActive) {\n      // setup the polling again if needed\n      if (\n        !context.getters.showButtonOnly &&\n        context.getters.isChatOpen &&\n        context.getters.getActivePromptInterval === null\n      ) {\n        logger.debug(\"Start up Prompt Trigger Polling\");\n        let interval = setInterval(function () {\n          context.dispatch(\"sendUserInput\", \"&command=prompt\");\n        }, context.getters.getPromptPollingIntervalInMilliseconds);\n        context.commit(\"SET_PROMPT_TRIGGER_INTERVAL\", interval);\n      } else if (!context.getters.isChatOpen) {\n        logger.debug(`Stop prompt trigger polling - chat is closed`);\n        context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\n      }\n    }\n  } else if (!tResp.hasParameter(\"numActiveFlows\") && context.getters.isPromptPollingActive) {\n    console.groupCollapsed(\n      `%c Config Error!! ⚠ %c Leopard Chat UI 💬 %c`,\n      \"background:#C60909 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\",\n      \"background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\",\n      \"background:transparent\"\n    );\n    logger.debug(\n      \"Prompt polling is active but you are not returning the numActiveFlows from Teneo\"\n    );\n    logger.debug(\n      \"Documentation: https://jolzee.gitbook.io/leopard/configuration/prompt-trigger-polling\"\n    );\n    console.groupEnd();\n  }\n  if (params.indexOf(\"command=prompt\") !== -1 && cleanEmptyChunks(tResp.getOutputText()) === \"\") {\n    logger.debug(`Poll returned nothing..`);\n    mustStop = true;\n  } else if (\n    params !== \"\" &&\n    params.indexOf(\"command=prompt\") !== -1 &&\n    cleanEmptyChunks(tResp.getOutputText()) !== \"\"\n  ) {\n    try {\n      var audio = new Audio(require(\"@/assets/notification.mp3\"));\n      audio.play();\n    } catch {}\n  }\n  return mustStop;\n}\n\nfunction buildQueryParamsObjectUserInput(params, context, currentUserInput) {\n  let queryParams =\n    (setupConfig.SEND_CTX_PARAMS === \"all\" ? setupConfig.REQUEST_PARAMETERS + params : params) +\n    context.getters.userInformationParams +\n    window.leopardConfig.requestParams +\n    context.getters.timeZoneParam +\n    context.getters.ctxParameters;\n  queryParams = replaceString(queryParams, \"CURL_CONNECT_TIMEOUT\", \"\");\n  let queryObj = queryParamStringAsObject(queryParams);\n  queryObj.text = currentUserInput.trim();\n  return queryObj;\n}\n\nfunction handleDarkLightThemeResponse(tResp, vuetify) {\n  if (tResp.hasParameter(\"theme\") && tResp.getParameter(\"theme\") === \"dark\") {\n    vuetify.framework.theme.dark = true;\n  } else if (tResp.hasParameter(\"theme\") && tResp.getParameter(\"theme\") === \"light\") {\n    vuetify.framework.theme.dark = false;\n  }\n}\n\nfunction handleFeedbackFormResponse(tResp, context) {\n  if (tResp.hasParameter(\"offerFeedbackForm\")) {\n    const feedbackConfig = tResp.getParameter(\"offerFeedbackForm\");\n    context.commit(\"ADD_FEEDBACK_FORM\", feedbackConfig);\n  } else {\n    context.commit(\"CLEAR_FEEDBACK_FORM\");\n  }\n}\n\nfunction handleTeneoResponseEarly(context, json) {\n  context.commit(\"SET_TENEO_SESSION_ID\", json.sessionId);\n  logger.info(\"PARSED Teneo Resp: \", json);\n  let tResp = TIE.wrap(json);\n  return tResp;\n}\n\nfunction handleToastResponse(tResp, context) {\n  if (tResp.hasParameter(\"toast\")) {\n    context.commit(\"SET_SNOTIFY\", tResp.getParameter(\"toast\"));\n  }\n}\n\nfunction handleThemeResponse(tResp, vuetify) {\n  if (tResp.hasParameter(\"theme\")) {\n    Object.assign(vuetify.framework.theme.themes.light, tResp.getParameter(\"theme\"));\n  }\n}\n\nfunction handleScriptResponse(tResp, context) {\n  if (tResp.hasParameter(\"script\")) {\n    let theScript = decodeURIComponent(tResp.getParameter(\"script\"));\n    if (context.getters.embed) {\n      postMessage.sendMessageToParent(\"runLeopardScript|\" + theScript);\n    } else {\n      // run locally\n      eval(theScript);\n    }\n  }\n}\n\nfunction handleUploadResponse(tResp, context) {\n  if (tResp.hasParameter(\"inputType\") && tResp.getParameter(\"inputType\") === \"upload\") {\n    context.commit(\"SHOW_UPLOAD_BUTTON\");\n  }\n}\n\nfunction handleDelayResponse(tResp, context, params) {\n  if (tResp.hasParameter(\"command\") && tResp.getParameter(\"command\") === \"delay\") {\n    context.commit(\"SHOW_RESPONSE_DELAY\");\n    context.commit(\"SET_USER_INPUT\", \"\");\n    context\n      .dispatch(\"sendUserInput\", \"&command=continue\")\n      .then(logger.debug(`Continue with long operation`))\n      .catch(err => {\n        logger.error(\"Unable to continue conversation\", err);\n        context.commit(\"SHOW_MESSAGE_IN_CHAT\", \"We're sorry for the inconvience: \" + err.message);\n      });\n  }\n  if (params.indexOf(\"command=continue\") !== -1) {\n    context.commit(\"HIDE_RESPONSE_DELAY\");\n  }\n}\n\nfunction handleLocationResponse(tResp, context) {\n  if (tResp.hasParameter(\"inputType\") && tResp.getParameter(\"inputType\").startsWith(\"location\")) {\n    setupConfig\n      .getLocator()\n      .then(function (position) {\n        // we now have the user's lat and long\n        logger.debug(`${position.coords.latitude}, ${position.coords.longitude}`);\n        if (tResp.getParameter(\"inputType\") === \"locationLatLong\") {\n          // send the lat and long\n          context\n            .dispatch(\n              \"sendUserInput\",\n              \"&locationLatLong=\" +\n                encodeURI(position.coords.latitude + \",\" + position.coords.longitude)\n            )\n            .then(\n              logger.debug(\n                `Sent user's lat and long: ${position.coords.latitude}, ${position.coords.longitude}`\n              )\n            )\n            .catch(err => {\n              logger.error(\"Unable to send lat and long info\", err);\n              context.commit(\n                \"SHOW_MESSAGE_IN_CHAT\",\n                \"We were unable to obtain your location information.: \" + err.message\n              );\n            });\n        } else if (window.leopardConfig.locationIqKey) {\n          // good we have a licence key we can send all location information back\n          let locationRequestType = tResp.getParameter(\"inputType\");\n          superagent\n            .get(\n              `https://us1.locationiq.com/v1/reverse.php?key=${\n                window.leopardConfig.locationIqKey\n              }&lat=${position.coords.latitude}&lon=${\n                position.coords.longitude\n              }&format=json&normalizecity=1&t=${new Date().valueOf()}`\n            )\n            .accept(\"application/json\")\n            .then(res => {\n              let data = res.body;\n              let queryParam = `&${locationRequestType}=`;\n              if (locationRequestType === \"locationJson\") {\n                queryParam += encodeURI(JSON.stringify(data));\n              } else if (locationRequestType === \"locationZip\") {\n                queryParam += encodeURI(data.address.postcode);\n              } else if (locationRequestType === \"locationCityStateZip\") {\n                queryParam += encodeURI(\n                  `${data.address.city}, ${data.address.state} ${data.address.postcode}`\n                );\n              }\n              context\n                .dispatch(\"sendUserInput\", queryParam)\n                .then(\n                  logger.debug(\n                    `Sent user's location information: ${data.address.city}, ${data.address.state} ${data.address.postcode}`\n                  )\n                )\n                .catch(err => {\n                  logger.error(\"Unable to send user location\", err);\n                  context.commit(\n                    \"SHOW_MESSAGE_IN_CHAT\",\n                    \"We were unable to obtain your location information.: \" + err.message\n                  );\n                });\n            })\n            .catch(err => logger.error(err));\n        } else if (\n          !window.leopardConfig.locationIqKey &&\n          tResp.getParameter(\"inputType\") ===\n            (\"locationCityStateZip\" || \"locationZip\" || \"locationJson\")\n        ) {\n          // no good. Asking for location information that requires a licence  key\n          context.commit(\n            \"SHOW_MESSAGE_IN_CHAT\",\n            \"A licence key for https://locationiq.com/ is needed to obtain the requested location information. Check the documentation.\"\n          );\n        }\n      })\n      .catch(function (err) {\n        logger.error(\"Position Error \", err);\n      });\n  }\n}\n\nfunction handleLiveChatResponse(currentUserInput, context) {\n  // send the input to live chat agent and save user input to history\n  let newUserInput = {\n    type: \"userInput\",\n    text: currentUserInput,\n    bodyText: \"\",\n    hasExtraData: false\n  };\n  context.commit(\"PUSH_USER_INPUT_TO_DIALOG\", newUserInput);\n  if (!setupConfig.USE_SESSION_STORAGE) {\n    localStorage.setItem(\n      STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\n      JSON.stringify(context.getters.dialog)\n    );\n  }\n  context.commit(\n    \"SET_DIALOG_HISTORY\",\n    JSON.parse(sessionStorage.getItem(STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY))\n  );\n  if (context.getters.dialogHistory === null) {\n    context.commit(\"SET_DIALOG_HISTORY\", context.getters.dialog);\n  } else {\n    context.commit(\"PUSH_USER_INPUT_TO_DIALOG_HISTORY\", newUserInput);\n  }\n  sessionStorage.setItem(\n    STORAGE_KEY + setupConfig.TENEO_CHAT_HISTORY,\n    JSON.stringify(context.getters.dialogHistory)\n  );\n  setupConfig.liveChat.sendMessage(currentUserInput.trim());\n  context.commit(\"HIDE_PROGRESS_BAR\");\n  context.commit(\"CLEAR_USER_INPUT\");\n}\n\nfunction playAudioConfirmation(currentUserInput) {\n  if (currentUserInput) {\n    try {\n      var audio = new Audio(require(\"@/assets/notification.mp3\"));\n      audio.play();\n    } catch {}\n  }\n}\n\nfunction handlePromptBefore(params, now, currentUserInput, context) {\n  if (params.indexOf(\"command=prompt\") === -1) {\n    logger.debug(\"Updating last interaction time in localstorage\");\n    localStorage.setItem(STORAGE_KEY + setupConfig.TENEO_LAST_INTERACTION_DATE, now.getTime());\n    currentUserInput = stripHtml(context.getters.userInput);\n    context.commit(\"CLEAR_USER_INPUT\");\n    // send user input to Teneo when a live chat has not begun\n    if (context.getters.tts && context.getters.tts.isSpeaking()) {\n      // tts is speaking something. Let's shut it up\n      context.getters.tts.shutUp();\n    }\n    context.commit(\"HIDE_CUSTOM_MODAL\");\n    context.commit(\"HIDE_CHAT_MODAL\");\n    context.commit(\"REMOVE_MODAL_ITEM\");\n  }\n  return currentUserInput;\n}\n\nfunction handleLoginResponse(context, json, vuetify, resolve) {\n  context.commit(\"SET_TENEO_SESSION_ID\", json.sessionId);\n  logger.info(\"PARSED Teneo Resp: \", json);\n  const tResp = TIE.wrap(json);\n  context.commit(\"HIDE_CHAT_LOADING\");\n  if (tResp.hasParameter(\"theme\")) {\n    Object.assign(vuetify.framework.theme.themes.light, tResp.getParameter(\"theme\"));\n  }\n  if (tResp.hasParameter(\"toast\")) {\n    context.commit(\"SET_SNOTIFY\", tResp.getParameter(\"toast\"));\n  }\n  if (tResp.hasParameter(\"emergency\")) {\n    context.commit(\"SET_EMERGENCY_CONFIG\", tResp.getParameter(\"emergency\"));\n  }\n  if (tResp.hasParameter(\"numActiveFlows\")) {\n    let numActiveFlows = parseInt(tResp.getParameter(\"numActiveFlows\"));\n    if (numActiveFlows > 0) {\n      // mid dialog stop polling\n      context.commit(\"CLEAR_PROMPT_TRIGGER_INTERVAL\");\n      logger.debug(\"Stop polling - there active dialogs\");\n    } else if (context.getters.isPromptPollingActive) {\n      // setup the polling again if needed\n      if (!context.getters.showButtonOnly && context.getters.getActivePromptInterval === null) {\n        logger.debug(\"Start up Prompt Trigger Polling\");\n        let interval = setInterval(function () {\n          context.dispatch(\"sendUserInput\", \"&command=prompt\");\n        }, context.getters.getPromptPollingIntervalInMilliseconds);\n        context.commit(\"SET_PROMPT_TRIGGER_INTERVAL\", interval);\n      }\n    }\n  } else if (!tResp.hasParameter(\"numActiveFlows\") && context.getters.isPromptPollingActive) {\n    console.groupCollapsed(\n      `%c Config Error!! ⚠ %c Leopard Chat UI 💬 %c`,\n      \"background:#C60909 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff\",\n      \"background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff\",\n      \"background:transparent\"\n    );\n    logger.error(\n      \"Prompt polling is active but you are not returning the numActiveFlows from Teneo\"\n    );\n    logger.error(\n      \"Documentation: https://jolzee.gitbook.io/leopard/configuration/prompt-trigger-polling\"\n    );\n    console.groupEnd();\n  }\n  context.commit(\"HIDE_CHAT_LOADING\"); // about to show the greeting - hide the chat loading spinner\n  logger.debug(`Login Message from Teneo: ${cleanEmptyChunks(tResp.getOutputText())}`);\n  let hasExtraData = false;\n  if (\n    Object.keys(json.output.parameters).some(function (k) {\n      return ~k.indexOf(\"extensions\");\n    }) ||\n    tResp.hasParameter(\"liveChat\")\n  ) {\n    hasExtraData = true;\n  }\n  const response = {\n    type: \"reply\",\n    id: uuid(),\n    text: md.render(\n      cleanEmptyChunks(tResp.getOutputText()).replace(/onclick=\"[^\"]+\"/g, 'class=\"sendInput\"')\n    ),\n    bodyText: \"\",\n    teneoResponse: json,\n    hasExtraData: hasExtraData\n  };\n  // sessionStorage.setItem(STORAGE_KEY + TENEO_CHAT_HISTORY, JSON.stringify(response))\n  context.commit(\"PUSH_RESPONSE_TO_DIALOG\", response); // push the getting message onto the dialog\n  context.commit(\"SET_ACCESIBLE_ANOUNCEMENT\", response.text);\n  if (hasExtraData) {\n    context.commit(\"SHOW_CHAT_MODAL\", response);\n  }\n  context.commit(\"LOGGED_INTO_TENEO\");\n  resolve();\n}\n","'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","module.exports = global.EventSource;\n","const logger = require(\"@/utils/logging\").getLogger(\"livechat-config.js\");\nconst config = {\n  client_id: \"3cac7818a284ebd152ff74b34f814ea8\",\n  server_url: \"https://us-central1-livechat-experiments.cloudfunctions.net/restApi\",\n  account_url: \"https://accounts.livechatinc.com/\"\n};\n\nexport default config;\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","const BaseApi = require('../common/base-api');\n\nconst IS_PERSISENT = false;\n\nclass MemoryStorage extends BaseApi {\n  constructor() {\n    super(IS_PERSISENT);\n  }\n}\n\nmodule.exports = new MemoryStorage();\n","'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = true;\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n","module.exports = __webpack_public_path__ + \"assets/media/notification.55342729.mp3\";","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Listening.vue?vue&type=style&index=0&lang=css&\"","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      wasOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip spaces after \">\" and re-calculate offset\n  initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  wasOutdented = false;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    if (state.sCount[nextLine] < state.blkIndent) wasOutdented = true;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !wasOutdented) {\n      // This line is inside the blockquote.\n\n      // skip spaces after \">\" and re-calculate offset\n      initial = offset = state.sCount[nextLine] + pos - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self.close();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.close = function() {\n  debug('close');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","'use strict';\n\nvar eventUtils = require('./event')\n  , JSON3 = require('json3')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON3.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      setTimeout(function() {\n        try {\n          // When the iframe is not loaded, IE raises an exception\n          // on 'contentWindow'.\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        } catch (x) {\n          // intentionally empty\n        }\n      }, 0);\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* eslint no-undef: \"off\", new-cap: \"off\" */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n","/**\n * vue-snotify v3.2.0\n * (c) 2018 artemsky <mr.artemsky@gmail.com>\n * @license MIT\n */\nimport Vue from 'vue';\n\n/**\r\n * Toast position\r\n */\r\nvar SnotifyPosition;\r\n(function (SnotifyPosition) {\r\n    SnotifyPosition[\"leftTop\"] = \"leftTop\";\r\n    SnotifyPosition[\"leftCenter\"] = \"leftCenter\";\r\n    SnotifyPosition[\"leftBottom\"] = \"leftBottom\";\r\n    SnotifyPosition[\"rightTop\"] = \"rightTop\";\r\n    SnotifyPosition[\"rightCenter\"] = \"rightCenter\";\r\n    SnotifyPosition[\"rightBottom\"] = \"rightBottom\";\r\n    SnotifyPosition[\"centerTop\"] = \"centerTop\";\r\n    SnotifyPosition[\"centerCenter\"] = \"centerCenter\";\r\n    SnotifyPosition[\"centerBottom\"] = \"centerBottom\";\r\n})(SnotifyPosition || (SnotifyPosition = {}));\n\n/**\r\n * Toast style.\r\n */\r\nvar SnotifyStyle = {\r\n    simple: 'simple',\r\n    success: 'success',\r\n    error: 'error',\r\n    warning: 'warning',\r\n    info: 'info',\r\n    async: 'async',\r\n    confirm: 'confirm',\r\n    prompt: 'prompt'\r\n};\n\nvar script = Vue.extend({\r\n    props: ['toast'],\r\n    data: function () {\r\n        return {\r\n            isPromptFocused: false,\r\n        };\r\n    },\r\n    methods: {\r\n        valueChanged: function (e) {\r\n            this.toast.value = e.target.value;\r\n            this.toast.eventEmitter.$emit('input');\r\n        }\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__ = script;\n            \n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"snotifyToast__input\",class:{'snotifyToast__input--filled': _vm.isPromptFocused}},[_c('input',{staticClass:\"snotifyToast__input__field\",attrs:{\"type\":\"text\",\"id\":_vm.toast.id},on:{\"input\":_vm.valueChanged,\"focus\":function($event){_vm.isPromptFocused = true;},\"blur\":function($event){_vm.isPromptFocused = !!_vm.toast.value.length;}}}),_vm._v(\" \"),_c('label',{staticClass:\"snotifyToast__input__label\",attrs:{\"for\":_vm.toast.id}},[_c('span',{staticClass:\"snotifyToast__input__labelContent\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.config.placeholder)))])])])};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* component normalizer */\n  function __vue_normalize__(\n    template, style, script$$1,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script$$1 === 'function' ? script$$1.options : script$$1) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__.styles || (__vue_create_injector__.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var SnotifyPrompt = __vue_normalize__(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    __vue_create_injector__,\n    undefined\n  )\n\nvar script$1 = Vue.extend({\r\n    props: ['toast'],\r\n    methods: {\r\n        remove: function () {\r\n            this.$snotify.remove(this.toast.id);\r\n        }\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$1 = script$1;\n            \n/* template */\nvar __vue_render__$1 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snotifyToast__buttons\"},_vm._l((_vm.toast.config.buttons),function(button){return _c('button',{class:[{'snotifyToast__buttons--bold': button.bold}, button.className],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();button.action ? button.action(_vm.toast) : _vm.remove();}}},[_vm._v(\"\\n    \"+_vm._s(button.text)+\"\\n  \")])}))};\nvar __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  const __vue_inject_styles__$1 = undefined;\n  /* scoped */\n  const __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$1 = false;\n  /* component normalizer */\n  function __vue_normalize__$1(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$1() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$1.styles || (__vue_create_injector__$1.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var SnotifyButton = __vue_normalize__$1(\n    { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n    __vue_inject_styles__$1,\n    __vue_script__$1,\n    __vue_scope_id__$1,\n    __vue_is_functional_template__$1,\n    __vue_module_identifier__$1,\n    __vue_create_injector__$1,\n    undefined\n  )\n\nvar script$2 = Vue.extend({\r\n    props: ['toastData'],\r\n    components: {\r\n        SnotifyPrompt: SnotifyPrompt,\r\n        SnotifyButton: SnotifyButton\r\n    },\r\n    data: function () {\r\n        return {\r\n            toast: this.toastData,\r\n            animationFrame: null,\r\n            state: {\r\n                paused: false,\r\n                progress: 0,\r\n                animation: '',\r\n                isDestroying: false,\r\n                promptType: SnotifyStyle.prompt\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        /**\r\n         * Initialize base toast config\r\n         */\r\n        initToast: function () {\r\n            if (this.toast.config.timeout > 0) {\r\n                this.startTimeout(0);\r\n            }\r\n        },\r\n        onClick: function () {\r\n            this.toast.eventEmitter.$emit('click');\r\n            if (this.toast.config.closeOnClick) {\r\n                this.$snotify.remove(this.toast.id);\r\n            }\r\n        },\r\n        onMouseEnter: function () {\r\n            this.toast.eventEmitter.$emit('mouseenter');\r\n            if (this.toast.config.pauseOnHover) {\r\n                this.state.paused = true;\r\n            }\r\n        },\r\n        onMouseLeave: function () {\r\n            if (this.toast.config.pauseOnHover && this.toast.config.timeout) {\r\n                this.state.paused = false;\r\n                this.startTimeout(this.toast.config.timeout * this.state.progress);\r\n            }\r\n            this.toast.eventEmitter.$emit('mouseleave');\r\n        },\r\n        /**\r\n         * Remove toast completely after animation\r\n         */\r\n        onExitTransitionEnd: function () {\r\n            if (this.state.isDestroying) {\r\n                return;\r\n            }\r\n            this.initToast();\r\n            this.toast.eventEmitter.$emit('shown');\r\n        },\r\n        /**\r\n         * Start progress bar\r\n         * @param startTime {number}\r\n         * @default 0\r\n         */\r\n        startTimeout: function (startTime) {\r\n            var _this = this;\r\n            if (startTime === void 0) { startTime = 0; }\r\n            var start = performance.now();\r\n            var calculate = function () {\r\n                _this.animationFrame = requestAnimationFrame(function (timestamp) {\r\n                    var runtime = timestamp + startTime - start;\r\n                    var progress = Math.min(runtime / _this.toast.config.timeout, 1);\r\n                    if (_this.state.paused) {\r\n                        cancelAnimationFrame(_this.animationFrame);\r\n                    }\r\n                    else if (runtime < _this.toast.config.timeout) {\r\n                        _this.state.progress = progress;\r\n                        calculate();\r\n                    }\r\n                    else {\r\n                        _this.state.progress = 1;\r\n                        cancelAnimationFrame(_this.animationFrame);\r\n                        _this.$snotify.emitter.$emit('remove', _this.toast.id);\r\n                    }\r\n                });\r\n            };\r\n            calculate();\r\n        },\r\n        /**\r\n         * Trigger beforeDestroy lifecycle. Removes toast\r\n         */\r\n        onRemove: function () {\r\n            var _this = this;\r\n            this.state.isDestroying = true;\r\n            this.$emit('stateChanged', 'beforeHide');\r\n            this.toast.eventEmitter.$emit('beforeHide');\r\n            this.state.animation = this.toast.config.animation.exit;\r\n            setTimeout(function () {\r\n                _this.$emit('stateChanged', 'hidden');\r\n                _this.state.animation = 'snotifyToast--out';\r\n                _this.toast.eventEmitter.$emit('hidden');\r\n                setTimeout(function () { return _this.$snotify.remove(_this.toast.id, true); }, _this.toast.config.animation.time / 2);\r\n            }, this.toast.config.animation.time / 2);\r\n        },\r\n    },\r\n    created: function () {\r\n        var _this = this;\r\n        this.$snotify.emitter.$on('toastChanged', function (toast) {\r\n            if (_this.toast.id === toast.id) {\r\n                _this.initToast();\r\n            }\r\n        });\r\n        this.$snotify.emitter.$on('remove', function (id) {\r\n            if (_this.toast.id === id) {\r\n                _this.onRemove();\r\n            }\r\n        });\r\n    },\r\n    mounted: function () {\r\n        var _this = this;\r\n        this.$nextTick(function () {\r\n            _this.toast.eventEmitter.$emit('mounted');\r\n            _this.state.animation = 'snotifyToast--in';\r\n            _this.$nextTick(function () {\r\n                setTimeout(function () {\r\n                    _this.$emit('stateChanged', 'beforeShow');\r\n                    _this.toast.eventEmitter.$emit('beforeShow');\r\n                    _this.state.animation = _this.toast.config.animation.enter;\r\n                }, _this.toast.config.animation.time / 5); // time to show toast push animation (snotifyToast--in)\r\n            });\r\n        });\r\n    },\r\n    destroyed: function () {\r\n        cancelAnimationFrame(this.animationFrame);\r\n        this.toast.eventEmitter.$emit('destroyed');\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$2 = script$2;\n            \n/* template */\nvar __vue_render__$2 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snotifyToast animated\",class:['snotify-' + _vm.toast.config.type,\n          _vm.state.animation,\n          _vm.toast.valid === undefined ? '' : (_vm.toast.valid ? 'snotifyToast--valid' : 'snotifyToast--invalid')\n        ],style:({\n          '-webkit-animation-duration': _vm.toast.config.animation.time + 'ms',\n          'animation-duration': _vm.toast.config.animation.time + 'ms',\n          '-webkit-transition': _vm.toast.config.animation.time + 'ms',\n          transition: _vm.toast.config.animation.time + 'ms'\n        }),on:{\"click\":_vm.onClick,\"mouseenter\":_vm.onMouseEnter,\"mouseleave\":_vm.onMouseLeave,\"animationend\":_vm.onExitTransitionEnd}},[(_vm.toast.config.showProgressBar && _vm.toast.config.timeout > 0)?_c('div',{staticClass:\"snotifyToast__progressBar\"},[_c('span',{staticClass:\"snotifyToast__progressBar__percentage\",style:({'width': (_vm.state.progress * 100) + '%'})})]):_vm._e(),_vm._v(\" \"),(!_vm.toast.config.html)?_c('div',{staticClass:\"snotifyToast__inner\",class:{'snotifyToast__noIcon': _vm.toast.config.icon === false}},[(_vm.toast.title)?_c('div',{staticClass:\"snotifyToast__title\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.title,_vm.toast.config.titleMaxLength)))]):_vm._e(),_vm._v(\" \"),(_vm.toast.body)?_c('div',{staticClass:\"snotifyToast__body\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.toast.body,_vm.toast.config.bodyMaxLength)))]):_vm._e(),_vm._v(\" \"),(_vm.toast.config.type === _vm.state.promptType)?_c('snotify-prompt',{attrs:{\"toast\":_vm.toast}}):_vm._e(),_vm._v(\" \"),(typeof _vm.toast.config.icon === 'undefined')?_c('div',{class:['snotify-icon', 'snotify-icon--' + _vm.toast.config.type]}):(_vm.toast.config.icon !== false)?_c('div',[_c('img',{staticClass:\"snotify-icon\",attrs:{\"src\":_vm.toast.config.icon}})]):_vm._e()],1):_c('div',{staticClass:\"snotifyToast__inner\",domProps:{\"innerHTML\":_vm._s(_vm.toast.config.html)}}),_vm._v(\" \"),(_vm.toast.config.buttons)?_c('snotify-button',{attrs:{\"toast\":_vm.toast}}):_vm._e()],1)};\nvar __vue_staticRenderFns__$2 = [];\n\n  /* style */\n  const __vue_inject_styles__$2 = undefined;\n  /* scoped */\n  const __vue_scope_id__$2 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$2 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$2 = false;\n  /* component normalizer */\n  function __vue_normalize__$2(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$2() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$2.styles || (__vue_create_injector__$2.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var Toast = __vue_normalize__$2(\n    { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n    __vue_inject_styles__$2,\n    __vue_script__$2,\n    __vue_scope_id__$2,\n    __vue_is_functional_template__$2,\n    __vue_module_identifier__$2,\n    __vue_create_injector__$2,\n    undefined\n  )\n\nvar script$3 = Vue.extend({\r\n    components: {\r\n        Toast: Toast\r\n    },\r\n    data: function () {\r\n        return {\r\n            /**\r\n             * Toasts array\r\n             */\r\n            notifications: {\r\n                left_top: [],\r\n                left_center: [],\r\n                left_bottom: [],\r\n                right_top: [],\r\n                right_center: [],\r\n                right_bottom: [],\r\n                center_top: [],\r\n                center_center: [],\r\n                center_bottom: []\r\n            },\r\n            /**\r\n             * Helper for slice pipe (maxOnScreen)\r\n             */\r\n            dockSize_a: 0,\r\n            /**\r\n             * Helper for slice pipe (maxOnScreen)\r\n             */\r\n            dockSize_b: 0,\r\n            /**\r\n             * Helper for slice pipe (maxAtPosition)\r\n             */\r\n            blockSize_a: 0,\r\n            /**\r\n             * Helper for slice pipe (maxAtPosition)\r\n             */\r\n            blockSize_b: 0,\r\n            /**\r\n             * Backdrop Opacity\r\n             */\r\n            backdrop: -1,\r\n            /**\r\n             * How many toasts with backdrop in current queue\r\n             */\r\n            withBackdrop: [],\r\n        };\r\n    },\r\n    methods: {\r\n        setOptions: function (toasts) {\r\n            if (this.$snotify.config.global.newOnTop) {\r\n                this.dockSize_a = -this.$snotify.config.global.maxOnScreen;\r\n                this.dockSize_b = undefined;\r\n                this.blockSize_a = -this.$snotify.config.global.maxAtPosition;\r\n                this.blockSize_b = undefined;\r\n                this.withBackdrop = toasts.filter(function (toast) { return toast.config.backdrop >= 0; });\r\n            }\r\n            else {\r\n                this.dockSize_a = 0;\r\n                this.dockSize_b = this.$snotify.config.global.maxOnScreen;\r\n                this.blockSize_a = 0;\r\n                this.blockSize_b = this.$snotify.config.global.maxAtPosition;\r\n                this.withBackdrop = toasts.filter(function (toast) { return toast.config.backdrop >= 0; }).reverse();\r\n            }\r\n            this.notifications = this.splitToasts(toasts.slice(this.dockSize_a, this.dockSize_b));\r\n            this.stateChanged('mounted');\r\n        },\r\n        // TODO: fix backdrop if more than one toast called in a row\r\n        /**\r\n         * Changes the backdrop opacity\r\n         * @param {SnotifyEvent} event\r\n         */\r\n        stateChanged: function (event) {\r\n            if (!this.withBackdrop.length) {\r\n                return;\r\n            }\r\n            switch (event) {\r\n                case 'mounted':\r\n                    if (this.backdrop < 0) {\r\n                        this.backdrop = 0;\r\n                    }\r\n                    break;\r\n                case 'beforeShow':\r\n                    this.backdrop = this.withBackdrop[this.withBackdrop.length - 1].config.backdrop;\r\n                    break;\r\n                case 'beforeHide':\r\n                    if (this.withBackdrop.length === 1) {\r\n                        this.backdrop = 0;\r\n                    }\r\n                    break;\r\n                case 'hidden':\r\n                    if (this.withBackdrop.length === 1) {\r\n                        this.backdrop = -1;\r\n                    }\r\n                    break;\r\n            }\r\n        },\r\n        /**\r\n         * Split toasts toasts into different objects\r\n         * @param {SnotifyToast[]} toasts\r\n         * @returns {SnotifyNotifications}\r\n         */\r\n        splitToasts: function (toasts) {\r\n            var result = {};\r\n            for (var property in SnotifyPosition) {\r\n                if (SnotifyPosition.hasOwnProperty(property)) {\r\n                    result[SnotifyPosition[property]] = [];\r\n                }\r\n            }\r\n            toasts.forEach(function (toast) {\r\n                result[toast.config.position].push(toast);\r\n            });\r\n            return result;\r\n        },\r\n    },\r\n    created: function () {\r\n        var _this = this;\r\n        this.$snotify.emitter.$on('snotify', function (toasts) {\r\n            _this.setOptions(toasts);\r\n        });\r\n    }\r\n});\n\n/* script */\n\n            const __vue_script__$3 = script$3;\n            \n/* template */\nvar __vue_render__$3 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.backdrop >= 0)?_c('div',{staticClass:\"snotify-backdrop\",style:({opacity: _vm.backdrop})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.notifications),function(position,index){return _c('div',{staticClass:\"snotify\",class:'snotify-' + index},_vm._l((_vm.notifications[index].slice(_vm.blockSize_a, _vm.blockSize_b)),function(toast){return _c('toast',{key:toast.id,attrs:{\"toastData\":toast},on:{\"stateChanged\":_vm.stateChanged}})}))})],2)};\nvar __vue_staticRenderFns__$3 = [];\n\n  /* style */\n  const __vue_inject_styles__$3 = undefined;\n  /* scoped */\n  const __vue_scope_id__$3 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$3 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$3 = false;\n  /* component normalizer */\n  function __vue_normalize__$3(\n    template, style, script,\n    scope, functional, moduleIdentifier,\n    createInjector, createInjectorSSR\n  ) {\n    const component = (typeof script === 'function' ? script.options : script) || {};\n\n    if (!component.render) {\n      component.render = template.render;\n      component.staticRenderFns = template.staticRenderFns;\n      component._compiled = true;\n\n      if (functional) component.functional = true;\n    }\n\n    component._scopeId = scope;\n\n    return component\n  }\n  /* style inject */\n  function __vue_create_injector__$3() {\n    const head = document.head || document.getElementsByTagName('head')[0];\n    const styles = __vue_create_injector__$3.styles || (__vue_create_injector__$3.styles = {});\n    const isOldIE =\n      typeof navigator !== 'undefined' &&\n      /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n    return function addStyle(id, css) {\n      if (document.querySelector('style[data-vue-ssr-id~=\"' + id + '\"]')) return // SSR styles are present.\n\n      const group = isOldIE ? css.media || 'default' : id;\n      const style = styles[group] || (styles[group] = { ids: [], parts: [], element: undefined });\n\n      if (!style.ids.includes(id)) {\n        let code = css.source;\n        let index = style.ids.length;\n\n        style.ids.push(id);\n\n        if (true && css.map) {\n          // https://developer.chrome.com/devtools/docs/javascript-debugging\n          // this makes source maps inside style tags work properly in Chrome\n          code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\n          // http://stackoverflow.com/a/26603875\n          code +=\n            '\\n/*# sourceMappingURL=data:application/json;base64,' +\n            btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\n            ' */';\n        }\n\n        if (isOldIE) {\n          style.element = style.element || document.querySelector('style[data-group=' + group + ']');\n        }\n\n        if (!style.element) {\n          const el = style.element = document.createElement('style');\n          el.type = 'text/css';\n\n          if (css.media) el.setAttribute('media', css.media);\n          if (isOldIE) {\n            el.setAttribute('data-group', group);\n            el.setAttribute('data-next-index', '0');\n          }\n\n          head.appendChild(el);\n        }\n\n        if (isOldIE) {\n          index = parseInt(style.element.getAttribute('data-next-index'));\n          style.element.setAttribute('data-next-index', index + 1);\n        }\n\n        if (style.element.styleSheet) {\n          style.parts.push(code);\n          style.element.styleSheet.cssText = style.parts\n            .filter(Boolean)\n            .join('\\n');\n        } else {\n          const textNode = document.createTextNode(code);\n          const nodes = style.element.childNodes;\n          if (nodes[index]) style.element.removeChild(nodes[index]);\n          if (nodes.length) style.element.insertBefore(textNode, nodes[index]);\n          else style.element.appendChild(textNode);\n        }\n      }\n    }\n  }\n  /* style inject SSR */\n  \n\n  \n  var Snotify = __vue_normalize__$3(\n    { render: __vue_render__$3, staticRenderFns: __vue_staticRenderFns__$3 },\n    __vue_inject_styles__$3,\n    __vue_script__$3,\n    __vue_scope_id__$3,\n    __vue_is_functional_template__$3,\n    __vue_module_identifier__$3,\n    __vue_create_injector__$3,\n    undefined\n  )\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\nvar __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\n\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\n\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\n\n/**\r\n * Toast model\r\n */\r\nvar SnotifyToast = /** @class */ (function () {\r\n    /**\r\n     *\r\n     * @param {number|string} id\r\n     * @param {string} title\r\n     * @param {string} body\r\n     * @param {SnotifyToastConfig} [config]\r\n     */\r\n    function SnotifyToast(id, title, body, config) {\r\n        var _this = this;\r\n        this.id = id;\r\n        this.title = title;\r\n        this.body = body;\r\n        this.config = config;\r\n        /**\r\n         * Emits {SnotifyEvent}\r\n         * @type {Vue}\r\n         */\r\n        this.eventEmitter = new Vue();\r\n        /**\r\n         * Holds all subscribers because we need to unsubscribe from all before toast get destroyed\r\n         * @type {Vue[]}\r\n         * @private\r\n         */\r\n        this._eventsHolder = [];\r\n        /**\r\n         * Toast validator\r\n         */\r\n        this.valid = undefined;\r\n        if (this.config.type === SnotifyStyle.prompt) {\r\n            this.value = '';\r\n        }\r\n        this.on('hidden', function () {\r\n            _this._eventsHolder.forEach(function (o) {\r\n                _this.eventEmitter.$off(o.event, o.action);\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * This callback is displayed as a global member.\r\n     * @callback action\r\n     * @param {toast} responseCode\r\n     * @returns {void}\r\n     */\r\n    /**\r\n     * Subscribe to toast events\r\n     * @param {String<SnotifyEvent>} event\r\n     * @param  {SnotifyToast~action} action\r\n     * @returns {SnotifyToast}\r\n     */\r\n    SnotifyToast.prototype.on = function (event, action) {\r\n        var _this = this;\r\n        this._eventsHolder.push({ event: event, action: action });\r\n        this.eventEmitter.$on(event, function () { return action(_this); });\r\n        return this;\r\n    };\r\n    return SnotifyToast;\r\n}());\n\n/**\r\n * Snotify default configuration object\r\n * @type {SnotifyDefaults}\r\n */\r\nvar ToastDefaults = {\r\n    global: {\r\n        newOnTop: true,\r\n        maxOnScreen: 8,\r\n        maxAtPosition: 8,\r\n        oneAtTime: false,\r\n        preventDuplicates: false\r\n    },\r\n    toast: {\r\n        type: SnotifyStyle.simple,\r\n        showProgressBar: true,\r\n        timeout: 2000,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        bodyMaxLength: 150,\r\n        titleMaxLength: 16,\r\n        backdrop: -1,\r\n        icon: undefined,\r\n        html: null,\r\n        position: SnotifyPosition.rightBottom,\r\n        animation: { enter: 'fadeIn', exit: 'fadeOut', time: 400 }\r\n    },\r\n    type: (_a = {}, _a[SnotifyStyle.prompt] = {\r\n            timeout: 0,\r\n            closeOnClick: false,\r\n            buttons: [\r\n                { text: 'Ok', action: null, bold: true },\r\n                { text: 'Cancel', action: null, bold: false },\r\n            ],\r\n            placeholder: 'Enter answer here...',\r\n            type: SnotifyStyle.prompt,\r\n        }, _a[SnotifyStyle.confirm] = {\r\n            timeout: 0,\r\n            closeOnClick: false,\r\n            buttons: [\r\n                { text: 'Ok', action: null, bold: true },\r\n                { text: 'Cancel', action: null, bold: false },\r\n            ],\r\n            type: SnotifyStyle.confirm,\r\n        }, _a[SnotifyStyle.simple] = {\r\n            type: SnotifyStyle.simple\r\n        }, _a[SnotifyStyle.success] = {\r\n            type: SnotifyStyle.success\r\n        }, _a[SnotifyStyle.error] = {\r\n            type: SnotifyStyle.error\r\n        }, _a[SnotifyStyle.warning] = {\r\n            type: SnotifyStyle.warning\r\n        }, _a[SnotifyStyle.info] = {\r\n            type: SnotifyStyle.info\r\n        }, _a[SnotifyStyle.async] = {\r\n            pauseOnHover: false,\r\n            closeOnClick: false,\r\n            timeout: 0,\r\n            showProgressBar: false,\r\n            type: SnotifyStyle.async\r\n        }, _a)\r\n};\r\nvar _a;\n\n/**\r\n * Transform arguments to Snotify object\r\n * @param target\r\n * @param {SnotifyType} propertyKey\r\n * @param {PropertyDescriptor} descriptor\r\n * @returns {Snotify}\r\n * @constructor\r\n */\r\nfunction TransformArgument(target, propertyKey, descriptor) {\r\n    if (propertyKey === SnotifyStyle.async) {\r\n        return {\r\n            value: function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var result;\r\n                if (args.length === 2) {\r\n                    result = {\r\n                        title: null,\r\n                        body: args[0],\r\n                        config: null,\r\n                        action: args[1]\r\n                    };\r\n                }\r\n                else if (args.length === 3) {\r\n                    if (typeof args[1] === 'string') {\r\n                        result = {\r\n                            title: args[1],\r\n                            body: args[0],\r\n                            config: null,\r\n                            action: args[2]\r\n                        };\r\n                    }\r\n                    else {\r\n                        result = {\r\n                            title: null,\r\n                            body: args[0],\r\n                            config: args[2],\r\n                            action: args[1]\r\n                        };\r\n                    }\r\n                }\r\n                else {\r\n                    result = {\r\n                        title: args[1],\r\n                        body: args[0],\r\n                        config: args[3],\r\n                        action: args[2]\r\n                    };\r\n                }\r\n                return descriptor.value.apply(this, [result]);\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            value: function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var result;\r\n                if (args.length === 1) {\r\n                    result = {\r\n                        title: null,\r\n                        body: args[0],\r\n                        config: null\r\n                    };\r\n                }\r\n                else if (args.length === 3) {\r\n                    result = {\r\n                        title: args[1],\r\n                        body: args[0],\r\n                        config: args[2]\r\n                    };\r\n                }\r\n                else {\r\n                    result = (_a = {\r\n                            title: null,\r\n                            config: null,\r\n                            body: args[0]\r\n                        }, _a[typeof args[1] === 'string' ? 'title' : 'config'] = args[1], _a);\r\n                }\r\n                return descriptor.value.apply(this, [result]);\r\n                var _a;\r\n            }\r\n        };\r\n    }\r\n}\n\n/**\r\n * Generates random id\r\n * @return {number}\r\n */\r\nfunction uuid() {\r\n    return Math.floor(Math.random() * (Date.now() - 1)) + 1;\r\n}\r\n/**\r\n * Simple is object check.\r\n * @param item {Object<any>}\r\n * @returns {boolean}\r\n */\r\nfunction isObject(item) {\r\n    return (item && typeof item === 'object' && !Array.isArray(item) && item !== null);\r\n}\r\n/**\r\n * Deep merge objects.\r\n * @param sources {Array<Object<any>>}\r\n * @returns {Object<any>}\r\n */\r\nfunction mergeDeep() {\r\n    var sources = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        sources[_i] = arguments[_i];\r\n    }\r\n    var target = {};\r\n    if (!sources.length) {\r\n        return target;\r\n    }\r\n    while (sources.length > 0) {\r\n        var source = sources.shift();\r\n        if (isObject(source)) {\r\n            for (var key in source) {\r\n                if (isObject(source[key])) {\r\n                    target[key] = mergeDeep(target[key], source[key]);\r\n                }\r\n                else {\r\n                    Object.assign(target, (_a = {}, _a[key] = source[key], _a));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return target;\r\n    var _a;\r\n}\n\n/**\r\n * Defines toast style depending on method name\r\n * @param target\r\n * @param {SnotifyType} propertyKey\r\n * @param {PropertyDescriptor} descriptor\r\n * @returns {{value: ((...args: any[]) => any)}}\r\n * @constructor\r\n */\r\nfunction SetToastType(target, propertyKey, descriptor) {\r\n    return {\r\n        value: function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            args[0].config = __assign({}, args[0].config, { type: propertyKey });\r\n            return descriptor.value.apply(this, args);\r\n        }\r\n    };\r\n}\n\n/**\r\n * this - create, remove, config toasts\r\n */\r\n// tslint:disable:unified-signatures\r\nvar SnotifyService = /** @class */ (function () {\r\n    function SnotifyService() {\r\n        this.emitter = new Vue();\r\n        this.notifications = [];\r\n        this.config = ToastDefaults;\r\n    }\r\n    /**\r\n     * emit changes in notifications array\r\n     */\r\n    SnotifyService.prototype.emit = function () {\r\n        this.emitter.$emit('snotify', this.notifications.slice());\r\n    };\r\n    /**\r\n     * returns SnotifyToast object\r\n     * @param id {Number}\r\n     * @return {SnotifyToast|undefined}\r\n     */\r\n    SnotifyService.prototype.get = function (id) {\r\n        return this.notifications.find(function (toast) { return toast.id === id; });\r\n    };\r\n    /**\r\n     * add SnotifyToast to notifications array\r\n     * @param toast {SnotifyToast}\r\n     */\r\n    SnotifyService.prototype.add = function (toast) {\r\n        if (this.config.global.newOnTop) {\r\n            this.notifications.unshift(toast);\r\n        }\r\n        else {\r\n            this.notifications.push(toast);\r\n        }\r\n        this.emit();\r\n    };\r\n    /**\r\n     * If ID passed, emits toast animation remove, if ID & REMOVE passed, removes toast from notifications array\r\n     * @param id {number}\r\n     * @param remove {boolean}\r\n     */\r\n    SnotifyService.prototype.remove = function (id, remove) {\r\n        if (!id) {\r\n            return this.clear();\r\n        }\r\n        else if (remove) {\r\n            this.notifications = this.notifications.filter(function (toast) { return toast.id !== id; });\r\n            return this.emit();\r\n        }\r\n        this.emitter.$emit('remove', id);\r\n    };\r\n    /**\r\n     * Clear notifications array\r\n     */\r\n    SnotifyService.prototype.clear = function () {\r\n        this.notifications = [];\r\n        this.emit();\r\n    };\r\n    SnotifyService.prototype.button = function (text, closeOnClick, action, bold) {\r\n        var _this = this;\r\n        if (closeOnClick === void 0) { closeOnClick = true; }\r\n        if (action === void 0) { action = null; }\r\n        if (bold === void 0) { bold = false; }\r\n        return {\r\n            text: text,\r\n            action: closeOnClick ? function (toast) {\r\n                action(toast);\r\n                _this.remove(toast.id);\r\n            } : action,\r\n            bold: bold\r\n        };\r\n    };\r\n    /**\r\n     * Creates toast and add it to array, returns toast id\r\n     * @param snotify {Snotify}\r\n     * @return {number}\r\n     */\r\n    SnotifyService.prototype.create = function (snotify) {\r\n        if (this.config.global.oneAtTime && this.notifications.length !== 0)\r\n            return;\r\n        if (this.config.global.preventDuplicates\r\n            && this.notifications.filter(function (t) { return t.config.type === snotify.config.type; }).length === 1)\r\n            return;\r\n        var config = mergeDeep(this.config.toast, this.config.type[snotify.config.type], snotify.config);\r\n        var toast = new SnotifyToast(config.id ? config.id : uuid(), snotify.title, snotify.body, config);\r\n        this.add(toast);\r\n        return toast;\r\n    };\r\n    SnotifyService.prototype.setDefaults = function (defaults) {\r\n        return this.config = mergeDeep(this.config, defaults);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.simple = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.success = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.error = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.info = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.warning = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.confirm = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.prompt = function (args) {\r\n        return this.create(args);\r\n    };\r\n    /**\r\n     * Transform toast arguments into {Snotify} object\r\n     */\r\n    SnotifyService.prototype.async = function (args) {\r\n        var _this = this;\r\n        var async = args.action;\r\n        var toast = this.create(args);\r\n        toast.on('mounted', function () {\r\n            async()\r\n                .then(function (next) { return _this.mergeToast(toast, next, SnotifyStyle.success); })\r\n                .catch(function (error) { return _this.mergeToast(toast, error, SnotifyStyle.error); });\r\n        });\r\n        return toast;\r\n    };\r\n    SnotifyService.prototype.mergeToast = function (toast, next, type) {\r\n        if (next.body) {\r\n            toast.body = next.body;\r\n        }\r\n        if (next.title) {\r\n            toast.title = next.title;\r\n        }\r\n        if (type) {\r\n            toast.config = mergeDeep(toast.config, this.config.global, this.config.toast[type], { type: type }, next.config);\r\n        }\r\n        else {\r\n            toast.config = mergeDeep(toast.config, next.config);\r\n        }\r\n        if (next.html) {\r\n            toast.config.html = next.html;\r\n        }\r\n        this.emit();\r\n        this.emitter.$emit('toastChanged', toast);\r\n    };\r\n    /**\r\n     * Creates empty toast with html string inside\r\n     * @param {string} html\r\n     * @param {SnotifyToastConfig} config\r\n     * @returns {number}\r\n     */\r\n    SnotifyService.prototype.html = function (html, config) {\r\n        return this.create({\r\n            title: null,\r\n            body: null,\r\n            config: __assign({}, config, { html: html })\r\n        });\r\n    };\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"simple\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"success\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"error\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"info\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"warning\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"confirm\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"prompt\", null);\r\n    __decorate([\r\n        TransformArgument\r\n        /**\r\n         * Determines current toast type and collects default configuration\r\n         */\r\n        ,\r\n        SetToastType,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", SnotifyToast)\r\n    ], SnotifyService.prototype, \"async\", null);\r\n    return SnotifyService;\r\n}());\n\nvar Plugin = {\r\n    install: function (Vue$$1, options) {\r\n        if (options === void 0) { options = {}; }\r\n        Vue$$1.filter('truncate', function (value, limit, trail) {\r\n            if (limit === void 0) { limit = 40; }\r\n            if (trail === void 0) { trail = '...'; }\r\n            return value.length > limit ? value.substring(0, limit) + trail : value;\r\n        });\r\n        var service = new SnotifyService();\r\n        service.setDefaults(options);\r\n        Vue$$1.prototype.$snotify = service;\r\n        Vue$$1.component('vue-snotify', Snotify);\r\n        // auto install\r\n        if (typeof window !== 'undefined' && window.hasOwnProperty('Vue')) {\r\n            window.Snotify = service;\r\n        }\r\n    }\r\n};\r\n// auto install\r\nif (typeof window !== 'undefined' && window.hasOwnProperty('Vue')) {\r\n    window.Vue.use(Plugin.install);\r\n}\n\nexport { SnotifyPosition, SnotifyStyle, SnotifyToast };\nexport default Plugin;\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/* vuex-i18n-store defines a vuex module to store locale translations. Make sure\n** to also include the file vuex-i18n.js to enable easy access to localized\n** strings in your vue components.\n*/\n// define a simple vuex module to handle locale translations\nvar i18nVuexModule = {\n  namespaced: true,\n  state: {\n    locale: null,\n    fallback: null,\n    translations: {}\n  },\n  mutations: {\n    // set the current locale\n    SET_LOCALE: function SET_LOCALE(state, payload) {\n      state.locale = payload.locale;\n    },\n    // add a new locale\n    ADD_LOCALE: function ADD_LOCALE(state, payload) {\n      // reduce the given translations to a single-depth tree\n      var translations = flattenTranslations(payload.translations);\n\n      if (state.translations.hasOwnProperty(payload.locale)) {\n        // get the existing translations\n        var existingTranslations = state.translations[payload.locale]; // merge the translations\n\n        state.translations[payload.locale] = Object.assign({}, existingTranslations, translations);\n      } else {\n        // just set the locale if it does not yet exist\n        state.translations[payload.locale] = translations;\n      } // make sure to notify vue of changes (this might break with new vue versions)\n\n\n      try {\n        if (state.translations.__ob__) {\n          state.translations.__ob__.dep.notify();\n        }\n      } catch (ex) {}\n    },\n    // replace existing locale information with new translations\n    REPLACE_LOCALE: function REPLACE_LOCALE(state, payload) {\n      // reduce the given translations to a single-depth tree\n      var translations = flattenTranslations(payload.translations); // replace the translations entirely\n\n      state.translations[payload.locale] = translations; // make sure to notify vue of changes (this might break with new vue versions)\n\n      try {\n        if (state.translations.__ob__) {\n          state.translations.__ob__.dep.notify();\n        }\n      } catch (ex) {}\n    },\n    // remove a locale from the store\n    REMOVE_LOCALE: function REMOVE_LOCALE(state, payload) {\n      // check if the given locale is present in the state\n      if (state.translations.hasOwnProperty(payload.locale)) {\n        // check if the current locale is the given locale to remvoe\n        if (state.locale === payload.locale) {\n          // reset the current locale\n          state.locale = null;\n        } // create a copy of the translations object\n\n\n        var translationCopy = Object.assign({}, state.translations); // remove the given locale\n\n        delete translationCopy[payload.locale]; // set the state to the new object\n\n        state.translations = translationCopy;\n      }\n    },\n    SET_FALLBACK_LOCALE: function SET_FALLBACK_LOCALE(state, payload) {\n      state.fallback = payload.locale;\n    }\n  },\n  actions: {\n    // set the current locale\n    setLocale: function setLocale(context, payload) {\n      context.commit({\n        type: 'SET_LOCALE',\n        locale: payload.locale\n      });\n    },\n    // add or extend a locale with translations\n    addLocale: function addLocale(context, payload) {\n      context.commit({\n        type: 'ADD_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    // replace locale information\n    replaceLocale: function replaceLocale(context, payload) {\n      context.commit({\n        type: 'REPLACE_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    // remove the given locale translations\n    removeLocale: function removeLocale(context, payload) {\n      context.commit({\n        type: 'REMOVE_LOCALE',\n        locale: payload.locale,\n        translations: payload.translations\n      });\n    },\n    setFallbackLocale: function setFallbackLocale(context, payload) {\n      context.commit({\n        type: 'SET_FALLBACK_LOCALE',\n        locale: payload.locale\n      });\n    }\n  }\n}; // flattenTranslations will convert object trees for translations into a\n// single-depth object tree\n\nvar flattenTranslations = function flattenTranslations(translations) {\n  var toReturn = {};\n\n  for (var i in translations) {\n    // check if the property is present\n    if (!translations.hasOwnProperty(i)) {\n      continue;\n    } // get the type of the property\n\n\n    var objType = _typeof(translations[i]); // allow unflattened array of strings\n\n\n    if (isArray(translations[i])) {\n      var count = translations[i].length;\n\n      for (var index = 0; index < count; index++) {\n        var itemType = _typeof(translations[i][index]);\n\n        if (itemType !== 'string') {\n          console.warn('i18n:', 'currently only arrays of strings are fully supported', translations[i]);\n          break;\n        }\n      }\n\n      toReturn[i] = translations[i];\n    } else if (objType == 'object' && objType !== null) {\n      var flatObject = flattenTranslations(translations[i]);\n\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        toReturn[i + '.' + x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = translations[i];\n    }\n  }\n\n  return toReturn;\n}; // check if the given object is an array\n\n\nfunction isArray(obj) {\n  return !!obj && Array === obj.constructor;\n}\n\nvar plurals = {\n  getTranslationIndex: function getTranslationIndex(languageCode, n) {\n    switch (languageCode) {\n      case 'ay': // Aymará\n\n      case 'bo': // Tibetan\n\n      case 'cgg': // Chiga\n\n      case 'dz': // Dzongkha\n\n      case 'fa': // Persian\n\n      case 'id': // Indonesian\n\n      case 'ja': // Japanese\n\n      case 'jbo': // Lojban\n\n      case 'ka': // Georgian\n\n      case 'kk': // Kazakh\n\n      case 'km': // Khmer\n\n      case 'ko': // Korean\n\n      case 'ky': // Kyrgyz\n\n      case 'lo': // Lao\n\n      case 'ms': // Malay\n\n      case 'my': // Burmese\n\n      case 'sah': // Yakut\n\n      case 'su': // Sundanese\n\n      case 'th': // Thai\n\n      case 'tt': // Tatar\n\n      case 'ug': // Uyghur\n\n      case 'vi': // Vietnamese\n\n      case 'wo': // Wolof\n\n      case 'zh':\n        // Chinese\n        // 1 form\n        return 0;\n\n      case 'is':\n        // Icelandic\n        // 2 forms\n        return n % 10 !== 1 || n % 100 === 11 ? 1 : 0;\n\n      case 'jv':\n        // Javanese\n        // 2 forms\n        return n !== 0 ? 1 : 0;\n\n      case 'mk':\n        // Macedonian\n        // 2 forms\n        return n === 1 || n % 10 === 1 ? 0 : 1;\n\n      case 'ach': // Acholi\n\n      case 'ak': // Akan\n\n      case 'am': // Amharic\n\n      case 'arn': // Mapudungun\n\n      case 'br': // Breton\n\n      case 'fil': // Filipino\n\n      case 'fr': // French\n\n      case 'gun': // Gun\n\n      case 'ln': // Lingala\n\n      case 'mfe': // Mauritian Creole\n\n      case 'mg': // Malagasy\n\n      case 'mi': // Maori\n\n      case 'oc': // Occitan\n\n      case 'pt_BR': // Brazilian Portuguese\n\n      case 'tg': // Tajik\n\n      case 'ti': // Tigrinya\n\n      case 'tr': // Turkish\n\n      case 'uz': // Uzbek\n\n      case 'wa': // Walloon\n\n      /* eslint-disable */\n\n      /* Disable \"Duplicate case label\" because there are 2 forms of Chinese plurals */\n\n      case 'zh':\n        // Chinese\n\n        /* eslint-enable */\n        // 2 forms\n        return n > 1 ? 1 : 0;\n\n      case 'lv':\n        // Latvian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n !== 0 ? 1 : 2;\n\n      case 'lt':\n        // Lithuanian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'be': // Belarusian\n\n      case 'bs': // Bosnian\n\n      case 'hr': // Croatian\n\n      case 'ru': // Russian\n\n      case 'sr': // Serbian\n\n      case 'uk':\n        // Ukrainian\n        // 3 forms\n        return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'mnk':\n        // Mandinka\n        // 3 forms\n        return n === 0 ? 0 : n === 1 ? 1 : 2;\n\n      case 'ro':\n        // Romanian\n        // 3 forms\n        return n === 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2;\n\n      case 'pl':\n        // Polish\n        // 3 forms\n        return n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'cs': // Czech\n\n      case 'sk':\n        // Slovak\n        // 3 forms\n        return n === 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2;\n\n      case 'csb':\n        // Kashubian\n        // 3 forms\n        return n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;\n\n      case 'sl':\n        // Slovenian\n        // 4 forms\n        return n % 100 === 1 ? 0 : n % 100 === 2 ? 1 : n % 100 === 3 || n % 100 === 4 ? 2 : 3;\n\n      case 'mt':\n        // Maltese\n        // 4 forms\n        return n === 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3;\n\n      case 'gd':\n        // Scottish Gaelic\n        // 4 forms\n        return n === 1 || n === 11 ? 0 : n === 2 || n === 12 ? 1 : n > 2 && n < 20 ? 2 : 3;\n\n      case 'cy':\n        // Welsh\n        // 4 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n !== 8 && n !== 11 ? 2 : 3;\n\n      case 'kw':\n        // Cornish\n        // 4 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n === 3 ? 2 : 3;\n\n      case 'ga':\n        // Irish\n        // 5 forms\n        return n === 1 ? 0 : n === 2 ? 1 : n > 2 && n < 7 ? 2 : n > 6 && n < 11 ? 3 : 4;\n\n      case 'ar':\n        // Arabic\n        // 6 forms\n        return n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;\n\n      default:\n        // Everything else\n        return n !== 1 ? 1 : 0;\n    }\n  }\n};\n\nvar VuexI18nPlugin = {}; // internationalization plugin for vue js using vuex\n\nVuexI18nPlugin.install = function install(Vue, store, config) {\n  // TODO: remove this block for next major update (API break)\n  if (typeof arguments[2] === 'string' || typeof arguments[3] === 'string') {\n    console.warn('i18n: Registering the plugin vuex-i18n with a string for `moduleName` or `identifiers` is deprecated. Use a configuration object instead.', 'https://github.com/dkfbasel/vuex-i18n#setup');\n    config = {\n      moduleName: arguments[2],\n      identifiers: arguments[3]\n    };\n  } // merge default options with user supplied options\n\n\n  config = Object.assign({\n    warnings: true,\n    moduleName: 'i18n',\n    identifiers: ['{', '}'],\n    preserveState: false,\n    translateFilterName: 'translate',\n    translateInFilterName: 'translateIn',\n    onTranslationNotFound: function onTranslationNotFound() {}\n  }, config); // define module name and identifiers as constants to prevent any changes\n\n  var moduleName = config.moduleName;\n  var identifiers = config.identifiers;\n  var translateFilterName = config.translateFilterName;\n  var translateInFilterName = config.translateInFilterName; // initialize the onTranslationNotFound function and make sure it is actually\n  // a function\n\n  var onTranslationNotFound = config.onTranslationNotFound;\n\n  if (typeof onTranslationNotFound !== 'function') {\n    console.error('i18n: i18n config option onTranslationNotFound must be a function');\n\n    onTranslationNotFound = function onTranslationNotFound() {};\n  } // register the i18n module in the vuex store\n  // preserveState can be used via configuration if server side rendering is used\n\n\n  store.registerModule(moduleName, i18nVuexModule, {\n    preserveState: config.preserveState\n  }); // check if the plugin was correctly initialized\n\n  if (store.state.hasOwnProperty(moduleName) === false) {\n    console.error('i18n: i18n vuex module is not correctly initialized. Please check the module name:', moduleName); // always return the key if module is not initialized correctly\n\n    Vue.prototype.$i18n = function (key) {\n      return key;\n    };\n\n    Vue.prototype.$getLanguage = function () {\n      return null;\n    };\n\n    Vue.prototype.$setLanguage = function () {\n      console.error('i18n: i18n vuex module is not correctly initialized');\n    };\n\n    return;\n  }\n\n  var render = renderFn(identifiers, config.warnings); // get localized string from store. note that we pass the arguments passed\n  // to the function directly to the translateInLanguage function\n\n  var translate = function $t() {\n    // get the current language from the store\n    var locale = store.state[moduleName].locale;\n    return translateInLanguage.apply(void 0, [locale].concat(Array.prototype.slice.call(arguments)));\n  }; // get localized string from store in a given language if available.\n  // there are two possible signatures for the function.\n  // we will check the arguments to make up the options passed.\n  // 1: locale, key, options, pluralization\n  // 2: locale, key, defaultValue, options, pluralization\n\n\n  var translateInLanguage = function translateInLanguage(locale) {\n    // read the function arguments\n    var args = arguments; // initialize options\n\n    var key = '';\n    var defaultValue = '';\n    var options = {};\n    var pluralization = null;\n    var count = args.length; // check if a default value was specified and fill options accordingly\n\n    if (count >= 3 && typeof args[2] === 'string') {\n      key = args[1];\n      defaultValue = args[2];\n\n      if (count > 3) {\n        options = args[3];\n      }\n\n      if (count > 4) {\n        pluralization = args[4];\n      }\n    } else {\n      key = args[1]; // default value was not specified and is therefore the same as the key\n\n      defaultValue = key;\n\n      if (count > 2) {\n        options = args[2];\n      }\n\n      if (count > 3) {\n        pluralization = args[3];\n      }\n    } // return the default value if the locale is not set (could happen on initialization)\n\n\n    if (!locale) {\n      if (config.warnings) console.warn('i18n: i18n locale is not set when trying to access translations:', key);\n      return defaultValue;\n    } // get the translations from the store\n\n\n    var translations = store.state[moduleName].translations; // get the last resort fallback from the store\n\n    var fallback = store.state[moduleName].fallback; // split locale by - to support partial fallback for regional locales\n    // like de-CH, en-UK\n\n    var localeRegional = locale.split('-'); // flag for translation to exist or not\n\n    var translationExists = true; // check if the language exists in the store. return the key if not\n\n    if (translations.hasOwnProperty(locale) === false) {\n      translationExists = false; // check if the key exists in the store. return the key if not\n    } else if (translations[locale].hasOwnProperty(key) === false) {\n      translationExists = false;\n    } // return the value from the store\n\n\n    if (translationExists === true) {\n      return render(locale, translations[locale][key], options, pluralization);\n    } // check if a regional locale translation would be available for the key\n    // i.e. de for de-CH\n\n\n    if (localeRegional.length > 1 && translations.hasOwnProperty(localeRegional[0]) === true && translations[localeRegional[0]].hasOwnProperty(key) === true) {\n      return render(localeRegional[0], translations[localeRegional[0]][key], options, pluralization);\n    } // invoke a method if a translation is not found\n\n\n    var asyncTranslation = onTranslationNotFound(locale, key, defaultValue); // resolve async translations by updating the store\n\n    if (asyncTranslation) {\n      Promise.resolve(asyncTranslation).then(function (value) {\n        var additionalTranslations = {};\n        additionalTranslations[key] = value;\n        addLocale(locale, additionalTranslations);\n      });\n    } // check if a vaild fallback exists in the store.\n    // return the default value if not\n\n\n    if (translations.hasOwnProperty(fallback) === false) {\n      return render(locale, defaultValue, options, pluralization);\n    } // check if the key exists in the fallback locale in the store.\n    // return the default value if not\n\n\n    if (translations[fallback].hasOwnProperty(key) === false) {\n      return render(fallback, defaultValue, options, pluralization);\n    }\n\n    return render(locale, translations[fallback][key], options, pluralization);\n  }; // add a filter function to translate in a given locale (i.e. {{ 'something' | translateIn('en') }})\n\n\n  var translateInLanguageFilter = function translateInLanguageFilter(key, locale) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    return translateInLanguage.apply(void 0, [locale, key].concat(args));\n  }; // check if the given key exists in the current locale\n\n\n  var checkKeyExists = function checkKeyExists(key) {\n    var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fallback';\n    // get the current language from the store\n    var locale = store.state[moduleName].locale;\n    var fallback = store.state[moduleName].fallback;\n    var translations = store.state[moduleName].translations; // check the current translation\n\n    if (translations.hasOwnProperty(locale) && translations[locale].hasOwnProperty(key)) {\n      return true;\n    }\n\n    if (scope == 'strict') {\n      return false;\n    } // check any localized translations\n\n\n    var localeRegional = locale.split('-');\n\n    if (localeRegional.length > 1 && translations.hasOwnProperty(localeRegional[0]) && translations[localeRegional[0]].hasOwnProperty(key)) {\n      return true;\n    }\n\n    if (scope == 'locale') {\n      return false;\n    } // check if a fallback locale exists\n\n\n    if (translations.hasOwnProperty(fallback) && translations[fallback].hasOwnProperty(key)) {\n      return true;\n    } // key does not exist in the store\n\n\n    return false;\n  }; // set fallback locale\n\n\n  var setFallbackLocale = function setFallbackLocale(locale) {\n    store.dispatch({\n      type: \"\".concat(moduleName, \"/setFallbackLocale\"),\n      locale: locale\n    });\n  }; // set the current locale\n\n\n  var setLocale = function setLocale(locale) {\n    store.dispatch({\n      type: \"\".concat(moduleName, \"/setLocale\"),\n      locale: locale\n    });\n  }; // get the current locale\n\n\n  var getLocale = function getLocale() {\n    return store.state[moduleName].locale;\n  }; // get all available locales\n\n\n  var getLocales = function getLocales() {\n    return Object.keys(store.state[moduleName].translations);\n  }; // add predefined translations to the store (keeping existing information)\n\n\n  var addLocale = function addLocale(locale, translations) {\n    return store.dispatch({\n      type: \"\".concat(moduleName, \"/addLocale\"),\n      locale: locale,\n      translations: translations\n    });\n  }; // replace all locale information in the store\n\n\n  var replaceLocale = function replaceLocale(locale, translations) {\n    return store.dispatch({\n      type: \"\".concat(moduleName, \"/replaceLocale\"),\n      locale: locale,\n      translations: translations\n    });\n  }; // remove the givne locale from the store\n\n\n  var removeLocale = function removeLocale(locale) {\n    if (store.state[moduleName].translations.hasOwnProperty(locale)) {\n      store.dispatch({\n        type: \"\".concat(moduleName, \"/removeLocale\"),\n        locale: locale\n      });\n    }\n  }; // we are phasing out the exists function\n\n\n  var phaseOutExistsFn = function phaseOutExistsFn(locale) {\n    if (config.warnings) console.warn('i18n: $i18n.exists is depreceated. Please use $i18n.localeExists instead. It provides exactly the same functionality.');\n    return checkLocaleExists(locale);\n  }; // check if the given locale is already loaded\n\n\n  var checkLocaleExists = function checkLocaleExists(locale) {\n    return store.state[moduleName].translations.hasOwnProperty(locale);\n  }; // register vue prototype methods\n\n\n  Vue.prototype.$i18n = {\n    locale: getLocale,\n    locales: getLocales,\n    set: setLocale,\n    add: addLocale,\n    replace: replaceLocale,\n    remove: removeLocale,\n    fallback: setFallbackLocale,\n    localeExists: checkLocaleExists,\n    keyExists: checkKeyExists,\n    translate: translate,\n    translateIn: translateInLanguage,\n    exists: phaseOutExistsFn\n  }; // register global methods\n\n  Vue.i18n = {\n    locale: getLocale,\n    locales: getLocales,\n    set: setLocale,\n    add: addLocale,\n    replace: replaceLocale,\n    remove: removeLocale,\n    fallback: setFallbackLocale,\n    translate: translate,\n    translateIn: translateInLanguage,\n    localeExists: checkLocaleExists,\n    keyExists: checkKeyExists,\n    exists: phaseOutExistsFn\n  }; // register the translation function on the vue instance directly\n\n  Vue.prototype.$t = translate; // register the specific language translation function on the vue instance directly\n\n  Vue.prototype.$tlang = translateInLanguage; // register a filter function for translations\n\n  Vue.filter(translateFilterName, translate);\n  Vue.filter(translateInFilterName, translateInLanguageFilter);\n}; // renderFn will initialize a function to render the variable substitutions in\n// the translation string. identifiers specify the tags will be used to find\n// variable substitutions, i.e. {test} or {{test}}, note that we are using a\n// closure to avoid recompilation of the regular expression to match tags on\n// every render cycle.\n\n\nvar renderFn = function renderFn(identifiers) {\n  var warnings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (identifiers == null || identifiers.length != 2) {\n    console.warn('i18n: You must specify the start and end character identifying variable substitutions');\n  } // construct a regular expression ot find variable substitutions, i.e. {test}\n\n\n  var matcher = new RegExp('' + identifiers[0] + '{1}(\\\\w{1}|\\\\w.+?)' + identifiers[1] + '{1}', 'g'); // define the replacement function\n\n  var replace = function replace(translation, replacements) {\n    // check if the object has a replace property\n    if (!translation.replace) {\n      return translation;\n    }\n\n    return translation.replace(matcher, function (placeholder) {\n      // remove the identifiers (can be set on the module level)\n      var key = placeholder.replace(identifiers[0], '').replace(identifiers[1], '');\n\n      if (replacements[key] !== undefined) {\n        return replacements[key];\n      } // warn user that the placeholder has not been found\n\n\n      if (warnings) {\n        console.group ? console.group('i18n: Not all placeholders found') : console.warn('i18n: Not all placeholders found');\n        console.warn('Text:', translation);\n        console.warn('Placeholder:', placeholder);\n\n        if (console.groupEnd) {\n          console.groupEnd();\n        }\n      } // return the original placeholder\n\n\n      return placeholder;\n    });\n  }; // the render function will replace variable substitutions and prepare the\n  // translations for rendering\n\n\n  var render = function render(locale, translation) {\n    var replacements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var pluralization = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    // get the type of the property\n    var objType = _typeof(translation);\n\n    var pluralizationType = _typeof(pluralization);\n\n    var resolvePlaceholders = function resolvePlaceholders() {\n      if (isArray$1(translation)) {\n        // replace the placeholder elements in all sub-items\n        return translation.map(function (item) {\n          return replace(item, replacements, false);\n        });\n      } else if (objType === 'string') {\n        return replace(translation, replacements, true);\n      }\n    }; // return translation item directly\n\n\n    if (pluralization === null) {\n      return resolvePlaceholders();\n    } // check if pluralization value is countable\n\n\n    if (pluralizationType !== 'number') {\n      if (warnings) console.warn('i18n: pluralization is not a number');\n      return resolvePlaceholders();\n    } // --- handle pluralizations ---\n    // replace all placeholders\n\n\n    var resolvedTranslation = resolvePlaceholders(); // initialize pluralizations\n\n    var pluralizations = null; // if translations are already an array and have more than one entry,\n    // we will not perform a split operation on :::\n\n    if (isArray$1(resolvedTranslation) && resolvedTranslation.length > 0) {\n      pluralizations = resolvedTranslation;\n    } else {\n      // split translation strings by ::: to find create the pluralization array\n      pluralizations = resolvedTranslation.split(':::');\n    } // determine the pluralization version to use by locale\n\n\n    var index = plurals.getTranslationIndex(locale, pluralization); // check if the specified index is present in the pluralization\n\n    if (typeof pluralizations[index] === 'undefined') {\n      if (warnings) {\n        console.warn('i18n: pluralization not provided in locale', translation, locale, index);\n      } // return the first element of the pluralization by default\n\n\n      return pluralizations[0].trim();\n    } // return the requested item from the pluralizations\n\n\n    return pluralizations[index].trim();\n  }; // return the render function to the caller\n\n\n  return render;\n}; // check if the given object is an array\n\n\nfunction isArray$1(obj) {\n  return !!obj && Array === obj.constructor;\n}\n\n// import the vuex module for localization\n\nvar index = {\n  store: i18nVuexModule,\n  plugin: VuexI18nPlugin\n};\n\nexport default index;\n","const Promise = require('bluebird');\n\nclass BaseApi {\n  constructor(persistent) {\n    this.persistent = persistent;\n\n    this._synchronous = false;\n\n    // for MemoryStorage\n    this._lootBag = {};\n\n    // by default there is no general timeout for all keys\n    this._timeout = null;\n  }\n\n  set synchronous(isSync) {\n    this._synchronous = isSync;\n  }\n\n  get synchronous() {\n    return this._synchronous;\n  }\n\n  // general timeout: this applies to all keys put without a specific timeout.\n  set timeoutInSeconds(timeInSeconds) {\n    this._timeout = timeInSeconds;\n  }\n\n  get timeoutInSeconds() {\n    return this._timeout;\n  }\n\n  getSync(key, defaultValue = null) {\n    if (this.persistent) { // local storage\n      if (key in localStorage) {\n        const obj = JSON.parse(localStorage.getItem(key));\n\n        if (this._timeout === null && obj.kt === null) {\n          return obj.v;\n        } else {\n          if (this._isCacheStale(obj)) {\n            this.removeKeySync(key);\n            return defaultValue;\n          } else {\n            return obj.v;\n          }\n        }\n      } else {\n        return defaultValue;\n      }\n    } else { // in memory\n      if (key in this._lootBag) {\n        if (this._timeout === null && this._lootBag.kt === null) {\n          return this._lootBag[key].v;\n        } else {\n          if (this._isCacheStale(this._lootBag[key])) {\n            this.removeKeySync(key);\n            return defaultValue;\n          } else {\n            return this._lootBag[key].v;\n          }\n        }\n      } else {\n        return defaultValue;\n      }\n    }\n  }\n\n  // If key does not exist:\n  //   if 2nd arg is passed, i.e., default is defined, return default\n  //   if 2nd arg is not passed, return null\n  //\n  // Note: \"kt\" property is the key-based timeout (in seconds), optionally sent\n  // to put method.\n  get(key, defaultValue = null) {\n    if (this.synchronous) {\n      return this.getSync(key, defaultValue);\n    }\n\n    return new Promise((resolve) => {\n      if (this.persistent) { // local storage\n        if (key in localStorage) {\n          const obj = JSON.parse(localStorage.getItem(key));\n\n          if (this._timeout === null && obj.kt === null) {\n            resolve(obj.v);\n          } else {\n            if (this._isCacheStale(obj)) {\n              this.removeKey(key).then(() => {\n                resolve(defaultValue);\n              })\n            } else {\n              resolve(obj.v);\n            }\n          }\n        } else {\n          resolve(defaultValue);\n        }\n      } else { // in memory\n        if (key in this._lootBag) {\n          if (this._timeout === null && this._lootBag.kt === null) {\n            resolve(this._lootBag[key].v);\n          } else {\n            if (this._isCacheStale(this._lootBag[key])) {\n              this.removeKey(key).then(() => {\n                resolve(defaultValue);\n              });\n            } else {\n              resolve(this._lootBag[key].v);\n            }\n          }\n        } else {\n          resolve(defaultValue);\n        }\n      }\n    });\n  }\n\n  putSync(key, val, keyTimeout = null) {\n    const item = {v: val, t: this._getNow(), kt: keyTimeout};\n    if (this.persistent) {\n      localStorage.setItem(key, JSON.stringify(item));\n    } else {\n      this._lootBag[key] = item;\n    }\n  }\n\n  // keyTimeout is optional. If passed in, its value overrides general\n  // timeoutInSeconds setting.\n  put(key, val, keyTimeout = null) {\n    if (this.synchronous) {\n      this.putSync(key, val, keyTimeout);\n      return;\n    }\n\n    return new Promise((resolve) => {\n      const item = {v: val, t: this._getNow(), kt: keyTimeout};\n\n      if (this.persistent) {\n        localStorage.setItem(key, JSON.stringify(item));\n        resolve();\n      } else {\n        this._lootBag[key] = item;\n        resolve();\n      }\n    });\n  }\n\n  removeKeySync(key) {\n    if (this.persistent) {\n      if (key in localStorage) {\n        localStorage.removeItem(key);\n      }\n    } else {\n      if (key in this._lootBag) {\n        delete this._lootBag[key];\n      }\n    }\n  }\n\n  removeKey(key) {\n    if (this.synchronous) {\n      this.removeKeySync(key);\n      return;\n    }\n\n    return new Promise((resolve) => {\n      if (this.persistent) {\n        if (key in localStorage) {\n          localStorage.removeItem(key);\n        }\n      } else {\n        if (key in this._lootBag) {\n          delete this._lootBag[key];\n        }\n      }\n      resolve();\n    });\n  }\n\n  runGarbageCollectorSync() {\n    const garbageKeys = [];\n\n    if (this.persistent) {\n      for (const key of Object.keys(localStorage)) {\n        const obj = JSON.parse(localStorage.getItem(key));\n        if (!(this._timeout === null && obj.kt === null)) {\n          if (this._isCacheStale(obj)) {\n            localStorage.removeItem(key);\n            garbageKeys.push(key);\n          }\n        }\n      }\n    } else {\n      for (const key of Object.keys(this._lootBag)) {\n        if (!(this._timeout === null && this._lootBag[key].kt === null)) {\n          if (this._isCacheStale(this._lootBag[key])) {\n            delete this._lootBag[key];\n            garbageKeys.push(key);\n          }\n        }\n      }\n    }\n    return garbageKeys;\n  }\n\n  // Garbage Collector: remove all keys that:\n  //\n  //   have either a global or key level timeout\n  //\n  //   AND\n  //\n  //   timeout has expired\n  //\n  // ttl-localstorage lazily removes keys if not explicitly removed via\n  // #removeKey; if a key is accessed either via #get or $keyExists, the key is\n  // removed if a timeout indicates it's expired. There is no automatic garbage\n  // collector always running to periodically clean things up.\n  //\n  // This method allows the developer to manually clean up all keys that have an\n  // expired timeout.\n  runGarbageCollector() {\n    if (this.synchronous) {\n      return this.runGarbageCollectorSync();\n    }\n\n    return new Promise((resolve) => {\n      const garbageKeys = [];\n      if (this.persistent) {\n        for (const key of Object.keys(localStorage)) {\n          const obj = JSON.parse(localStorage.getItem(key));\n          if (!(this._timeout === null && obj.kt === null)) {\n            if (this._isCacheStale(obj)) {\n              localStorage.removeItem(key);\n              garbageKeys.push(key);\n            }\n          }\n        }\n      } else {\n        for (const key of Object.keys(this._lootBag)) {\n          if (!(this._timeout === null && this._lootBag[key].kt === null)) {\n            if (this._isCacheStale(this._lootBag[key])) {\n              delete this._lootBag[key];\n              garbageKeys.push(key);\n            }\n          }\n        }\n      }\n      resolve(garbageKeys);\n    });\n  }\n\n  keyExistsSync(key) {\n    if (this.persistent) { // local storage\n      if (key in localStorage) {\n        const obj = JSON.parse(localStorage.getItem(key));\n        if (this._timeout === null && obj.kt === null) {\n          return true;\n        } else {\n          if (this._isCacheStale(obj)) {\n            this.removeKeySync();\n            return false;\n          } else {\n            return true;\n          }\n        }\n      } else {\n        return false;\n      }\n    } else { // in memory\n      if (key in this._lootBag) {\n        if (this._timeout === null && this._lootBag.kt === null) {\n          return true;\n        } else {\n          if (this._isCacheStale(this._lootBag[key])) {\n            this.removeKeySync(key);\n            return false;\n          } else {\n            return true;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n  }\n\n  // If a TTL is set and the key has expired, its existence is set free. :)\n  keyExists(key) {\n    if (this.synchronous) {\n      return this.keyExistsSync(key);\n    }\n\n    return new Promise((resolve) => {\n      if (this.persistent) { // local storage\n        if (key in localStorage) {\n          const obj = JSON.parse(localStorage.getItem(key));\n          if (this._timeout === null && obj.kt === null) {\n            resolve(true);\n          } else {\n            if (this._isCacheStale(obj)) {\n              this.removeKey(key).then(() => {\n                resolve(false);\n              });\n            } else {\n              resolve(true);\n            }\n          }\n        } else {\n          resolve(false);\n        }\n      } else { // in memory\n        if (key in this._lootBag) {\n          if (this._timeout === null && this._lootBag.kt === null) {\n            resolve(true);\n          } else {\n            if (this._isCacheStale(this._lootBag[key])) {\n              resolve(false);\n              this.removeKey(key).then(() => {\n              });\n            } else {\n              resolve(true);\n            }\n          }\n        } else {\n          resolve(false);\n        }\n      }\n    });\n  }\n\n  clearSync() {\n    if (this.persistent) {\n      localStorage.clear();\n    } else {\n      this._lootBag = {};\n    }\n  }\n\n  clear() {\n    if (this.synchronous) {\n      this.clearSync();\n      return;\n    }\n\n    return new Promise((resolve) => {\n      if (this.persistent) {\n        localStorage.clear();\n        resolve();\n      } else {\n        this._lootBag = {};\n        resolve();\n      }\n    });\n  }\n\n  keysSync() {\n     return this.persistent ? Object.keys(localStorage) : Object.keys(this._lootBag);\n   }\n\n  keys() {\n    if (this.synchronous) {\n      return this.keysSync();\n    }\n\n    return new Promise((resolve) => {\n      if (this.persistent) {\n        resolve(Object.keys(localStorage));\n      } else {\n        resolve(Object.keys(this._lootBag));\n      }\n    });\n  }\n\n  isLocalStorageAvailableSync() {\n    const key = new Date().getTime().toString();\n    const val = key;\n\n    try {\n      localStorage.setItem(key, val);\n      localStorage.removeItem(key);\n      return true;\n    } catch(ex) {\n      return false;\n    }\n  }\n\n  isLocalStorageAvailable() {\n    if (this.synchronous) {\n      return this.isLocalStorageAvailableSync();\n    }\n\n    return new Promise((resolve) => {\n      const key = new Date().getTime().toString();\n      const val = key;\n\n      try {\n        localStorage.setItem(key, val);\n        localStorage.removeItem(key);\n        resolve(true);\n      } catch(ex) {\n        resolve(false);\n      }\n    });\n  }\n\n  _getNow() {\n    return parseInt(Date.now() / 1000, 10);\n   }\n\n   // This method is called only when at least one of the timeouts has been set.\n   // key timeout has priority. general this._timeout is used only if key\n   // timeout hasn't been set.\n   _isCacheStale(obj) {\n     const timestamp = obj.t;\n     const timeout = obj.kt === null ? this._timeout : obj.kt;\n     return (this._getNow() - timestamp) > timeout;\n   }\n\n}\n\nmodule.exports = BaseApi;\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.7.2\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nAsync.prototype.invokeLater = AsyncInvokeLater;\nAsync.prototype.invoke = AsyncInvoke;\nAsync.prototype.settlePromises = AsyncSettlePromises;\n\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context,\n    enableAsyncHooks, disableAsyncHooks) {\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nvar deferUnhandledRejectionCheck;\n(function() {\n    var promises = [];\n\n    function unhandledRejectionCheck() {\n        for (var i = 0; i < promises.length; ++i) {\n            promises[i]._notifyUnhandledRejection();\n        }\n        unhandledRejectionClear();\n    }\n\n    function unhandledRejectionClear() {\n        promises.length = 0;\n    }\n\n    deferUnhandledRejectionCheck = function(promise) {\n        promises.push(promise);\n        setTimeout(unhandledRejectionCheck, 1);\n    };\n\n    es5.defineProperty(Promise, \"_unhandledRejectionCheck\", {\n        value: unhandledRejectionCheck\n    });\n    es5.defineProperty(Promise, \"_unhandledRejectionClear\", {\n        value: unhandledRejectionClear\n    });\n})();\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    deferUnhandledRejectionCheck(this);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var context = Promise._getContext();\n    possiblyUnhandledRejection = util.contextBind(context, fn);\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var context = Promise._getContext();\n    unhandledRejectionHandled = util.contextBind(context, fn);\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\n\nvar legacyHandlers = {\n    unhandledrejection: {\n        before: function() {\n            var ret = util.global.onunhandledrejection;\n            util.global.onunhandledrejection = null;\n            return ret;\n        },\n        after: function(fn) {\n            util.global.onunhandledrejection = fn;\n        }\n    },\n    rejectionhandled: {\n        before: function() {\n            var ret = util.global.onrejectionhandled;\n            util.global.onrejectionhandled = null;\n            return ret;\n        },\n        after: function(fn) {\n            util.global.onrejectionhandled = fn;\n        }\n    }\n};\n\nvar fireDomEvent = (function() {\n    var dispatch = function(legacy, e) {\n        if (legacy) {\n            var fn;\n            try {\n                fn = legacy.before();\n                return !util.global.dispatchEvent(e);\n            } finally {\n                legacy.after(fn);\n            }\n        } else {\n            return !util.global.dispatchEvent(e);\n        }\n    };\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                var domEvent = new CustomEvent(name, eventData);\n                es5.defineProperty(\n                    domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(\n                    domEvent, \"reason\", {value: event.reason});\n\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var domEvent = new Event(name, {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name, false, true,\n                    event);\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    if (\"asyncHooks\" in opts && util.nodeSupportsAsyncResource) {\n        var prev = config.asyncHooks;\n        var cur = !!opts.asyncHooks;\n        if (prev !== cur) {\n            config.asyncHooks = cur;\n            if (cur) {\n                enableAsyncHooks();\n            } else {\n                disableAsyncHooks();\n            }\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = (firstLineError.stack || \"\").split(\"\\n\");\n    var lastStackLines = (lastLineError.stack || \"\").split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false,\n    asyncHooks: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    asyncHooks: function() {\n        return config.asyncHooks;\n    },\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var context = Promise._getContext();\n                        holder.fn = util.contextBind(context, holder.fn);\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var context = Promise._getContext();\n    this._callback = util.contextBind(context, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n    if (util.isArray(promises)) {\n        for (var i = 0; i < promises.length; ++i) {\n            var maybePromise = promises[i];\n            if (maybePromise instanceof Promise) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        }\n    }\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\nutil.setReflectHandler(reflectHandler);\n\nvar getDomain = function() {\n    var domain = process.domain;\n    if (domain === undefined) {\n        return null;\n    }\n    return domain;\n};\nvar getContextDefault = function() {\n    return null;\n};\nvar getContextDomain = function() {\n    return {\n        domain: getDomain(),\n        async: null\n    };\n};\nvar AsyncResource = util.isNode && util.nodeSupportsAsyncResource ?\n    _dereq_(\"async_hooks\").AsyncResource : null;\nvar getContextAsyncHooks = function() {\n    return {\n        domain: getDomain(),\n        async: new AsyncResource(\"Bluebird::Promise\")\n    };\n};\nvar getContext = util.isNode ? getContextDomain : getContextDefault;\nutil.notEnumerableProp(Promise, \"_getContext\", getContext);\nvar enableAsyncHooks = function() {\n    getContext = getContextAsyncHooks;\n    util.notEnumerableProp(Promise, \"_getContext\", getContextAsyncHooks);\n};\nvar disableAsyncHooks = function() {\n    getContext = getContextDomain;\n    util.notEnumerableProp(Promise, \"_getContext\", getContextDomain);\n};\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\n\nvar debug = _dereq_(\"./debuggability\")(Promise, Context,\n    enableAsyncHooks, disableAsyncHooks);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n\n        if (typeof fn !== \"function\") {\n            throw new TypeError(\"The last argument to .catch() \" +\n                \"must be a function, got \" + util.toString(fn));\n        }\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var context = getContext();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: util.contextBind(context, handler),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise,\n                receiver, context);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    var bitField = this._bitField;\n    this._bitField = bitField |\n        (((bitField & 536870912) >> 2) ^\n        134217728);\n};\n\nPromise.prototype._setNoAsyncGuarantee = function() {\n    this._bitField = (this._bitField | 536870912) &\n        (~134217728);\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    context\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 = util.contextBind(context, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 = util.contextBind(context, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                util.contextBind(context, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                util.contextBind(context, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(maybePromise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.toStringTag) {\n    es5.defineProperty(Promise.prototype, Symbol.toStringTag, {\n        get: function () {\n            return \"Object\";\n        }\n    });\n}\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async);\nPromise.Promise = Promise;\nPromise.version = \"3.7.2\";\n_dereq_('./call_get.js')(Promise);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./any.js')(Promise);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./filter.js')(Promise, INTERNAL);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36,\"async_hooks\":undefined}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n        values.suppressUnhandledRejections();\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var context = Promise._getContext();\n    this._fn = util.contextBind(context, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined &&\n        this._eachValues !== null &&\n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    for (var j = i; j < length; ++j) {\n        var maybePromise = values[j];\n        if (maybePromise instanceof Promise) {\n            maybePromise.suppressUnhandledRejections();\n        }\n    }\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n\n            if ((i & 127) === 0) {\n                value._setNoAsyncGuarantee();\n            }\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova)) &&\n          (\"classList\" in document.documentElement)) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.allSettled = function (promises) {\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if (classString(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nvar reflectHandler;\nfunction contextBind(ctx, cb) {\n    if (ctx === null ||\n        typeof cb !== \"function\" ||\n        cb === reflectHandler) {\n        return cb;\n    }\n\n    if (ctx.domain !== null) {\n        cb = ctx.domain.bind(cb);\n    }\n\n    var async = ctx.async;\n    if (async !== null) {\n        var old = cb;\n        cb = function() {\n            var args = (new Array(2)).concat([].slice.call(arguments));;\n            args[0] = old;\n            args[1] = this;\n            return async.runInAsyncScope.apply(async, args);\n        };\n    }\n    return cb;\n}\n\nvar ret = {\n    setReflectHandler: function(fn) {\n        reflectHandler = fn;\n    },\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    contextBind: contextBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version;\n    if (process.versions && process.versions.node) {\n        version = process.versions.node.split(\".\").map(Number);\n    } else if (process.version) {\n        version = process.version.split(\".\").map(Number);\n    }\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\nret.nodeSupportsAsyncResource = ret.isNode && (function() {\n    var supportsAsync = false;\n    try {\n        var res = _dereq_(\"async_hooks\").AsyncResource;\n        supportsAsync = typeof res.prototype.runInAsyncScope === \"function\";\n    } catch (e) {\n        supportsAsync = false;\n    }\n    return supportsAsync;\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13,\"async_hooks\":undefined}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  BufferedSender.prototype.close.call(this);\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n};\n\nmodule.exports = SenderReceiver;\n","const LocalStorage = require('./components/localstorage');\nconst MemoryStorage = require('./components/memorystorage');\n\nmodule.exports = { LocalStorage, MemoryStorage };\n","'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n","'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar defaults = {\n\tenableHighAccuracy: false,\n\ttimeout: Infinity,\n\tmaximumAge: 0\n};\n\nvar PromisedLocation = function PromisedLocation() {\n\tvar options = arguments.length <= 0 || arguments[0] === undefined ? defaults : arguments[0];\n\tvar PromiseImpl = arguments.length <= 1 || arguments[1] === undefined ? Promise : arguments[1];\n\tvar nav = arguments.length <= 2 || arguments[2] === undefined ? navigator : arguments[2];\n\treturn new PromiseImpl(function (resolve, reject) {\n\t\tif (!nav.geolocation || !nav.geolocation.getCurrentPosition) {\n\t\t\treturn reject(new Error('Geolocation not supported!'));\n\t\t}\n\n\t\tnav.geolocation.getCurrentPosition(resolve, reject, options);\n\t});\n};\n\nexports.default = PromisedLocation;\nmodule.exports = exports['default'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU0sUUFBUSxHQUFHO0FBQ2hCLG1CQUFrQixFQUFFLEtBQUs7QUFDekIsUUFBTyxFQUFFLFFBQVE7QUFDakIsV0FBVSxFQUFFLENBQUM7Q0FDYixDQUFDOztBQUVGLElBQU0sZ0JBQWdCLEdBQ3JCLFNBREssZ0JBQWdCO0tBQ3BCLE9BQU8seURBQUcsUUFBUTtLQUFFLFdBQVcseURBQUcsT0FBTztLQUFFLEdBQUcseURBQUcsU0FBUztRQUMxRCxJQUFJLFdBQVcsQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUs7QUFDcEMsTUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLGtCQUFrQixFQUFFO0FBQzVELFVBQU8sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDRCQUE0QixDQUFDLENBQUMsQ0FBQztHQUN2RDs7QUFFRCxLQUFHLENBQUMsV0FBVyxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7RUFDN0QsQ0FBQztDQUFBLENBQUM7O2tCQUVVLGdCQUFnQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRlZmF1bHRzID0ge1xuXHRlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuXHR0aW1lb3V0OiBJbmZpbml0eSxcblx0bWF4aW11bUFnZTogMFxufTtcblxuY29uc3QgUHJvbWlzZWRMb2NhdGlvbiA9XG5cdChvcHRpb25zID0gZGVmYXVsdHMsIFByb21pc2VJbXBsID0gUHJvbWlzZSwgbmF2ID0gbmF2aWdhdG9yKSA9PlxuXHRcdG5ldyBQcm9taXNlSW1wbCgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRpZiAoIW5hdi5nZW9sb2NhdGlvbiB8fCAhbmF2Lmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbikge1xuXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcignR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZCEnKSk7XG5cdFx0XHR9XG5cblx0XHRcdG5hdi5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ocmVzb2x2ZSwgcmVqZWN0LCBvcHRpb25zKTtcblx0XHR9KTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZWRMb2NhdGlvbjtcbiJdfQ=="],"sourceRoot":""}