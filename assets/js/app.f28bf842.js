!function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(d&&d(e);h.length;)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},s={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[];i[t]?e.push(i[t]):0!==i[t]&&{"chunk-0ebd1eda":1,"chunk-13e1c832":1,"chunk-5ee7f9dd":1,"chunk-74a28518":1,"chunk-75cb4ece":1,"chunk-4aca4c06":1,"chunk-7ef50f26":1,"chunk-41eea596":1,"chunk-0358c79e":1,"chunk-fd84eb8e":1,"chunk-d388eae0":1,"view-Config-vue":1,"chunk-c0812358":1,"chunk-edca8624":1,"view-About-vue":1,"view-Help-vue":1,"view-Login-vue":1,"view-Register-vue":1,"chunk-6f6a201d":1,"chunk-39103bb9":1,"chunk-18162de4":1,"chunk-5f211769":1}[t]&&e.push(i[t]=new Promise((function(e,n){for(var o="assets/css/"+({"view-Config-vue":"view-Config-vue",leopardConfig:"leopardConfig","view-About-vue":"view-About-vue","view-Help-vue":"view-Help-vue","view-Login-vue":"view-Login-vue","view-Register-vue":"view-Register-vue",firebase:"firebase"}[t]||t)+"."+{"chunk-0ebd1eda":"9d21c0d7","chunk-13e1c832":"eb663afc","chunk-2d0aa579":"31d6cfe0","chunk-2d0abe77":"31d6cfe0","chunk-2d0e28f4":"31d6cfe0","chunk-2d0e489f":"31d6cfe0","chunk-2d0e6876":"31d6cfe0","chunk-2d0e93be":"31d6cfe0","chunk-2d22b97c":"31d6cfe0","chunk-5ee7f9dd":"3da0844e","chunk-74a28518":"7855faa3","chunk-2d0de91f":"31d6cfe0","chunk-2d0e455c":"31d6cfe0","chunk-2d21088b":"31d6cfe0","chunk-2d213f05":"31d6cfe0","chunk-75cb4ece":"fba5bb1e","chunk-4aca4c06":"9d89e650","chunk-7ef50f26":"0a32d37b","chunk-41eea596":"a743e2d9","chunk-0358c79e":"c309eb75","chunk-2d0a34dc":"31d6cfe0","chunk-fd84eb8e":"e6794f4c","chunk-d388eae0":"5f5d2f52","view-Config-vue":"30b47f70","chunk-c0812358":"f7e28fdb","chunk-ebd1be88":"31d6cfe0","chunk-edca8624":"dac9270a",leopardConfig:"31d6cfe0","view-About-vue":"2a731259","view-Help-vue":"c5894955","view-Login-vue":"46ce84e4","view-Register-vue":"46ce84e4","chunk-c3ad4414":"31d6cfe0","chunk-2d0c51a5":"31d6cfe0","chunk-2d0e4c16":"31d6cfe0","chunk-2d2109f1":"31d6cfe0","chunk-37d31026":"31d6cfe0","chunk-2d0c94d9":"31d6cfe0","chunk-2d0cbed2":"31d6cfe0","chunk-6f6a201d":"97f26269","chunk-39103bb9":"5ffd811a","chunk-2d0a47c1":"31d6cfe0","chunk-2d0c45ea":"31d6cfe0",firebase:"31d6cfe0","chunk-18162de4":"b34abf14","chunk-5f211769":"ad56b727"}[t]+".css",s=r.p+o,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var l=(d=a[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===o||l===s))return e()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){var d;if((l=(d=u[c]).getAttribute("data-href"))===o||l===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete i[t],h.parentNode.removeChild(h),n(a)},h.href=s,document.getElementsByTagName("head")[0].appendChild(h)})).then((function(){i[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=s[t]=[e,o]}));e.push(n[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(t){return r.p+"assets/js/"+({"view-Config-vue":"view-Config-vue",leopardConfig:"leopardConfig","view-About-vue":"view-About-vue","view-Help-vue":"view-Help-vue","view-Login-vue":"view-Login-vue","view-Register-vue":"view-Register-vue",firebase:"firebase"}[t]||t)+"."+{"chunk-0ebd1eda":"71928b97","chunk-13e1c832":"27e053f4","chunk-2d0aa579":"4a315059","chunk-2d0abe77":"f6e168b7","chunk-2d0e28f4":"ede66bfd","chunk-2d0e489f":"4f042192","chunk-2d0e6876":"bb709b94","chunk-2d0e93be":"db6162a2","chunk-2d22b97c":"378b1dc1","chunk-5ee7f9dd":"6fa3f120","chunk-74a28518":"a694f5ea","chunk-2d0de91f":"fea49cd1","chunk-2d0e455c":"992e3aa7","chunk-2d21088b":"ca2193be","chunk-2d213f05":"cecee891","chunk-75cb4ece":"f9947d2e","chunk-4aca4c06":"a6b10c87","chunk-7ef50f26":"15693845","chunk-41eea596":"24736b52","chunk-0358c79e":"f8431bdb","chunk-2d0a34dc":"2d03bf2c","chunk-fd84eb8e":"4e9475b9","chunk-d388eae0":"a7bc9400","view-Config-vue":"d2aea5ea","chunk-c0812358":"bcbafc83","chunk-ebd1be88":"7bd585e6","chunk-edca8624":"62132030",leopardConfig:"8c70c61a","view-About-vue":"19f337fa","view-Help-vue":"7cf7ebff","view-Login-vue":"4d92feba","view-Register-vue":"c157ebe0","chunk-c3ad4414":"1eeca679","chunk-2d0c51a5":"62912603","chunk-2d0e4c16":"1a2c4d03","chunk-2d2109f1":"64100f1c","chunk-37d31026":"822ce5f9","chunk-2d0c94d9":"f1c627d8","chunk-2d0cbed2":"15142cd8","chunk-6f6a201d":"994b8191","chunk-39103bb9":"d5e411c1","chunk-2d0a47c1":"cb0ed378","chunk-2d0c45ea":"5fe0c9b5",firebase:"654ca257","chunk-18162de4":"e8b814d8","chunk-5f211769":"5f512537"}[t]+".js"}(t);var l=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}s[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;a.push([0,"chunk-vendors"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("8a23");n.n(o).a},"1a5d":function(t,e,n){var o={"./About.vue":["f820","view-About-vue"],"./Chat.vue":["293a"],"./Config.vue":["1071","chunk-7ef50f26","view-Config-vue"],"./Help.vue":["c3ef","view-Help-vue"],"./Login.vue":["a55b","view-Login-vue"],"./Register.vue":["73cf","view-Register-vue"]};function i(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(o)},i.id="1a5d",t.exports=i},"293a":function(t,e,n){"use strict";n.r(e),n("b0c0"),n("d3b7"),n("4795");var o=n("5530"),i=n("ade3"),s=n("5a0c"),a=n.n(s),r=n("fa7d"),c=(n("99af"),n("4de4"),n("4160"),n("caad"),n("c975"),n("a9e3"),n("ac1f"),n("2532"),n("1276"),n("2ca0"),n("498a"),n("159b"),n("5383")),l=n.n(c),u=n("2f62"),d=n("f904"),h=n.n(d),m=n("7463"),p=n("ca6b").getLogger("ChatTeneoResponse.vue"),f=n("dc5f"),g=n("07d2"),v={name:"ChatTeneoResponse",directives:{"long-press":l.a},components:{Audio:function(){return Promise.all([n.e("chunk-74a28518"),n.e("chunk-2d213f05")]).then(n.bind(null,"af8b"))},Alert:function(){return n.e("chunk-2d0e6876").then(n.bind(null,"98ab"))},AgentAssistCannedResponseForm:function(){return Promise.all([n.e("chunk-7ef50f26"),n.e("chunk-41eea596"),n.e("chunk-2d0a34dc")]).then(n.bind(null,"0237"))},Carousel:function(){return n.e("chunk-13e1c832").then(n.bind(null,"3693"))},Card:function(){return n.e("chunk-edca8624").then(n.bind(null,"ae8d"))},ImageAnimation:function(){return n.e("chunk-ebd1be88").then(n.bind(null,"d45e"))},DelayedResponse:function(){return n.e("chunk-2d0e28f4").then(n.bind(null,"7ee5"))},Map:function(){return n.e("chunk-c0812358").then(n.bind(null,"a0be"))},Video:function(){return Promise.all([n.e("chunk-74a28518"),n.e("chunk-2d0de91f")]).then(n.bind(null,"85e1"))},Vimeo:function(){return Promise.all([n.e("chunk-74a28518"),n.e("chunk-2d21088b")]).then(n.bind(null,"b7ff"))},YouTube:function(){return Promise.all([n.e("chunk-74a28518"),n.e("chunk-2d0e455c")]).then(n.bind(null,"907f"))},Form:function(){return Promise.all([n.e("chunk-7ef50f26"),n.e("chunk-75cb4ece"),n.e("chunk-fd84eb8e"),n.e("chunk-d388eae0")]).then(n.bind(null,"8477"))}},props:{item:{type:Object,required:!0},itemIndexInDialog:{type:Number,required:!0}},data:function(){return{simpleTable:{name:"displaySimpleTable",dense:!1,maxHeight:null,fixedHeader:!1,headers:["Account","Balance"],rows:[["Current","$1271.21"],["Private","$137.54"]]},snackbar:!1,snackBarTimeout:1500,snackBarText:"Success",agentAssist:{cannedResponseForm:!1,cannedResponseText:"",menu:[{icon:"mdi-backburger",title:"Send to live chat",method:this.sendToLiveChatAgentInputBox},{icon:"mdi-clipboard-arrow-up-outline",title:"Copy to clipboard",method:this.copyToClipboard},{icon:"mdi-pound-box-outline",title:"Add as canned response",method:this.showLiveAgentCannedResponseForm},{icon:"mdi-refresh",title:"Reset bot session",method:this.resetBotSession},{icon:"mdi-link-box-variant-outline",title:"Send URL to customer",condition:this.hasLink,method:this.sendLinkToLiveAgent},{icon:"mdi-tooltip-image-outline",title:"Get media data",condition:this.hasMedia,method:this.sendResponseMediaToLiveAgent},{icon:"mdi-arrow-expand-up",title:"Create moment",condition:!1,method:this.createLiveChatMoment}]},displayForm:!1,hasFormAutomaticallyDisplayed:!1,completedForm:!1}},computed:Object(o.a)(Object(o.a)({},Object(u.b)(["leopardFont","responseLookAndFeel","isLiveAgentAssist","dark","textColor","itemAnswerTextCropped","showChatIcons","itemExtensions","getFeedbackFormConfig","imageUrl","carouselImageArray","responseIcon","uuid","hasInline","hasMediaExtensions","hasInlineType","showFeedbackForm","dialogs","getLatestDialogHistory","hasModal","hasFeedbackForm","lastItemHasLongResponse","itemHasLongResponse","showDelayedResponse","vimeoId","audioInfo","videoInfo","mapInfo","youTubeVideoId"])),{},{isLastItem:function(){return this.itemIndexInDialog===this.dialog.length-1},beforeAnswerAlert:function(){var t=this.itemExtensions(this.item),e=null;return t.forEach((function(t){String(t.name).startsWith("displayAlert")&&!0===t.beforeAnswer&&(e=t)})),e},afterAnswerAlert:function(){var t=this.itemExtensions(this.item),e=null;return t.forEach((function(t){String(t.name).startsWith("displayAlert")&&!1===t.beforeAnswer&&(e=t)})),e},routerCheckList:function(){var t=this.itemExtensions(this.item),e=null;return t.forEach((function(t){String(t.name).startsWith("displayRouterCheckList")&&(e=t.parameters)})),e},getResponseIcon:function(){var t=this.responseIcon;if("teneoResponse"in this.item){var e=m.wrap(this.item.teneoResponse);if(e.hasEmotion()&&-1!==e.getEmotion().indexOf("|")){var n=decodeURIComponent(e.getEmotion());t="mdi-".concat(n.split("|")[1].trim())}}return t},dynamicAgentAssistMenu:function(){return this.agentAssist.menu.filter((function(t){return!("condition"in t)||("boolean"==typeof t.condition?t.condition:"function"==typeof t.condition&&t.condition())}))},modalButtonText:function(){var t=this,e=m.wrap(this.item.teneoResponse),n={text:this.$t("button.more"),aria:this.$t("button.more")};if(this.itemHasLongResponse(this.item))return n.aria="Read full response will open in a new window.",n;var o=this.itemExtensions(this.item),i=0,s=this.$t("button.more"),a=this.$t("button.more");return e.hasLink()&&(a="Website ".concat(a),s=this.$t("button.page")),o.filter((function(t){return!e.hasLink()&&(!String(t.name).startsWith("displayCollection")||"inline"in t&&!t.inline)})).forEach((function(e){var n=e.title?e.title:e.aria?e.aria:"";a=n?'about "'.concat(n,'" will open in a new window'):"available will open in a new window",i+=1,String(e.name).startsWith("displayVideo")?(s=t.$t("button.video"),a="Video ".concat(a)):String(e.name).startsWith("displayPanel")?(s=t.$t("button.more"),a="More information ".concat(a)):String(e.name).startsWith("displayImageCarousel")?(s=t.$t("button.image"),a="Image carousel ".concat(a)):String(e.name).startsWith("displayImage")?(s=t.$t("button.image"),a="Image ".concat(a)):String(e.name).startsWith("displayModal")?(s=t.$t("button.more"),a="More information ".concat(a)):String(e.name).startsWith("displayMap")?(s=t.$t("button.map"),a="Map ".concat(a)):(String(e.name).startsWith("displayTable")||String(e.name).startsWith("displayTransactionsTable"))&&(a="Table ".concat(a),s=t.$t("button.table"))})),i>1&&(a="More information will open in a new window",s=this.$t("button.more")),n.aria=String(a).startsWith("available")?"More information will open in a new window":a,n.text=s||this.$t("button.more"),n},modalButtonIcon:function(){var t=m.wrap(this.item.teneoResponse),e=this.itemExtensions(this.item),n=0,o="mdi-arrow-top-left-thick";return e.forEach((function(e){e.inline&&!t.hasLink()||(n+=1),String(e.name).startsWith("displayVideo")?o="mdi-youtube":String(e.name).startsWith("displayImageCarousel")?o="mdi-view-carousel":String(e.name).startsWith("displayImage")?o="mdi-file-image":String(e.name).startsWith("displayTable")||String(e.name).startsWith("displayTransactionsTable")?o="mdi-table-large":String(e.name).startsWith("displayMap")?o="mdi-google-maps":String(e.name).startsWith("displayAudio")&&(o="mdi-music-box"),t.hasLink()&&(o="mdi-link-variant")})),n>1?"mdi-arrow-top-left-thick":o},itemText:function(){var t=this.item.text;if(t.includes("||")){var e=t.split("||")[0].trim();t=e}else t=this.itemAnswerTextCropped(this.item);return t},hasCollection:function(){var t=this.itemExtensions(this.item),e=!1;return t.forEach((function(t){String(t.name).startsWith("displayCollection")&&(e=!0)})),e},responseHasChunks:function(){return"reply"===this.item.type&&this.item.text.includes("||")},getChunks:function(){var t=this.item.text.split("||");return t.shift(),t},dialog:function(){return"chat"===this.$route.name?this.dialogs?this.dialogs:[]:this.getLatestDialogHistory?this.getLatestDialogHistory:[]},hasPermanentOptions:function(){var t=this.itemExtensions(this.item),e=!1;return t.forEach((function(t){String(t.name).startsWith("displayCollection")&&"undefined"!==t.permanent&&(e=t.permanent)})),e},hasLongOptions:function(){var t=this.itemExtensions(this.item),e=!1;return t.forEach((function(t){String(t.name).startsWith("displayCollection")&&"undefined"!==t.hasLongOptions&&(e=t.hasLongOptions)})),e},getOptions:function(){var t=this.itemExtensions(this.item),e={};return t.forEach((function(t){"displayCollection"===t.name&&(e=t.parameters.content)})),e},mustShowDate:function(){return!!m.wrap(this.item.teneoResponse).hasParameter("datePicker")},notLiveChatTranscript:function(){return!m.wrap(this.item.teneoResponse).hasParameter("liveChat")},mustShowTime:function(){return!!m.wrap(this.item.teneoResponse).hasParameter("timePicker")}}),methods:{hasHeaders:function(t){var e=!1;return t.headers&&t.headers.forEach((function(t){""!==t.trim()&&(e=!0)})),e},addAccessibilityPrefix:function(t){var e='<span class="sr-only">Chat bot said.</span>';return f(t)&&String(t).startsWith("<p>")?"<p>".concat(e).concat(t.substring(3)):"<p>".concat(e).concat(t,"</p>")},hasMedia:function(){return this.hasMediaExtensions(this.item)},sendResponseMediaToLiveAgent:function(){var t=this;p.debug("Sending media to Agent");var e="";this.itemExtensions(this.item).forEach((function(n){t.hasInlineType(n,"youTube")?e+="\nYouTube: https://www.youtube.com/watch?v=".concat(t.youTubeVideoId(n)):t.hasInlineType(n,"vimeo")?e+="\nVimeoId: ".concat(t.vimeoId(n)):t.hasInlineType(n,"video")?e+="\nVideo: ".concat(t.videoInfo(n).videoUrl):t.hasInlineType(n,"map")?e+="\nAddress: ".concat(t.mapInfo(n).address):t.hasInlineType(n,"image")?(p.debug(t.imageUrl(n)),e+="\nImage: ".concat(t.imageUrl(n))):t.hasInlineType(n,"carousel")&&(e+="\nImages: ".concat(t.carouselImageArray(n)))})),e&&this.$store.dispatch("putLiveChatAgentMessage",decodeURIComponent(e))},createLiveChatMoment:function(){p.debug("Create Moment")},handleAgentAssistCannedResponseSave:function(){this.agentAssist.cannedResponseForm=!1,this.snackBarText="#️⃣ New canned response added",this.snackbar=!0},showLiveAgentCannedResponseForm:function(){this.agentAssist.cannedResponseText=g(this.itemText),this.agentAssist.cannedResponseForm=!0},hasLink:function(){return m.wrap(this.item.teneoResponse).hasLink()},sendLinkToLiveAgent:function(){this.$store.dispatch("putLiveChatAgentMessage",decodeURIComponent(m.wrap(this.item.teneoResponse).getLink()))},resetBotSession:function(){var t=this;this.$store.dispatch("endTeneoSessionLite").then((function(){t.snackBarText="♻ Bot session reset",t.snackbar=!0}))},copyToClipboard:function(){h()(g(this.itemText)),this.snackBarText="📋 Copied to your clipboard",this.snackbar=!0},sendToLiveChatAgentInputBox:function(){this.$store.dispatch("putLiveChatAgentMessage",this.itemText)},isLastInDialog:function(){return this.itemIndexInDialog===this.dialog.length-1},handleFocus:function(){this.$emit("handleFocus")},mustShowForm:function(){if(this.displayForm)return!0;var t=this.getFormConfig();return!(!this.isLastInDialog()||this.hasFormAutomaticallyDisplayed||!t||!t.openAutomatically)&&(this.hasFormAutomaticallyDisplayed=!0,this.displayForm=!0,!0)},completed:function(){this.hideForm(),this.completedForm=!0,this.$store.commit("REMOVE_FORM_CONFIG",this.item.id)},showForm:function(){this.displayForm=!0},hideForm:function(){this.displayForm=!1},hasForm:function(){return!!m.wrap(this.item.teneoResponse).hasParameter("formConfig")},getFormConfig:function(){var t=m.wrap(this.item.teneoResponse);return t.hasParameter("formConfig")?t.getParameter("formConfig"):null},hasCard:function(t){return!!m.wrap(t.teneoResponse).hasParameter("displayCard")},getLongListIcon:function(t){var e="mdi-numeric-9-plus-box-outline";return t+1<=9&&(e="mdi-numeric-".concat(t+1,"-box-outline")),e},showModal:function(){this.$store.commit("HIDE_CHAT_MODAL"),this.$store.commit("HIDE_508_CONTENT"),this.$store.commit("SHOW_CHAT_MODAL",this.item)},displayFeedbackForm:function(){this.$emit("showFeedback")},toggleDate:function(){this.$emit("toggleDate")},toggleTime:function(){this.$emit("toggleTime")},swapInputButton:function(){this.$emit("swapInputButton")},optionClicked:function(t){var e=this;this.$store.commit("SHOW_PROGRESS_BAR"),this.$store.commit("SET_USER_INPUT",t.text?t.text:t.name),this.$store.dispatch("sendUserInput",t.params?"&".concat(t.params).concat("&isClick=true"):"&isClick=true").then((function(){e.$emit("handleFocus")}))}}},b=(n("6517"),n("2877")),C=n("6544"),w=n.n(C),k=n("8212"),y=n("8336"),I=n("b0af"),x=n("99d9"),_=n("62ad"),A=n("ce87"),T=n("132d"),S=n("adda"),L=n("8860"),O=n("da13"),E=n("5d23"),B=n("1baa"),F=n("34c3"),$=n("e449"),D=n("0fd9"),R=n("1f4f"),P=n("2db4"),M=Object(b.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"reply"===t.item.type?n("div",{class:t.isLastItem?"pb-3":""},[t.beforeAnswerAlert?n("v-row",{staticClass:"pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Alert",{attrs:{config:t.beforeAnswerAlert}})],1)],1):t._e(),"<span>"!==t.itemText?n("v-row",{staticClass:"pr-3 pl-1 pt-2",attrs:{justify:"start","no-gutters":""}},[t.showChatIcons&&!t.$vuetify.breakpoint.smAndDown?n("v-col",{staticClass:"text-center d-none d-sm-block",attrs:{cols:"2"}},[t.isLiveAgentAssist?n("v-menu",{attrs:{"close-on-click":"","close-on-content-click":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"}],staticClass:"teneo-response-icon",attrs:{"aria-hidden":"true",color:t.$vuetify.theme.dark?"":t.responseLookAndFeel.iconColor,text:"",tile:"",icon:"",large:""},on:{"long-press-start":t.swapInputButton}},o),[n("v-icon",{attrs:{large:""}},[t._v(t._s(t.getResponseIcon))])],1)]}}],null,!1,1121762430)},[n("v-list",{staticClass:"liveAgentAssitMenu"},t._l(t.dynamicAgentAssistMenu,(function(e){return n("v-hover",{key:e.title,scopedSlots:t._u([{key:"default",fn:function(o){var i=o.hover;return[n("v-list-item",{class:i?"primary":"",on:{click:e.method}},[n("v-list-item-title",{class:i?"white--text":""},[n("v-icon",{staticClass:"mr-2",attrs:{color:i?"secondary":""}},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.title)+" ")],1)],1)]}}],null,!0)})})),1)],1):n("v-icon",{staticClass:"teneo-response-icon",attrs:{large:"",color:t.$vuetify.theme.dark?"indigo":t.responseLookAndFeel.iconColor}},[t._v(t._s(t.getResponseIcon))])],1):t._e(),n("v-col",{staticClass:"text-left",class:!t.showChatIcons||t.$vuetify.breakpoint.smAndDown?"ml-2":""},[n("v-card",{staticClass:"chat-card chat-card-left text-left",attrs:{color:t.$vuetify.theme.dark?"#333333":""+t.responseLookAndFeel.blockBgColor,ripple:!1}},[n("span",{staticClass:"teneo-reply",class:t.leopardFont+" "+("light"===t.responseLookAndFeel.blockTextColor?"white--text":"")},[n("span",{domProps:{innerHTML:t._s(t.addAccessibilityPrefix(t.itemText))}})])])],1)],1):t._e(),t.hasCard(t.item)&&t.isLastItem?n("Card",{staticClass:"mb-2",attrs:{item:t.item,ripple:!1}}):t._e(),t._l(t.itemExtensions(t.item),(function(e,o){return n("span",{key:o+"inlines"+t.uuid},[t.afterAnswerAlert?n("v-row",{staticClass:"pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Alert",{attrs:{config:t.afterAnswerAlert}})],1)],1):t._e(),t.hasInlineType(e,"youTube")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("YouTube",{staticClass:"mt-2",attrs:{"video-id":t.youTubeVideoId(e)}})],1)],1):t._e(),t.hasInlineType(e,"audio")&&t.audioInfo(e).audioUrl?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Audio",{staticClass:"mt-2",attrs:{url:t.audioInfo(e).audioUrl}})],1)],1):t._e(),t.hasInlineType(e,"vimeo")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Vimeo",{staticClass:"mt-2",attrs:{"video-id":t.vimeoId(e)}})],1)],1):t._e(),t.hasInlineType(e,"video")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Video",{staticClass:"mt-2",attrs:{url:t.videoInfo(e).videoUrl,type:t.videoInfo(e).videoType}})],1)],1):t._e(),t.hasInlineType(e,"map")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Map",{staticClass:"mt-2",attrs:{address:t.mapInfo(e).address}})],1)],1):t._e(),t.hasInlineType(e,"image")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("ImageAnimation",{staticClass:"mt-2",attrs:{url:t.imageUrl(e)}})],1)],1):t._e(),t.hasInlineType(e,"carousel")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("Carousel",{staticClass:"mt-2",attrs:{"image-items":t.carouselImageArray(e)}})],1)],1):t._e(),t.hasInlineType(e,"table")?n("v-row",{staticClass:"px-3 pt-2",attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-simple-table",{staticClass:"elevation-2",attrs:{dense:e.dense,"fixed-header":e.fixedHeader,height:e.maxHeight?e.maxHeight:void 0},scopedSlots:t._u([{key:"default",fn:function(){return[t.hasHeaders(e)?n("thead",[n("tr",t._l(e.headers,(function(e){return n("th",{key:e+t.uuid,staticClass:"text-left"},[t._v(t._s(e))])})),0)]):t._e(),n("tbody",t._l(e.rows,(function(e,o){return n("tr",{key:o+t.uuid},t._l(e,(function(e,o){return n("td",{key:o+t.uuid},[t._v(t._s(e))])})),0)})),0)]},proxy:!0}],null,!0)})],1)],1):t._e()],1)})),t.responseHasChunks?n("div",t._l(t.getChunks,(function(e,o){return n("v-row",{key:o+t.uuid,staticClass:"pr-3 pl-1 pt-1",attrs:{"no-gutters":""}},[t.showChatIcons?n("v-col",{staticClass:"text-center",attrs:{cols:"2"}}):t._e(),n("v-col",[n("v-card",{staticClass:"chat-card chat-card-left text-left",class:!t.showChatIcons||t.$vuetify.breakpoint.smAndDown?"ml-2":"",attrs:{ripple:!1,color:t.$vuetify.theme.dark?"#333333":"#FFFFFF"}},[n("span",{staticClass:"teneo-reply",class:t.leopardFont+" "+("light"===t.responseLookAndFeel.blockTextColor?"white--text":"")},[n("span",{domProps:{innerHTML:t._s(t.addAccessibilityPrefix(e))}})])])],1)],1)})),1):t._e(),t.showDelayedResponse&&t.isLastItem?n("DelayedResponse"):t._e(),t.routerCheckList&&t.isLastItem?n("v-col",{staticClass:"px-3",attrs:{cols:"12"}},[n("v-card",[n("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[n("div",[n("h2",{staticClass:"headline"},[t._v(t._s(t.routerCheckList.title))]),t._l(t.routerCheckList.items,(function(e,o){return n("v-row",{key:o,staticClass:"ml-1",attrs:{align:"center",justify:"start"}},[n("v-col",{attrs:{cols:"2"}},[n("v-icon",{attrs:{color:e.color}},[t._v(t._s(e.icon))])],1),n("v-col",{attrs:{cols:"10"}},[n("p",[t._v(t._s(e.label))])])],1)}))],2),n("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},[n("v-img",{attrs:{src:"https://wi.presales.artificial-solutions.com/media/mytelco/router.png"}})],1)],1)])],1):t._e(),t.hasCollection&&(t.isLastItem||t.hasPermanentOptions)?n("v-card",{staticClass:"mb-1 mx-3 pt-0 px-1 pb-2 elevation-0 text-center transparent teneo-response-collection"},[t.hasLongOptions?n("v-list",{staticClass:"mt-2 elevation-2"},[n("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.getOptions.items,(function(e,o){return[n("v-list-item",{key:o+"tile"+t.uuid,staticClass:"text-left pl-2 pr-2",staticStyle:{height:"40px"},attrs:{tag:"a","aria-label":e.aria?e.aria:e.name,dense:""},on:{click:function(n){return t.optionClicked(e)}}},[!("showIcon"in e)||e.showIcon?n("v-list-item-icon",{staticClass:"mr-4"},[n("v-icon",[t._v(t._s(e.icon?"mdi-"+e.icon:t.getLongListIcon(o)))])],1):t._e(),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-subtitle",{staticStyle:{"white-space":"unset"},domProps:{innerHTML:t._s(e.name)}})],1)],1)]}))],2)],1):n("v-card-text",{staticClass:"teneo-button-options pt-2 pb-2"},[n("h2",{staticClass:"subtitle-1 font-weight-bold",domProps:{textContent:t._s(t.getOptions.title)}}),t.getOptions.html?n("div",{staticClass:"elevation-2 mt-2",domProps:{innerHTML:t._s(t.getOptions.items)}}):t._l(t.getOptions.items,(function(e,o){return n("span",{key:o+t.uuid},[n("v-btn",{staticClass:"option-btn mr-2 mt-2",attrs:{height:"25","x-small":"",color:"success "+t.textColor("success"),"aria-label":e.aria?e.aria:e.name},on:{click:function(n){return t.optionClicked(e)}}},[e.icon?n("v-icon",{staticStyle:{"padding-top":"2px",opacity:"0.7 !important"},attrs:{left:""}},[t._v(t._s("mdi-"+e.icon))]):t._e(),t._v(" "+t._s(e.name)+" ")],1)],1)}))],2)],1):t._e(),t.hasFeedbackForm(t.item)&&t.isLastItem?n("v-row",{staticClass:"mr-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right mb-2",attrs:{cols:"12"}},[n("v-btn",{staticClass:"modal-btn mt-2",attrs:{color:"success "+t.textColor("success"),"aria-label":"Leave Feedback",small:""},on:{click:t.displayFeedbackForm}},[n("v-icon",{staticClass:"teneo-icon",staticStyle:{opacity:"0.7 !important"},attrs:{left:""}},[t._v("mdi-thumbs-up-down")]),t._v(" "+t._s(t.getFeedbackFormConfig.label?t.getFeedbackFormConfig.label:"Leave Feedback")+" ")],1)],1)],1):t._e(),!t.completedForm&&t.hasForm()?n("v-row",{staticClass:"mr-4",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right mb-2",attrs:{cols:"12"}},[t.mustShowForm()?n("Form",{attrs:{"form-config":t.getFormConfig()},on:{showForm:function(e){return t.showForm()},hideForm:function(e){return t.hideForm()},completed:function(e){return t.completed()},handleFocus:function(e){return t.handleFocus()}}}):t._e(),n("v-btn",{staticClass:"modal-btn mt-2",attrs:{color:"success "+t.textColor("success"),"aria-label":"Form needs filling opens in a new window",small:""},on:{click:function(e){return t.showForm()}}},[n("v-icon",{staticClass:"teneo-icon",staticStyle:{opacity:"0.7 !important"},attrs:{left:""}},[t._v("mdi-file-document-edit-outline")]),t._v(" "+t._s(t.getFormConfig&&t.getFormConfig.openFormButtonText?t.getFormConfig.openFormButtonText:"Form")+" ")],1)],1)],1):t._e(),t.item.hasExtraData&&t.hasModal(t.item)&&t.notLiveChatTranscript||t.itemHasLongResponse(t.item)?n("v-row",{staticClass:"mt-0 mr-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right mb-1",attrs:{cols:"12"}},[n("v-btn",{staticClass:"modal-btn mt-2",attrs:{"aria-label":t.modalButtonText.aria,color:"success "+t.textColor("success"),small:""},on:{click:t.showModal}},[n("v-icon",{staticClass:"teneo-icon",staticStyle:{opacity:"0.7 !important"},attrs:{left:""}},[t._v(t._s(t.modalButtonIcon))]),t._v(" "+t._s(t.modalButtonText.text)+" ")],1)],1)],1):t._e(),t.mustShowDate&&t.isLastItem?n("v-row",{staticClass:"mt-2 mr-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[n("v-btn",{staticClass:"teneo-userinput-icon elevation-2 mb-2",attrs:{small:"","aria-label":"Open Date Picker",fab:"",color:"success "+t.textColor("success")},on:{click:function(e){return t.toggleDate()}}},[n("v-icon",{staticClass:"teneo-icon",staticStyle:{opacity:"0.7 !important"}},[t._v("mdi-calendar-clock")])],1)],1)],1):t._e(),t.mustShowTime&&t.isLastItem?n("v-row",{staticClass:"mt-2 mr-3",attrs:{"no-gutters":""}},[n("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[n("v-btn",{staticClass:"teneo-userinput-icon elevation-2 mb-2",attrs:{small:"",fab:"","aria-label":"Open Time Picker",color:"success "+t.textColor("success")},on:{click:function(e){return t.toggleTime()}}},[n("v-icon",{staticClass:"teneo-icon",staticStyle:{opacity:"0.7 !important"},attrs:{large:""}},[t._v("mdi-clock")])],1)],1)],1):t._e(),t.snackbar?n("v-snackbar",{attrs:{absolute:"",color:"primary",timeout:t.snackBarTimeout,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackBarText))]):t._e(),t.agentAssist.cannedResponseForm?n("AgentAssistCannedResponseForm",{attrs:{text:t.agentAssist.cannedResponseText},on:{hideDialog:function(e){t.agentAssist.cannedResponseForm=!1},saved:t.handleAgentAssistCannedResponseSave}}):t._e()],2):t._e()}),[],!1,null,"057319fc",null),H=M.exports;w()(M,{VAvatar:k.a,VBtn:y.a,VCard:I.a,VCardText:x.c,VCol:_.a,VHover:A.a,VIcon:T.a,VImg:S.a,VList:L.a,VListItem:O.a,VListItemContent:E.a,VListItemGroup:B.a,VListItemIcon:F.a,VListItemSubtitle:E.b,VListItemTitle:E.c,VMenu:$.a,VRow:D.a,VSimpleTable:R.a,VSnackbar:P.a}),n("ca6b").getLogger("ChatUserQuestion.vue");var U=n("07d2"),V={name:"ChatUserQuestion",components:{AgentAssistTrainBotForm:function(){return n.e("chunk-0ebd1eda").then(n.bind(null,"9941"))}},directives:{"long-press":l.a},props:{item:{type:Object,required:!0},itemIndexInDialog:{type:Number,required:!0}},data:function(){return{snackbar:!1,snackBarTimeout:1500,snackBarText:"Success",agentAssist:{trainForm:!1,trainFormQuestion:null,menu:[{icon:"mdi-backburger",title:"Send to live chat",method:this.sendToLiveChatAgentInputBox},{icon:"mdi-clipboard-arrow-up-outline",title:"Copy to clipboard",method:this.copyToClipboard},{icon:"mdi-robot",title:"Train bot",method:this.showLiveAgentTrainBotForm},{icon:"mdi-refresh",title:"Reset bot session",method:this.resetBotSession}]}}},computed:Object(o.a)(Object(o.a)({},Object(u.b)(["leopardFont","questionLookAndFeel","isLiveAgentAssist","showChatIcons","dialogs","getLatestDialogHistory","authenticated","userProfileImage","displayName","userIcon"])),{},{dialog:function(){return"chat"===this.$route.name?this.dialogs?this.dialogs:[]:this.getLatestDialogHistory?this.getLatestDialogHistory:[]}}),methods:{determineCardColor:function(){var t;return this.showChatIcons&&!this.$vuetify.breakpoint.smAndDown?t=this.$vuetify.theme.dark?"#333333":"#FFFFFF":(!this.showChatIcons||this.$vuetify.breakpoint.smAndDown||this.showChatIcons&&this.$vuetify.breakpoint.smAndDown)&&(t=this.$vuetify.theme.dark?"#333333":"primary white--text"),t},clearInputBox:function(){this.$emit("clicked","")},showLiveAgentTrainBotForm:function(){this.clearInputBox(),this.agentAssist.trainForm=!0,this.agentAssist.trainFormQuestion=U(this.item.text)},handleAgentAssistBotTrainingFinished:function(){this.agentAssist.trainForm=!1,this.snackBarText="👨‍🏫 Training received. Thanks",this.snackbar=!0},resetBotSession:function(){var t=this;this.$store.dispatch("endTeneoSessionLite").then((function(){t.snackBarText="♻ Bot session reset",t.snackbar=!0}))},copyToClipboard:function(){h()(U(this.item.text)),this.snackBarText="📋 Copied to your clipboard",this.snackbar=!0},sendToLiveChatAgentInputBox:function(){this.$store.dispatch("putLiveChatAgentMessage",this.item.text)},updateInputBox:function(t){this.$emit("clicked",t)},swapInputButton:function(){this.$emit("swapInputButton")}}},N=(n("ef48"),Object(b.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"userInput"===t.item.type?n("v-row",{class:t.itemIndexInDialog===t.dialog.length-1?"pb-3 pl-3 pr-1 pt-2":"pl-3 pr-1 pt-2",attrs:{"no-gutters":""}},[n("v-col",[n("v-card",{staticClass:"chat-card chat-card-right text-right pr-3 align-content-end",class:!t.showChatIcons||t.$vuetify.breakpoint.smAndDown?"mr-2 "+t.leopardFont+" "+(t.$vuetify.theme.dark?"":t.questionLookAndFeel.blockBgColor):t.leopardFont+" "+(t.$vuetify.theme.dark?"":t.questionLookAndFeel.blockBgColor),attrs:{color:t.determineCardColor(),ripple:!1}},[n("p",{class:t.$vuetify.theme.dark||"light"!==t.questionLookAndFeel.blockTextColor?"":"white--text"},[n("span",{staticClass:"sr-only"},[t._v("I said.")]),t._v(" "+t._s(t.item.text)+" "),n("span",{staticClass:"sr-only"},[t._v(".")])])])],1),t.showChatIcons&&!t.$vuetify.breakpoint.smAndDown?n("v-col",{staticClass:"text-center d-none d-sm-block",attrs:{cols:"2"}},[t.isLiveAgentAssist?n("v-menu",{attrs:{"close-on-click":"","close-on-content-click":"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"}],staticClass:"teneo-userinput-icon",attrs:{"aria-hidden":"true",text:"",tile:"",icon:"",large:"",color:t.questionLookAndFeel.iconColor+" white--text"},on:{"long-press-start":t.swapInputButton,click:function(e){return t.updateInputBox("")}}},o),[n("v-icon",{attrs:{large:""}},[t._v(t._s(t.userIcon))])],1)]}}],null,!1,3266297838)},[n("v-list",{staticClass:"liveAgentAssitMenu"},t._l(t.agentAssist.menu,(function(e){return n("v-hover",{key:e.title,scopedSlots:t._u([{key:"default",fn:function(o){var i=o.hover;return[n("v-list-item",{class:i?"primary":"",on:{click:e.method}},[n("v-list-item-title",{class:i?"white--text":""},[n("v-icon",{staticClass:"mr-2",attrs:{color:i?"secondary":""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.title)+" ")],1)],1)]}}],null,!0)})})),1)],1):[t.authenticated&&t.userProfileImage?n("v-avatar",{directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"}],staticClass:"teneo-userinput-icon elevation-2",attrs:{tabindex:"-1","aria-hidden":"true",fab:"",small:""},on:{"long-press-start":t.swapInputButton,click:function(e){return t.updateInputBox(t.item.text)}}},[n("img",{attrs:{src:t.userProfileImage,alt:t.displayName}})]):n("v-btn",{directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"}],staticClass:"teneo-userinput-icon",attrs:{"aria-hidden":"true",tabindex:"-1",text:"",tile:"",icon:"",large:"",color:""+(t.$vuetify.theme.dark?"white":t.questionLookAndFeel.iconColor)},on:{"long-press-start":t.swapInputButton,click:function(e){return t.updateInputBox(t.item.text)}}},[n("v-icon",{attrs:{large:""}},[t._v(t._s(t.userIcon))])],1)],n("v-snackbar",{attrs:{absolute:"",color:"primary",timeout:t.snackBarTimeout,top:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(t._s(t.snackBarText))]),t.agentAssist.trainForm?n("AgentAssistTrainBotForm",{attrs:{question:t.agentAssist.trainFormQuestion},on:{close:function(e){t.agentAssist.trainForm=!1},sent:t.handleAgentAssistBotTrainingFinished}}):t._e()],2):t._e()],1):t._e()}),[],!1,null,"1f5cc15c",null)),j=N.exports;w()(N,{VAvatar:k.a,VBtn:y.a,VCard:I.a,VCol:_.a,VHover:A.a,VIcon:T.a,VList:L.a,VListItem:O.a,VListItemTitle:E.c,VMenu:$.a,VRow:D.a,VSnackbar:P.a}),n("4fad"),n("b64b"),n("38cf");var W=n("3835"),G=n("82e0"),q=n.n(G),z=n("3a60"),K=n("ca6b").getLogger("ChatInput.vue"),Y=n("8df8"),Q=n("db82"),J={name:"ChatInput",props:["passUserInput","toggleButton","handleInputFocus","sendParams","mustSend","drawer"],directives:{"long-press":l.a,mask:z.mask},components:{"upload-btn":q.a},data:function(){return{nomask:{mask:"*".repeat(1e3),tokens:{"*":{pattern:/./}}},userInput:"",interval:{},showAudioInput:!1,audioButtonColor:"sendButton",showUploadProgress:!1,audioInFocus:!1,progressValue:0,showPassword:!1,rules:{required:function(t){return!!t||"Required."},counter:function(t){return t.length<=20||"Max 20 characters"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},valid:!1}},watch:{storeUserInput:function(t){this.userInput!==t&&(this.userInput=t)},drawer:function(t){t||this.handleFocus()},dialogs:function(){this.handleFocus()},mustSend:function(t){t&&(this.valid=!0,this.sendUserInput())},handleInputFocus:function(t){t&&this.handleFocus()},toggleButton:function(){this.swapInputButton()},passUserInput:function(t){t&&(this.userInput=t)},userInputReadyForSending:function(t){t&&(this.valid=!0,this.sendUserInput())}},mounted:function(){this.handClearIconClick();var t=this.$el.querySelector("#teneo-input-field");this.isMobileDevice?(t.addEventListener("focusin",(function(t){return t.stopPropagation()})),document.activeElement.blur()):t&&this.$nextTick((function(){t.addEventListener("focusin",(function(t){return t.stopPropagation()})),t.focus()}))},created:function(){K.debug("Chat Input Created"),this.speakBackResponses&&(K.info("Must speak"),this.showAudioInput=!0),this.handleFocus()},computed:Object(o.a)(Object(o.a)({},Object(u.b)(["askingForPassword","askingForEmail","getLatestDialogHistory","dialogs","dark","float",{userInput:"storeUserInput"},"inputHelpText","isMobileDevice","itemInputMask","progressBar","showUploadButton","speakBackResponses","userInputReadyForSending","uuid","listening","uploadConfig"])),{},{determineFieldType:function(){return this.askingForPassword?this.showPassword?"text":"password":"text"},determineLabelText:function(){return this.inputHelpText?this.inputHelpText:this.askingForPassword?this.$t("input.box.label.password"):this.askingForEmail?this.$t("input.box.label.email"):this.$t("input.box.label")},innerIconCondition:function(){return this.askingForPassword?this.showPassword?"mdi-eye":"mdi-eye-off":""},determineMask:function(){return this.itemInputMask||this.nomask},notUploadingCondition:function(){return!this.showUploadButton&&!this.showUploadProgress},textFieldShowCondition:function(){return!this.showUploadButton&&!this.showUploadProgress},textFieldDisabledCondition:function(){return this.progressBar||this.drawer},shouldDisableSend:function(){return this.progressBar||""===this.userInput||null===this.userInput},inputRules:function(){return this.askingForEmail?[this.rules.email(this.userInput)]:[]},isUserInputEmpty:function(){return null===this.userInput||""===this.userInput.trim()},storeUserInput:function(){return this.$store.getters.userInput}}),methods:{handClearIconClick:function(){document.getElementsByClassName("v-icon--link").forEach((function(t){t.parentElement.classList.contains("v-input__icon--clear")&&(t.tabIndex=0,t.setAttribute("aria-label","Clear Chat"),t.addEventListener("keyup",(function(e){e.preventDefault(),13===e.keyCode&&t.click()})))}))},hideProgressBar:function(){this.$store.commit("HIDE_PROGRESS_BAR")},sendUserInput:function(){var t=this;this.valid&&(K.debug("Input Box is Valid"),this.$store.commit("HIDE_CHAT_MODAL"),this.$store.commit("SET_USER_INPUT",this.userInput),this.audioButtonColor="sendButton",this.userInput&&this.userInput.trim()&&(this.$store.commit("SHOW_PROGRESS_BAR"),this.$store.dispatch("sendUserInput",this.sendParams).then((function(){t.$emit("reset"),t.showAudioInput&&t.$emit("asr")})).catch((function(t){K.error("Error Sending User Input",t)}))))},handleFocus:function(){var t=this;setTimeout((function(){var e=document.getElementById("teneo-input-field");e&&!t.isMobileDevice?(e.focus(),K.debug("Handling focus")):e&&t.isMobileDevice&&document.activeElement===e&&document.activeElement.blur()}),1e3)},toggleShowPassword:function(){K.debug("Toggeling Password"),this.showPassword=!this.showPassword},captureAudio:function(){Object.prototype.hasOwnProperty.call(window,"webkitSpeechRecognition")&&Object.prototype.hasOwnProperty.call(window,"speechSynthesis")&&!this.listening&&(this.$store.commit("HIDE_CHAT_MODAL"),this.audioButtonColor="error",this.$store.commit("SHOW_LISTING_OVERLAY"),this.$store.dispatch("captureAudio"),K.debug("Triggering ASR capture"))},swapInputButton:function(){K.debug("Toggeling Input Button/Mic");var t=this;navigator&&navigator.mediaDevices&&!Y()&&/Chrome/.test(navigator.userAgent)&&!/ OPR/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&navigator.mediaDevices.getUserMedia({audio:!0}).then((function(){t.showAudioInput=!t.showAudioInput,t.$store.commit("TTS_ENABLE",t.showAudioInput)})).catch((function(e){K.debug("ASR input is not allowed",e),t.$store.commit("SHOW_MESSAGE_IN_CHAT","ASR input is not allowed. Possible reasons: website not running over HTTPS, you have denied microphone access or the chat UI has been loaded form a different domain that the website.")}))},updateInputBox:function(t){K.debug("Updating Input Box"),this.userInput=t,this.isMobileDevice?document.activeElement.blur():this.$refs.userInput.focus()},handleEscapeKey:function(){this.showAudioInput?(K.debug("Stopping audio capture"),this.$store.commit("HIDE_LISTENING_OVERLAY"),this.$store.dispatch("stopAudioCapture"),this.audioButtonColor="sendButton"):this.$store.commit("CLOSE_CHAT_ESC")},fileChanged:function(t){var e=this;K.debug("File Changed"),this.$store.commit("HIDE_UPLOAD_BUTTON"),this.showUploadProgress=!0;var n=!0,o=!1,i=0;if(this.uploadConfig&&Object.keys(this.uploadConfig).length){o=!0;var s=this.uploadConfig.parameters,a=new FormData;if(a.append(s.postFileNameParam,t),s.postParams)for(var r=0,c=Object.entries(s.postParams);r<c.length;r++){var l=Object(W.a)(c[r],2),u=l[0],d=l[1];a.append(u,d)}var h=this,m="";Q.post(s.postUrl).send(a).then((function(t){K.debug("Upload response code: ".concat(t.status)),i=100,m="&uploadResponse="+btoa(t.text),s.reqUserInputSuccess&&h.$store.commit("SET_USER_INPUT",s.reqUserInputSuccess),h.$store.dispatch("sendUserInput",s.teneoSuccessQuery?s.teneoSuccessQuery+m:m)})).catch((function(t){i=100,n=!1,s.reqUserInputFailure&&h.$store.commit("SET_USER_INPUT",s.reqUserInputFailure),h.$store.dispatch("sendUserInput",s.teneoFailureQuery?s.teneoFailureQuery+m:m),K.error("Could not upload file",t)}))}this.interval=setInterval((function(){if(100===e.progressValue||100===i)return clearInterval(e.interval),e.showUploadProgress=!1,o||e.config||(n?(e.$store.commit("SHOW_MESSAGE_IN_CHAT","Thanks we have successfully received your file: ".concat(t.name)),e.$store.dispatch("sendUserInput").then((function(){K.debug("Upload flag sent to Teneo")}))):e.$store.commit("SHOW_MESSAGE_IN_CHAT","There was a problem uploading your file: ".concat(t.name))),e.progressValue=0;e.progressValue+=10}),300),K.debug(t)}}},Z=(n("4952"),n("a523")),X=n("4bd4"),tt=n("490a"),et=n("8654"),nt=Object(b.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"teneo-footer",class:{"footer-float":t.float},attrs:{"no-gutters":""}},[n("v-col",[n("v-form",{ref:"userInputForm",on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",{staticClass:"fill-height py-0"},[n("v-row",{attrs:{"no-gutters":"",align:"center",justify:"center"}},[n("v-col",{staticClass:"text-center"},[n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.textFieldShowCondition,expression:"textFieldShowCondition"},{name:"shortkey",rawName:"v-shortkey",value:{toggle1:["ctrl","alt","/"],toggle2:["ctrl","alt","arrowdown"]},expression:"{\n                toggle1: ['ctrl', 'alt', '/'],\n                toggle2: ['ctrl', 'alt', 'arrowdown']\n              }"},{name:"mask",rawName:"v-mask",value:t.determineMask,expression:"determineMask"}],ref:"userInput",attrs:{id:"teneo-input-field","aria-label":"Chat bot send message",disabled:t.textFieldDisabledCondition,"prepend-inner-icon":t.innerIconCondition,type:t.determineFieldType,rules:t.inputRules,clearable:!t.isUserInputEmpty,"clear-icon":"mdi-comment-remove-outline","auto-grow":"",color:"sendButton",required:"",solo:"",tabindex:"0","return-masked-value":"",name:"userInput",autocomplete:"off",label:t.determineLabelText,"single-line":"","data-lpignore":"true"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscapeKey(e)},"click:prepend-inner":function(e){return t.toggleShowPassword()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.sendUserInput())}},nativeOn:{shortkey:function(e){return t.swapInputButton(e)}},scopedSlots:t._u([t.showAudioInput?{key:"append",fn:function(){return[n("v-btn",{attrs:{disabled:t.isUserInputEmpty,"aria-label":"Send Question to Chat Bot",large:"",tabindex:"0",text:"",icon:"",ripple:""},on:{click:t.sendUserInput}},[n("v-icon",{attrs:{color:"sendButton"}},[t._v("mdi-send")])],1)]},proxy:!0}:null],null,!0),model:{value:t.userInput,callback:function(e){t.userInput=e},expression:"userInput"}}),n("span",{directives:[{name:"shortkey",rawName:"v-shortkey",value:["esc"],expression:"['esc']"}],on:{shortkey:t.handleEscapeKey}})],1),n("v-col",{staticClass:"text-center",attrs:{cols:"3",sm:"2"}},[t.showUploadButton?n("upload-btn",{staticClass:"elevation-2 v-btn v-btn--fab v-btn--round v-size--small sendButton white--text mt-3",attrs:{icon:"",tabindex:"0","aria-label":"Select File for Upload",large:"",hover:"",color:"sendButton"},on:{"file-update":t.fileChanged}},[n("template",{slot:"icon"},[n("v-icon",{staticClass:"py-2",attrs:{dark:""}},[t._v("mdi-paperclip")])],1)],2):t._e(),t.showUploadProgress?n("v-progress-circular",{staticClass:"mt-3",attrs:{rotate:360,size:40,width:10,value:t.progressValue,color:"accent"}}):t._e(),t.notUploadingCondition?[t.showAudioInput?t._e():n("v-btn",{directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"}],attrs:{text:"",icon:"",tabindex:"0",disabled:t.isUserInputEmpty,loading:t.progressBar,"aria-label":"Send",large:""},on:{"long-press-start":t.swapInputButton},nativeOn:{click:function(e){return t.sendUserInput(e)}}},[n("v-icon",{attrs:{color:"sendButton"}},[t._v("mdi-send")])],1),t.showAudioInput?n("v-btn",{directives:[{name:"long-press",rawName:"v-long-press",value:1e3,expression:"1000"},{name:"shortkey",rawName:"v-shortkey",value:{recordAudioOne:["ctrl","alt","."],recordAudioTwo:["ctrl","alt","`"],recordAudioThree:["ctrl","alt","arrowup"]},expression:"{\n                  recordAudioOne: ['ctrl', 'alt', '.'],\n                  recordAudioTwo: ['ctrl', 'alt', '`'],\n                  recordAudioThree: ['ctrl', 'alt', 'arrowup']\n                }"}],class:t.$vuetify.theme.dark?"black--text":"white--text",attrs:{tabindex:"0","aria-label":"Send",disabled:t.progressBar,loading:t.progressBar,ripple:"",color:t.audioButtonColor,small:"",fab:""},on:{"long-press-start":t.swapInputButton},nativeOn:{shortkey:function(e){return t.captureAudio(e)},click:function(e){return t.captureAudio(e)}}},[n("v-icon",[t._v(t._s(t.listening?"mdi-ear-hearing":"mdi-account-voice"))])],1):t._e()]:t._e()],2)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null),ot=nt.exports;w()(nt,{VBtn:y.a,VCol:_.a,VContainer:Z.a,VForm:X.a,VIcon:T.a,VProgressCircular:tt.a,VRow:D.a,VTextField:et.a});var it=n("ca6b").getLogger("Chat.vue");window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,n=(this.document||this.ownerDocument).querySelectorAll(t),o=this;do{for(e=n.length;--e>=0&&n.item(e)!==o;);}while(e<0&&(o=o.parentElement));return o});var st={props:["drawer"],components:{ChatBroadcastMessage:function(){return n.e("chunk-2d0aa579").then(n.bind(null,"1136"))},ChatLoading:function(){return n.e("chunk-2d22b97c").then(n.bind(null,"f040"))},ChatUserQuestion:j,ChatTeneoResponse:H,ChatInput:ot,Feedback:function(){return Promise.all([n.e("chunk-7ef50f26"),n.e("chunk-41eea596"),n.e("chunk-0358c79e")]).then(n.bind(null,"a6be"))},LiveChatResponse:function(){return n.e("chunk-2d0abe77").then(n.bind(null,"16ea"))}},data:function(){return{showAudioInput:!1,userInput:"",handleFocus:!1,sendParams:"",mustSend:!1,showLeopardDialog:!1,interval:{},mustScroll:!0,oldDialogLength:0,showDate:!1,showTime:!1,showFeedback:!1,audioInFocus:!1,date:"",isScrolling:!1,chatInputComponentKey:"55555"}},watch:Object(i.a)({showLiveChatProcessing:function(t){var e=this;console.log("SHOW LIVE CHAT PROCESSING",t),setTimeout((function(){e.mustScroll=!0,e.scrollToBottom()}),8e3)},date:function(t){""!==t&&this.updateInputBox(a()(t).format("D MMMM YYYY"))},storeUserInput:Object(r.e)((function(t){this.userInput!==t&&(this.userInput=t)}),500),dialog:function(t){t.length!==this.oldDialogLength&&(this.mustScroll=!0,this.oldDialogLength=t.length)}},"showLiveChatProcessing",Object(r.e)((function(t){t&&(this.mustScroll=!0)}),300)),beforeRouteLeave:function(t,e,n){this.$emit("closeMenu"),n()},computed:Object(o.a)(Object(o.a)({},Object(u.b)(["isLiveAgentAssist","askingForPassword","askingForEmail","dialogs","embed","overlayChat","getLatestDialogHistory","dark","float","inputHelpText","isMobileDevice","itemInputMask","progressBar","showChatLoading","showUploadButton","showLiveChatProcessing","showFeedbackForm","getFeedbackFormConfig","userInputReadyForSending","userProfileImage","uuid","displayName","listening","settingLongResponsesInModal","uploadConfig","lastItemAnswerTextCropped","itemAnswerTextCropped","lastItemHasLongResponse","itemHasLongResponse"])),{},{getNarrowMobile:function(){return window.innerWidth<=480?"min-height: calc(var(--vh, 1vh) * 80 - 130px);":""},getCurrentItem:function(){return this.dialog.length-1},isHistoryPage:function(){return"history"===this.$route.name},noHistory:function(){return 0===this.getLatestDialogHistory.length},dialog:function(){return"chat"===this.$route.name?this.dialogs?this.dialogs:[]:this.getLatestDialogHistory?this.getLatestDialogHistory:[]}}),updated:Object(r.e)((function(){try{this.mustScroll&&(this.mustScroll=!1,this.scrollToBottom())}catch(t){it.debug(t)}}),200),mounted:function(){var t=document.getElementById("site-frame");this.embed||this.overlayChat||!t||setTimeout((function(){t.setAttribute("class","contract-iframe")}),1200),this.$el.addEventListener("click",this.onHtmlClick),this.scrollToBottom()},beforeDestroy:function(){},methods:{resetChatInputDirections:function(){this.handleFocus=!1,this.userInput="",this.mustSend=!1,this.sendParams="",this.showDate=!1,this.showTime=!1,this.date="",this.chatInputComponentKey+=1},updateInputBox:function(t){it.debug("Updating Input Box"),this.userInput=t},triggerSend:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){it.debug("Triggering send to Teneo"),t.mustSend=!0}),e)},swapInputButton:function(){this.showAudioInput=!this.showAudioInput},debounceScroll:function(){var t=this;if(!this.isScrolling){it.debug("Scroll to bottom");var e=this.$refs.endChat;if(e){this.isScrolling=!0;var n=document.getElementById("teneo-chat-scroll");try{n?this.$vuetify.goTo(e,{duration:1200,offset:-50,easing:"easeInQuad",container:"#teneo-chat-scroll"}):this.isScrolling=!1}catch(t){this.isScrolling=!1}setTimeout((function(){t.isScrolling=!1}),1250)}}},scrollToBottom:function(){this.debounceScroll()},onHtmlClick:function(t){var e=t.target.closest("a");e&&(e.classList.contains("sendInput")||e.classList.contains("openInIframe"))&&(e.classList.contains("openInIframe")?(it.debug("Open Link in IFRAME"),t.stopPropagation(),t.preventDefault(),this.$store.commit("UPDATE_FRAME_URL",e.getAttribute("href"))):(t.stopPropagation(),t.preventDefault(),e.getAttribute("data-input")?(it.debug("Update input box with data-input attribute of link"),this.userInput=e.getAttribute("data-input")):(it.debug("Update input box with text of link"),this.userInput=e.innerText),this.sendParams="&isClick=true",this.triggerSend(200)))}}},at=(n("52d7"),n("85f5"),n("0798")),rt=n("2e4b"),ct=n("169a"),lt=n("8e36"),ut=n("2fa4"),dt=n("c964"),ht=Object(b.a)(st,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"chat-container",attrs:{fluid:"",id:"chat-area"}},[n("v-row",{staticClass:"mx-0 px-0",attrs:{"no-gutters":""}},[n("teneo-listening",{attrs:{value:t.listening,message:t.$t("listening")}}),n("v-col",{ref:"chatContainer",staticClass:"pa-0",class:{"grey darken-4 dark-scroll":t.$vuetify.theme.dark,"light-scroll grey lighten-4":!t.$vuetify.theme.dark,"chat-responses-float":t.float,"chat-responses":!t.float,"chat-responses-float-mobile":t.isMobileDevice},attrs:{cols:"12",tabindex:"0",id:"teneo-chat-scroll"}},[t.showChatLoading?n("ChatLoading"):t._e(),t.showFeedback?n("Feedback",{attrs:{feedbackConfig:t.getFeedbackFormConfig},on:{showFeedback:function(e){t.showFeedback=!0},hideFeedback:function(e){t.showFeedback=!1}}}):t._e(),n("v-container",{staticClass:"chat-container-inner"},[n("div",{attrs:{"aria-live":"polite"}},t._l(t.dialog,(function(e,o){return n("v-container",{key:o+"itemsIter"+t.uuid,staticClass:"px-0 mx-0",class:{"mt-0 pb-0":o===t.dialog.length-1,"pt-0":0===o}},[n("ChatBroadcastMessage",{staticClass:"pb-1",attrs:{item:e}}),n("LiveChatResponse",{staticClass:"mt-1 pb-1",attrs:{itemIndexInDialog:o,item:e}}),n("ChatTeneoResponse",{attrs:{item:e,itemIndexInDialog:o},on:{swapInputButton:t.swapInputButton,handleFocus:function(e){t.handleFocus=!0},toggleDate:function(e){t.showDate=!t.showDate},toggleTime:function(e){t.showTime=!t.showTime},showFeedback:function(e){t.showFeedback=!0}}}),n("ChatUserQuestion",{attrs:{item:e,itemIndexInDialog:o},on:{clicked:t.updateInputBox,swapInputButton:t.swapInputButton}})],1)})),1)]),t.showLiveChatProcessing?n("div",{staticClass:"text-left ma-2",staticStyle:{"background-color":"transparent","align-items":"left"}},[n("v-alert",{attrs:{"min-width":"100%",dense:"",color:"info",border:"left",elevation:"2","colored-border":"",icon:"mdi-keyboard-settings"}},[t._v(" Agent is typing a message.. "),n("vue-loaders-ball-pulse-sync",{attrs:{color:"#C2C2C2",scale:"0.5"}})],1)],1):t._e(),n("span",{ref:"endChat"})],1),n("v-progress-linear",{staticClass:"teneo-input-loading",attrs:{indeterminate:!0,active:t.progressBar,color:"accent",height:"4"}})],1),n("ChatInput",{key:t.chatInputComponentKey,attrs:{toggleButton:t.showAudioInput,passUserInput:t.userInput,handleInputFocus:t.handleFocus,sendParams:t.sendParams,mustSend:t.mustSend,drawer:t.drawer},on:{reset:t.resetChatInputDirections,scroll:t.scrollToBottom}}),t.showDate?n("v-col",{key:"datePicker"+t.uuid,attrs:{cols:"12"}},[n("v-dialog",{ref:"dialogDate",attrs:{"return-value":t.date,width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},model:{value:t.showDate,callback:function(e){t.showDate=e},expression:"showDate"}},[n("v-date-picker",{attrs:{"header-color":"primary",color:"secondary",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{small:"",color:"secondary"},on:{click:function(e){t.showDate=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{small:"",color:"success"},on:{click:t.triggerSend}},[t._v("OK")])],1)],1)],1):t._e(),t.showTime?n("v-col",{key:"timePicker"+t.uuid,attrs:{cols:"12"}},[n("v-dialog",{ref:"dialogTime",attrs:{width:"290px"},model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}},[n("v-card",[n("v-time-picker",{attrs:{"header-color":"primary",color:"secondary",format:"24hr"},model:{value:t.userInput,callback:function(e){t.userInput=e},expression:"userInput"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{small:"",color:"secondary"},on:{click:function(e){t.showTime=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{small:"",color:"success"},on:{click:t.triggerSend}},[t._v("OK")])],1)],1)],1)],1):t._e()],1)}),[],!1,null,"15c7a966",null);e.default=ht.exports,w()(ht,{VAlert:at.a,VBtn:y.a,VCard:I.a,VCardActions:x.a,VCol:_.a,VContainer:Z.a,VDatePicker:rt.a,VDialog:ct.a,VProgressLinear:lt.a,VRow:D.a,VSpacer:ut.a,VTimePicker:dt.a})},3088:function(t,e,n){},"41cb":function(t,e,n){"use strict";n("d3b7");var o=n("2b0e"),i=n("8c4f"),s=n("293a"),a=n("ca6b").getLogger("router.js");function r(t){return function(){return n("1a5d")("./".concat(t,".vue"))}}o.a.use(i.a),a.debug("Setting up Vue Router"),e.a=new i.a({routes:[{path:"/",name:"chat",component:s.default},{path:"/about",name:"about",component:r("About")},{path:"/login",name:"login",component:r("Login")},{path:"/register",name:"register",component:r("Register")},{path:"/config",name:"config",component:r("Config"),beforeEnter:function(t,e,n){window.leopardConfig.hideConfigMenu?n(!1):n()}},{path:"/help",name:"help",component:r("Help")},{path:"/history",name:"history",component:r("Chat")}]})},4952:function(t,e,n){"use strict";var o=n("a3b8");n.n(o).a},"52d7":function(t,e,n){"use strict";var o=n("3088");n.n(o).a},"56d7":function(t,e,n){"use strict";n.r(e),n("d3b7"),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2d26"),n("96cf"),n("5373"),n("ee61");var o=n("7707"),i=n.n(o),s=n("fa7d"),a=n("2b0e"),r=(n("99af"),n("4de4"),n("c740"),n("a434"),n("c0b6"),n("b0c0"),n("ac1f"),n("3ca3"),n("841c"),n("ddb0"),n("4795"),n("2b3d"),n("5530")),c=(n("3878"),n("2f62")),l=n("7639"),u=(n("c197"),n("6b2c"),n("f14e"),n("810d")),d=n.n(u),h=n("ca6b").getLogger("App.vue"),m={components:{OverlayAlert:function(){return n.e("chunk-2d0e489f").then(n.bind(null,"913d"))},Dialog:function(){return n.e("chunk-5ee7f9dd").then(n.bind(null,"3f7a"))},Prism:function(){return n.e("chunk-2d0e93be").then(n.t.bind(null,"8d51",7))}},data:function(){return{liveChatAccessToken:null,liveChatAgentAssistLastMessage:null,importDialog:!1,parentHeight:"",navigationDrawerModel:!0,loginPerformed:!1,maximizeChat:!0,importedSolution:{},importDialogMessages:{},clipped:!1,drawer:!1,menuItems:[{icon:"mdi-cog-outline",titleKey:"menu.config",ariaLabel:"Chat Bot Configuration",route:"config"},{icon:"mdi-lifebuoy",titleKey:"menu.help",ariaLabel:"Help with Chat Bot",route:"help"},{icon:"mdi-history",titleKey:"menu.history",ariaLabel:"Chat History",route:"history",when:this.hasDifferentHistory},{icon:"mdi-information-variant",titleKey:"menu.about",ariaLabel:"About Chat Bot",route:"about",when:this.keepBranding()},{icon:"mdi-account-plus",titleKey:"menu.register",ariaLabel:"Chat Bot Register",route:"register",when:"notAuthenticated"},{icon:"mdi-login-variant",titleKey:"menu.login",ariaLabel:"Chat Bot Login",route:"login",when:"notAuthenticated"}],miniVariant:!0,rightDrawer:!1}},watch:{snotify:function(t){var e=this;if(t)if(t instanceof Array)for(var n=function(n){var o=t[n],i=e;null!=o&&setTimeout((function(){o.title?i.$snotify[o.type](o.body,o.title,o.config):i.$snotify[o.type](o.body,o.config)}),2e3*n)},o=0;o<=t.length;o++)n(o);else t.title?this.$snotify[t.type](t.body,t.title,t.config):this.$snotify[t.type](t.body,t.config)},isChatOpen:function(t){if(t){var e=this.$el.querySelector("#teneo-input-field");e&&(this.isMobileDevice?(e.addEventListener("focusin",(function(t){return t.stopPropagation()})),document.activeElement.blur()):(e.focus(),this.$nextTick((function(){e.addEventListener("focusin",(function(t){return t.stopPropagation()})),e.focus();try{e.click()}catch(t){}}))))}},mustCloseBecauseOfEscape:function(t){t&&(this.embed?this.closeChatEmbedded():this.isChatOpen&&(h.debug("Must close because of ESC"),this.toggleChat()),this.$store.commit("RESET_MUST_CLOSE"))},drawer:function(t){t?this.$nextTick((function(){document.getElementById("leopard-first-drawer-item").focus()})):(h.debug("Nav drawer has just closed"),this.$refs.userInput&&this.$refs.userInput.focus())}},updated:function(){},created:function(){this.setupChatHoverColor(),this.$store.dispatch("setupFirebase"),this.$store.dispatch("setupLiveChatAgentAssist")},mounted:function(){var t=this;h.info("In production: ",this.embed),this.embed&&(this.isChatOpenLocalStorage(),window.addEventListener("keyup",this.handleKeyUpEmbed,!0)),this.$nextTick((function(){this.isMobileDevice?window.addEventListener("resize",this.onResizeOrEmbed,!1):window.addEventListener("resize",Object(s.e)(this.onResizeOrEmbed,200,!1),!1)}));var e=new URLSearchParams(window.location.search),n=e.get("question");n&&!this.isChatOpen&&(this.toggleChat(),setTimeout((function(){t.$store.commit("SET_USER_INPUT",n),t.$store.commit("USER_INPUT_READY_FOR_SENDING")}),2e3));var o=e.get("import");o&&(this.importedSolution=d.a.unpack(o),this.importDialogMessages.message="Do you want to import this solution?",this.importDialogMessages.solution=this.importedSolution,this.importDialogMessages.hasConflictingSolution=Object(s.m)(this.importedSolution,this.config),h.debug("Importing the following solution config",o),this.importDialog=!0),this.showButtonOnly||((window.innerWidth<=480||this.embed)&&this.onResizeOrEmbed(),this.$store.dispatch("setUserInformation"))},beforeDestroy:function(){window.removeEventListener("resize",this.onResizeOrEmbed)},computed:Object(r.a)(Object(r.a)({},Object(c.b)(["emergencyConfig","isLiveAgentAssist","accessibleAnouncement","mustCloseBecauseOfEscape","accentStyling","authenticated","snotify","hide508","theme","textColor","isPromptPollingActive","fullscreenEmbed","getPromptPollingIntervalInMilliseconds","config","isMobileDevice","getActivePromptInterval","getLatestDialogHistory","dialogs","chatTitle","customCssButtonToolbar","getAnimatedIn","getAnimatedOut","embed","float","firebase","hideConfigMenu","overlayChat","progressBar","pulseButton","showButtonOnly","showChatButton","isChatOpen","socialAuthEnabled"])),{},{embedAndShowClose:function(){var t=this.embed&&window.leopardConfig.embed.showCloseButton;return h.debug("EMBED: Show close button?",t),t},hasDifferentHistory:function(){return this.getLatestDialogHistory.length!==this.dialogs.length?(h.debug("Should show 'History' menu option"),!0):(h.debug("Should not show 'History' menu option"),!1)},shouldFloat:function(){return h.debug("Show Leopard floating?",this.float),!(!this.float||"/config"===this.$router.currentRoute.path)},activeMenuItems:function(){var t=this;return this.authenticated?this.menuItems.filter((function(e){return e.route!==t.$router.currentRoute.name&&("when"in e&&"string"==typeof e.when&&"authenticated"===e.when||("when"in e&&"boolean"==typeof e.when?e.when:"when"in e&&"function"==typeof e.when?e.when():"config"===e.route?!t.hideConfigMenu:!("when"in e)))})):this.menuItems.filter((function(e){return e.route!==t.$route.name&&(!(!t.socialAuthEnabled||!("when"in e)||"string"!=typeof e.when||"notAuthenticated"!==e.when)||("when"in e&&"boolean"==typeof e.when?e.when:"when"in e&&"function"==typeof e.when?e.when():"config"===e.route?!t.hideConfigMenu:!("when"in e)))}))},toolbarStyle:function(){return this.customCssButtonToolbar+this.accentStyling},menuClass:function(){return this.$vuetify.theme.dark?"grey--text text--lighten-2":"grey--text text--darken-1"},menuClassText:function(){return this.$vuetify.theme.dark?"grey--text text--lighten-2":"grey--text text--darken-4 font-weight-bold"},toolbarTitle:function(){var t='<span class="sr-only">Chat Bot </span>';return"history"===this.$route.name?t+this.$t("menu.history"):"help"===this.$route.name?t+this.$t("menu.help"):"about"===this.$route.name?t+this.$t("menu.about"):"register"===this.$route.name?t+this.$t("menu.register"):"login"===this.$route.name?t+this.$t("menu.login"):this.chatTitle},toolbarColor:function(){return this.$vuetify.theme.dark?"primary white--text":"primary ".concat(Object(s.o)(this.theme.primary)?"black":"white","--text")}}),methods:{sendEmergencyCode:function(){var t=this;"/"!==this.$router.currentRoute.path&&this.$router.push({name:"chat"}),this.$store.dispatch("sendUserInput",this.emergencyConfig.payload).then((function(){h.debug("Emergency code sent to Teneo: ",t.emergencyConfig.payload)})).catch((function(t){h.error("Error sending emergency code",t)}))},handleKeyUpEmbed:function(t){this.showButtonOnly&&this.showChatButton&&(t.shiftKey&&"Tab"===t.key?document.getElementById("leopard-embed-open-close-button")!==document.activeElement&&this.sendMessageToParent("shiftTabLeopard"):t.key)},setupChatHoverColor:function(){this.$vuetify.theme.dark?document.documentElement.style.setProperty("--leopard-chat-button-color","#C6FF00"):Object(s.n)(this.$vuetify.theme.themes.light.secondary)?document.documentElement.style.setProperty("--leopard-chat-button-color",this.$vuetify.theme.parsedTheme.secondary.lighten3):document.documentElement.style.setProperty("--leopard-chat-button-color",this.$vuetify.theme.parsedTheme.secondary.darken3)},keepBranding:function(){return!window.leopardConfig.hideArtificalSolutionsBranding},isLightColor:function(t){if(this.$vuetify.theme.dark)return!1;var e=this.theme[t];return h.debug("Checking ".concat(t," color: ").concat(e),this.theme),Object(s.o)(e)},backToChat:function(){this.drawer=!1,"/"!==this.$router.currentRoute.path&&this.$router.push({name:"chat"})},minimizeChat:function(){var t;this.embed||this.showButtonOnly||(t=document.getElementById("site-frame")),t&&t.setAttribute("class",""),this.maximizeChat=!1,setTimeout(function(){var t=document.getElementById("leopardSystemBarMinimized");t&&t.focus(),document.getElementById("app").setAttribute("style","")}.bind(this),1500)},isChatOpenLocalStorage:function(){var t=localStorage.getItem("isChatOpen");t=null!==t&&JSON.parse(t),window.leopardConfig.embed.isInitialStateOpen&&(t=!0);var e=!1;return h.debug("isChatOpenLocalStorage: ".concat(t)),t?(this.$store.commit("SHOW_CHAT_WINDOW"),this.sendMessageToParent("showLeopard"),h.debug("Leopard Sent Parent Message to OPEN"),e=!0):(this.$store.commit("HIDE_CHAT_WINDOW"),this.$store.commit("HIDE_CHAT_LOADING"),localStorage.setItem("isChatOpen","false"),this.sendMessageToParent("hideLeopard"),h.debug("Leopard Sent Parent Message to HIDE"),e=!1),h.debug('Local Storage Thinks "isChatOpenLocalStorage": '.concat(e)),e},sendMessageToParent:function(t){return parent&&(parent.postMessage(t,"*"),h.debug("Message from Leopard >> Embed : "+t)),!0},importNewSolutionFromUrl:function(){this.importDialog=!1,this.importedSolution.id=Object(s.w)(),this.config.solutions.push(this.importedSolution);var t="".concat(location.protocol,"//").concat(location.host).concat(location.pathname,"?dl=").concat(this.importedSolution.deepLink);localStorage.setItem(l.STORAGE_KEY+"config",JSON.stringify(this.config)),h.debug("Deep Link Url: ",t),window.location.href=t},importNewUniqueSolutionFromUrl:function(){this.importDialog=!1,this.importSolution=Object(s.p)(this.importedSolution),this.config.solutions.push(this.importedSolution);var t="".concat(location.protocol,"//").concat(location.host).concat(location.pathname,"?dl=").concat(this.importedSolution.deepLink);localStorage.setItem(l.STORAGE_KEY+"config",JSON.stringify(this.config)),h.debug("Deep Link Url: ",t),window.location.href=t},importReplacementSolutionFromUrl:function(){var t=this;this.importDialog=!1;var e=this.config.solutions.findIndex((function(e){return e.name===t.importedSolution.name})),n=this.config.solutions.findIndex((function(e){return e.deepLink===t.importedSolution.deepLink}));e<0&&n<0?this.config.solutions.push(this.importedSolution):(e>=0||n>=0)&&(this.config.solutions.splice(n,1),(e=this.config.solutions.findIndex((function(e){return e.name===t.importedSolution.name})))>0&&this.config.solutions.splice(e,1),this.config.solutions.push(this.importedSolution)),this.config.activeSolution=this.importedSolution.id;var o="".concat(location.protocol,"//").concat(location.host).concat(location.pathname,"?dl=").concat(this.importedSolution.deepLink);localStorage.setItem(l.STORAGE_KEY+"config",JSON.stringify(this.config)),h.debug("Deep Link Url: ",o),window.location.href=o},closeChatEmbedded:function(){localStorage.setItem("isChatOpen","false"),Object(s.s)("hideLeopard"),this.calculateMobileHeight(),window.leopardConfig.embed.killSessionOnCloseEmbed&&(this.loginPerformed=!1),h.debug("Close Chat Embedded"),this.$store.commit("HIDE_CHAT_BUTTON")},openEmbedButton:function(){this.calculateMobileHeight(),h.debug("Open Chat Window from Embed Button"),this.$store.commit("HIDE_CHAT_BUTTON"),setTimeout(function(){this.$store.commit("OPEN_CHAT_WINDOW_DISPLAY_EMBED")}.bind(this),800)},logout:function(){var t=this;if(this.drawer=!1,this.embed)this.closeChatEmbedded(),this.$store.dispatch("logoutSocial");else{var e,n=document.getElementById("chat-open-close-button");this.embed||this.showButtonOnly||(e=document.getElementById("site-frame")),this.drawer=!1,this.$store.commit("HIDE_CHAT_MODAL"),this.$store.dispatch("logoutSocial"),this.embed||this.overlayChat||!e||e.setAttribute("class",""),setTimeout(function(){this.$store.commit("TOGGLE_CHAT_WINDOW_DISPLAY"),n&&n.setAttribute("class","")}.bind(this),1e3)}this.loginPerformed=!1,this.$store.dispatch("endTeneoSession").then((function(){setTimeout((function(){t.$store.commit("CLEAR_CHAT_HISTORY")}),1e3)}))},calculateMobileHeight:function(){var t;this.isMobileDevice&&(h.debug("Mobile device - Calculating the View Height in JS"),t=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(t,"px")))},onResizeOrEmbed:function(){if(this.calculateMobileHeight(),this.dialogs.length>0&&(this.loginPerformed=!0),window.innerWidth<=480&&!this.loginPerformed&&!this.embed&&0===this.dialogs.length||!this.showButtonOnly&&this.embed&&this.isChatOpenLocalStorage()&&!this.loginPerformed&&0===this.dialogs.length){h.debug("Window width is narrow. Determined that we need to send login"),h.debug("onResizeOrEmbed: Has Login Been Performed? ".concat(this.loginPerformed)),this.loginPerformed=!0;var t=this;this.$store.dispatch("beginTeneoSession").then((function(){t.loginPerformed=!0,h.debug("Successfully established chat session")})).catch((function(t){h.debug("ERROR LOGGING IN TO CHAT - Could not login to: ",t.teneoUrl)}))}else this.$store.commit("HIDE_CHAT_LOADING");if(h.debug("AGAIN Has Login Been Performed? ".concat(this.loginPerformed)),"/config"!==this.$router.currentRoute.path)if(window.innerWidth<=480&&!this.embed||this.embed&&this.isChatOpenLocalStorage()){var e;h.debug("window.innerWidth <= 480 && !this.embed"),this.$store.commit("HIDE_CHAT_BUTTON"),this.$store.commit("SHOW_CHAT_WINDOW"),this.embed||this.showButtonOnly||(e=document.getElementById("site-frame"));var n=document.getElementById("chat-open-close-button");"/"!==this.$router.currentRoute.path&&this.$router.push({name:"chat"});var o=this.float;setTimeout(function(){h.debug("In move button left: ".concat(o)),n&&!this.embed&&(o?n.setAttribute("class","move-button-left-float"):n.setAttribute("class","move-button-left")),this.embed||this.overlayChat||!e||e.setAttribute("class","contract-iframe")}.bind(this),400)}else window.innerWidth>480&&this.isChatOpen&&this.$store.commit("SHOW_CHAT_BUTTON")},toggleBrightness:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark},toggleChat:function(){var t,e=this;if(!this.$store.state.chatConfig||!this.$store.state.chatConfig.activeSolution)return this.$store.commit("TOGGLE_CHAT_WINDOW_DISPLAY"),void this.$router.push({name:"config"});if(this.$store.commit("HIDE_CHAT_BUTTON"),this.$store.commit("STOP_TTS"),this.embed||this.overlayChat||(t=document.getElementById("site-frame")),this.isChatOpen){var n=document.getElementById("chat-open-close-button");this.$store.commit("HIDE_CHAT_MODAL"),this.embed||this.overlayChat||!t||t.setAttribute("class",""),this.$store.commit("TOGGLE_CHAT_WINDOW_DISPLAY"),n&&n.setAttribute("class",""),this.loginPerformed=!1,this.$store.dispatch("endTeneoSession").then((function(){e.$store.commit("CLEAR_CHAT_HISTORY"),setTimeout(function(){this.$store.commit("SHOW_CHAT_LOADING")}.bind(e),100),setTimeout(function(){document.getElementById("app").setAttribute("style",""),this.$store.commit("SHOW_CHAT_BUTTON")}.bind(e),1500)})),setTimeout((function(){document.getElementsByClassName("leopard-open-close-button")[0].focus()}),1700)}else h.debug("Toggle Chat: Send Login"),this.$store.dispatch("openChatWindow",!0).then((function(){h.debug("Successfully logged into chat"),setTimeout(function(){this.$store.commit("SHOW_CHAT_BUTTON")}.bind(e),1500)})).catch((function(t){h.error("ERROR OPENING AND LOGGING IN TO CHAT: ",t)}))}}},p=(n("034f"),n("2877")),f=n("6544"),g=n.n(f),v=n("0798"),b=n("7496"),C=n("40dc"),w=n("8336"),k=n("62ad"),y=n("a75b"),I=n("0789"),x=n("132d"),_=n("8860"),A=n("da13"),T=n("1800"),S=n("5d23"),L=n("f774"),O=n("0fd9"),E=n("1f4f"),B=n("2fa4"),F=n("afd9"),$=Object(p.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.showButtonOnly?o("v-app",{staticClass:"application-button",attrs:{dark:t.$vuetify.theme.dark}},[o("div",{attrs:{id:"chat-open-close-button-embed"}},[o("v-fab-transition",[o("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showChatButton,expression:"showChatButton"}],class:"leopard-open-close-button embed-button-center pulse "+t.textColor("primary"),style:t.customCssButtonToolbar,attrs:{id:"leopard-embed-open-close-button",fab:"",dark:"",color:"primary",elevation:"2","aria-roledescription":"A Chat Interface with a Virtual Agent",accesskey:"/","aria-label":"Open Chat",tabindex:"0"},on:{click:t.openEmbedButton}},[o("v-icon",[t._v("mdi-message-text")])],1)],1)],1)]):-1!==["config"].indexOf(t.$route.name)?o("v-app",[-1!==["config"].indexOf(t.$route.name)?o("router-view"):t._e()],1):o("v-app",{class:{"elevation-2":!t.embed,"application-float":t.shouldFloat,"application-embed":t.embed,"application-mobile":t.isMobileDevice,"application-fullscreen":t.fullscreenEmbed},attrs:{toolbar:""}},[o("vue-snotify"),o("transition",{attrs:{name:"system-bar-transition","enter-active-class":"fadeInRightBig","leave-active-class":"fadeOutRightBig"}},[t.maximizeChat?t._e():o("v-system-bar",{class:"elevation-4 leopard-system-bar "+t.textColor("primary"),staticStyle:{"border-right":"4px solid yellowgreen !important","border-left":"4px solid yellowgreen !important"},attrs:{window:"",tabindex:"0",id:"leopardSystemBarMinimized",color:"primary",accesskey:"+"},on:{click:function(e){t.maximizeChat=!0},keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault(),t.maximizeChat=!0}}},[o("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-message-text")]),o("span",[t._v("Continue conversation..")]),o("v-spacer"),o("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-arrow-expand-all")])],1)],1),t.maximizeChat?[t.embed?t._e():o("div",{attrs:{id:"chat-open-close-button"}},[o("v-fab-transition",[o("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showChatButton&&!t.isChatOpen,expression:"showChatButton && !isChatOpen"}],class:"leopard-open-close-button "+t.textColor("primary")+" "+(t.pulseButton&&!t.isChatOpen?"pulse":""),style:t.customCssButtonToolbar,attrs:{fab:"",dark:"",accesskey:"/",color:"primary","aria-roledescription":"A Chat Interface with a Virtual Agent","aria-label":t.isChatOpen?"Close Chat":"Open Chat",elevation:"2",tabindex:"0"},on:{click:t.toggleChat}},[o("v-icon",{domProps:{textContent:t._s(t.isChatOpen?"mdi-close":"mdi-message-text")}})],1)],1)],1),o("transition",{attrs:{name:"menu-transition","enter-active-class":"slideInRight","leave-active-class":"slideOutRight"}},[t.drawer&&t.isChatOpen?o("v-navigation-drawer",{staticClass:"application-mobile",attrs:{app:"",clipped:t.clipped,role:"navigation","aria-label":"Main Chat Bot Menu","enable-resize-watcher":"","overlay-opacity":"0.07",temporary:"",right:"",width:"250"},scopedSlots:t._u([{key:"append",fn:function(){return[t.keepBranding()?o("v-row",{staticStyle:{height:"90px","background-color":"#2F286E"},attrs:{align:"center",justify:"center"}},[o("div",{staticClass:"pa-2"},[o("a",{staticClass:"leopard-img",attrs:{href:"https://www.artificial-solutions.com/teneo",target:"_blank","aria-label":"Artificial Solutions information will open in a new window"}},[o("img",{staticClass:"text-center",attrs:{src:n("b759"),alt:"Powered by Teneo",width:"150"}})])])]):t._e()]},proxy:!0}],null,!1,879639267),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"primary darken-2 pa-0 ma-0 elevation-2",staticStyle:{height:"64px"}},[o("div",{staticClass:"text-center pa-5 pt-4"},[o("h1",{staticClass:"headline white--text font-weight-medium",attrs:{tabindex:"-1",id:"leopard-first-drawer-item"}},[t._v("Chat Menu")])])])],1),o("v-list",{staticClass:"px-2 mt-1",attrs:{role:"list"},model:{value:t.navigationDrawerModel,callback:function(e){t.navigationDrawerModel=e},expression:"navigationDrawerModel"}},[o("div",{attrs:{role:"listitem"}},[o("v-list-item",{key:"menuBackToChat",attrs:{ripple:"",tag:"a","aria-label":"Back to Chat Bot",value:"true"},on:{click:t.backToChat}},[o("v-list-item-action",[o("v-icon",{class:t.menuClass,attrs:{medium:""}},[t._v("mdi-comment-arrow-left-outline")])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"subheading",class:t.menuClassText},[t._v("Back to chat")])],1)],1)],1),t._l(t.activeMenuItems,(function(e,n){return o("div",{key:n+"menuItem",attrs:{role:"listitem"}},[o("v-list-item",{attrs:{ripple:"","aria-label":e.ariaLabel,to:e.route}},[o("v-list-item-action",[o("v-icon",{class:t.menuClass,attrs:{medium:""}},[t._v(t._s(e.icon))])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"subheading",class:t.menuClassText},[t._v(" "+t._s(t.$t(e.titleKey))+" ")])],1)],1)],1)})),o("div",{attrs:{role:"listitem"}},[o("v-list-item",{key:"menuItemTheme",attrs:{ripple:"",tag:"a",value:"true","aria-label":t.$vuetify.theme.dark?"Light Mode":"Dark Mode"},on:{click:t.toggleBrightness}},[o("v-list-item-action",[o("v-icon",{class:t.menuClass,attrs:{medium:""},domProps:{textContent:t._s(t.$vuetify.theme.dark?"mdi-brightness-5":"mdi-brightness-4")}})],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"subheading",class:t.menuClassText},[t._v(t._s(t.$vuetify.theme.dark?"Light Mode":"Dark Mode"))])],1)],1)],1),o("div",{attrs:{role:"listitem"}},[o("v-list-item",{key:"menuCloseChatMenu",attrs:{tag:"a",ripple:"","aria-label":"Close menu",value:"true"},on:{click:function(e){t.drawer=!1}}},[o("v-list-item-action",[o("v-icon",{class:t.menuClass,attrs:{medium:""}},[t._v("mdi-backburger")])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"subheading",class:t.menuClassText},[t._v("Close")])],1)],1)],1),t.authenticated?o("v-list-item",{key:"menuChatLogout",attrs:{ripple:"",role:"listitem","aria-label":"Logout of chat bot",value:"true"},on:{click:function(e){return t.logout()}}},[o("v-list-item-action",[o("v-icon",{class:t.menuClass,attrs:{medium:""}},[t._v("mdi-logout-variant")])],1),o("v-list-item-content",[o("v-list-item-title",{staticClass:"subheading",class:t.menuClassText},[t._v(" "+t._s(t.$t("menu.logout"))+" ")])],1)],1):t._e()],2)],1):t._e()],1),o("transition",{attrs:{name:"chat-window-transition","aria-hidden":t.drawer||t.hide508,"enter-active-class":t.getAnimatedIn,"leave-active-class":t.getAnimatedOut}},[t.isChatOpen?o("div",{class:{"elevation-2":!t.embed,"application-float":t.float,"application-embed":t.embed,"teneo-light-bg":!t.$vuetify.theme.dark,"teneo-dark-bg":t.$vuetify.theme.dark,"application-mobile":t.isMobileDevice},attrs:{id:"teneo","aria-hidden":t.drawer||t.hide508,inert:t.drawer||t.embed&&t.hide508}},[o("div",{staticStyle:{height:"inherit","border-radius":"inherit"}},[o("v-app-bar",{staticClass:"teneo-leopard-header",class:{"teneo-toolbar-float":t.float&&!t.embed,"teneo-toolbar-embed":t.embed&&!t.fullscreenEmbed,"teneo-toolbar-embed-fullscreen":t.fullscreenEmbed},style:t.toolbarStyle,attrs:{elevation:"2","max-height":"64","min-height":"64",height:"64",color:t.toolbarColor,dark:"",app:""}},[o("nav",[o("v-fab-transition",[o("v-btn",{staticClass:"embed-button-center ml-0",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",color:t.isLightColor("primary")?"black":"white",id:"leopardNavMenuButton",accesskey:"m","aria-label":t.drawer?"Hide Chat Bot Menu":"Chat Bot Menu"},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}},[o("v-icon",[t._v(t._s(t.drawer?"mdi-menu-open":"mdi-menu"))])],1)],1)],1),o("h1",{staticClass:"ml-2 subtitle-1 pl-0",attrs:{id:"leopard-chat-toolbar-title",tabindex:"-1"},domProps:{innerHTML:t._s(t.toolbarTitle)}}),o("v-spacer"),"/"!==t.$router.currentRoute.path?o("span",[o("v-fab-transition",[o("v-btn",{staticClass:"mr-2",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",color:t.isLightColor("primary")?"black":"white",to:"/","aria-label":"Back to Chat"}},[o("v-icon",[t._v("mdi-arrow-left")])],1)],1)],1):t._e(),t.emergencyConfig?o("v-fab-transition",[o("v-btn",{staticClass:"embed-button-center mr-1",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",accesskey:".",color:t.emergencyConfig.color?t.emergencyConfig.color:t.isLightColor("primary")?"black":"white","aria-label":"Minimize Chat"},on:{click:t.sendEmergencyCode}},[o("v-icon",[t._v(t._s("mdi-"+t.emergencyConfig.icon))])],1)],1):t._e(),t.embedAndShowClose?[o("span",{on:{click:t.closeChatEmbedded}},[o("v-fab-transition",[o("v-btn",{staticClass:"embed-button-center mr-0",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",color:t.isLightColor("primary")?"black":"white","aria-label":"Close Chat"}},[o("v-icon",[t._v("mdi-close")])],1)],1)],1)]:t.embed?void 0:[!t.embed||t.isLiveAgentAssist?o("v-fab-transition",[o("v-btn",{staticClass:"embed-button-center mr-1",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",accesskey:".",color:t.isLightColor("primary")?"black":"white","aria-label":"Minimize Chat"},on:{click:t.minimizeChat}},[o("v-icon",[t._v("mdi-image-size-select-small")])],1)],1):t._e(),o("v-fab-transition",[o("v-btn",{staticClass:"embed-button-center mr-0",attrs:{icon:"",text:"",tile:"",small:"",ripple:"",color:t.isLightColor("primary")?"black":"white",accesskey:"/","aria-label":"Close Chat"},on:{click:t.toggleChat}},[o("v-icon",[t._v("mdi-close")])],1)],1)]],2),o("v-content",{staticClass:"pt-0",attrs:{app:"",id:"scrolling-techniques content-area"}},[o("OverlayAlert"),-1===["config"].indexOf(t.$route.name)?o("router-view",{attrs:{drawer:t.drawer},on:{closeMenu:function(e){t.drawer=!1}}}):t._e(),o("teneo-modal")],1)],1)]):t._e()]),t.importDialog?o("Dialog",{attrs:{title:"Solution Import",show:t.importDialog,width:"800px"},on:{close:function(e){t.importDialog=!1}},scopedSlots:t._u([{key:"buttons",fn:function(){return[o("v-btn",{attrs:{small:"",color:"green lighten-4 black--text"},on:{click:function(e){t.importDialog=!1}}},[t._v("Cancel")]),t.importDialogMessages.hasConflictingSolution?[o("v-btn",{attrs:{small:"",color:"green black--text"},on:{click:t.importNewUniqueSolutionFromUrl}},[t._v(" Import as Copy "),o("v-icon",{attrs:{right:""}},[t._v("mdi-database-import")])],1),o("v-btn",{attrs:{small:"",color:"green black--text"},on:{click:t.importReplacementSolutionFromUrl}},[t._v(" Replace "),o("v-icon",{attrs:{right:""}},[t._v("mdi-database-import")])],1)]:o("v-btn",{attrs:{small:"",color:"green black--text"},on:{click:t.importNewSolutionFromUrl}},[t._v(" Import "),o("v-icon",{attrs:{right:""}},[t._v("mdi-database-import")])],1)]},proxy:!0}],null,!1,3990421650)},[t._v(" "+t._s(t.importDialogMessages.message)+" "),o("br"),o("br"),t.importDialogMessages.hasConflictingSolution?o("v-alert",{staticClass:"ma-0 elevation-3",attrs:{text:"",outlined:"",border:"left",color:"deep-orange",icon:"mdi-fire"}},[t._v("You already have a solution with the same name or deep link.")]):t._e(),o("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[o("thead",[o("tr",[o("th",{staticClass:"text-left"},[t._v("Key")]),o("th",{staticClass:"text-left"},[t._v("Value")])])]),o("tbody",[t._l(t.importDialogMessages.solution,(function(e,n,i){return[o("tr",{key:""+i+n},[o("td",{staticStyle:{"vertical-align":"top"}},[o("code",{staticClass:"leopard-import"},[t._v(t._s(n))])]),o("td",[o("prism",{staticClass:"leopard-import",staticStyle:{"background-color":"unset",display:"block"},attrs:{language:"json"}},[t._v(t._s(JSON.stringify(e,null,2)))])],1)])]}))],2)]},proxy:!0}],null,!1,1978821473)})],1):t._e()]:t._e()],2)],1)}),[],!1,null,null,null),D=$.exports;g()($,{VAlert:v.a,VApp:b.a,VAppBar:C.a,VBtn:w.a,VCol:k.a,VContent:y.a,VFabTransition:I.c,VIcon:x.a,VList:_.a,VListItem:A.a,VListItemAction:T.a,VListItemContent:S.a,VListItemTitle:S.c,VNavigationDrawer:L.a,VRow:O.a,VSimpleTable:E.a,VSpacer:B.a,VSystemBar:F.a});var R=n("41cb");i.a.polyfill();var P=n("ca6b").getLogger("main.js");Object(s.f)("embed")||Object(s.f)("button")||(console.groupCollapsed("%c Powered by %c Leopard Chat UI 💬 %c","background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#41b883 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),console.log("Author: Peter Joles - peter.joles@artificial-solutions.com"),console.groupEnd()),n.e("leopardConfig").then(n.bind(null,"41f3")).then((function(t){window.leopardConfig=t.default,P.info("🐆 Leopard Config: ",window.leopardConfig),Promise.all([n.e("chunk-75cb4ece"),n.e("chunk-4aca4c06")]).then(n.bind(null,"c0d6")).then((function(t){t.default().then((function(t){var e=t.vuetify,n=t.store;new a.a({router:R.a,store:n,vuetify:e,render:function(t){return t(D)}}).$mount("#app")}))})).catch((function(t){P.error("Leopard Setup Error",t)}))}))},6517:function(t,e,n){"use strict";var o=n("6d18");n.n(o).a},"6d18":function(t,e,n){},7639:function(t,e,n){"use strict";n.r(e),n.d(e,"SOLUTION_DEFAULT",(function(){return o})),n.d(e,"STORAGE_KEY",(function(){return i}));var o={asrCorrections:"\nreplacethis | with that\nreplace that | with this\nokkay | ok\n",chatTitle:"Teneo Chat Client",customCssButtonToolbar:"",contextParams:[{name:"channel",values:[{active:!0,text:"webview"}]}],animations:{in:"slideInUp",out:"flipOutY"},deepLink:"",responseDelay:0,enableLiveChat:!1,float:!0,font:"leopard-font-normal",pulseButton:!0,promptTriggers:{enabled:!1,pollSeconds:"10"},iframeUrl:"",knowledgeData:["What's your name?","Who created you?"],locale:"en-uk-female",longResponsesInModal:!1,name:"",responseIcon:"mdi-message-reply-text",sendContextParams:"login",showChatIcons:!0,lookAndFeel:{response:{iconColor:"secondary",blockBgColor:"white",blockTextColor:"dark"},question:{iconColor:"primary",blockBgColor:"white",blockTextColor:"dark"}},theme:{accent:"#4CAF50",error:"#FF5252",info:"#2196F3",primary:"#0062B1",secondary:"#5B017B",success:"#4CAF50",warning:"#FFC107",dark:"#0062B1",focusButton:"#C8C4C4",sendButton:"#0062B1",textButton:"#000000",custom1:"#0062B1",custom2:"#0062B1",custom3:"#0062B1"},displayAccent:!0,url:"",useLocalStorage:!1,userIcon:"mdi-comment-quote-outline",useInProduction:!1},i=window.location.hostname+window.location.pathname+":"},"85f5":function(t,e,n){"use strict";var o=n("a546");n.n(o).a},"8a23":function(t,e,n){},a289:function(t,e,n){},a3b8:function(t,e,n){},a546:function(t,e,n){},b759:function(t,e,n){t.exports=n.p+"assets/img/powered-by-teneo.ab24dba6.png"},ca6b:function(t,e,n){"use strict";n.r(e),n.d(e,"getLogger",(function(){return a}));var o=n("fa7d"),i=n("e6e6"),s=n.n(i);s.a.level=Object(o.f)("leopardDebug")?5:0;var a=function(t){return s.a.withTag(t)}},ef48:function(t,e,n){"use strict";var o=n("a289");n.n(o).a},fa7d:function(t,e,n){"use strict";n.d(e,"w",(function(){return u})),n.d(e,"m",(function(){return d})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return p})),n.d(e,"o",(function(){return v})),n.d(e,"n",(function(){return b})),n.d(e,"s",(function(){return C})),n.d(e,"r",(function(){return w})),n.d(e,"e",(function(){return k})),n.d(e,"a",(function(){return y})),n.d(e,"u",(function(){return _})),n.d(e,"v",(function(){return A})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return S})),n.d(e,"t",(function(){return L})),n.d(e,"q",(function(){return O})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return B})),n.d(e,"k",(function(){return F})),n.d(e,"b",(function(){return $})),n.d(e,"j",(function(){return D})),n.d(e,"l",(function(){return R})),n.d(e,"p",(function(){return P})),n("99af"),n("7db0"),n("4160"),n("c975"),n("277d"),n("a15b"),n("baa5"),n("d81d"),n("13d5"),n("fb6a"),n("0d03"),n("b0c0"),n("a9e3"),n("4fad"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("5319"),n("841c"),n("1276"),n("2ca0"),n("498a"),n("9911"),n("159b"),n("ddb0"),n("4795"),n("2b3d");var o=n("ade3"),i=n("5530"),s=n("3835"),a=(n("53ca"),n("1d1f")),r=n("7639").SOLUTION_DEFAULT,c=n("810d"),l=n("e144").v4,u=function(){return l()},d=function(t,e){return!!e.solutions.find((function(e){return e.name===t.name||e.deepLink===t.deepLink}))},h=function(t){if(!("id"in t)){var e=u();t.id=e}return"responseDelay"in t||(t.responseDelay=0),"font"in t||(t.font=r.font),"lookAndFeel"in t||(t.lookAndFeel=r.lookAndFeel),"custom1"in t.theme||(t.theme.dark=r.theme.dark,t.theme.custom1=r.theme.custom1,t.theme.custom2=r.theme.custom2,t.theme.custom3=r.theme.custom3),"focusButton"in t.theme||(t.theme.focusButton=r.theme.focusButton),"sendButton"in t.theme||(t.theme.sendButton=t.theme.primary),"textButton"in t.theme||(t.theme.textButton=r.theme.textButton),"animations"in t||(t.animations=r.animations),"promptTriggers"in t||(t.promptTriggers=r.promptTriggers),t},m=[" ","\n","\r","\t","\f","\v"," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","\u2028","\u2029"," "," ","　"],p=function(t){var e=JSON.stringify(t);if(e=a(e,'"true"',"true"),e=a(e,'"false"',"false"),"solutions"in(t=JSON.parse(e)))t.solutions.forEach((function(t){t=h(t)}));else if("url"in t){var n={activeSolution:"",solutions:[]},o=h(t);n.activeSolution=o.id,n.solutions.push(o),t=n}return t},f=function(t,e){return function(t,e){e=e||m;for(var n,o,i=0,s=t.length,a=e.length,r=!0;r&&i<s;)for(r=!1,n=-1,o=t.charAt(i);++n<a;)if(o===e[n]){r=!0,i++;break}return i>=s?"":t.substr(i,s)}(function(t,e){e=e||m;for(var n,o,i=t.length-1,s=e.length,a=!0;a&&i>=0;)for(a=!1,n=-1,o=t.charAt(i);++n<s;)if(o===e[n]){a=!0,i--;break}return i>=0?t.substring(0,i+1):""}(t,e=e||m),e)},g=function(t){return t?(t.match(/^rgb/)?(e=(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],n=t[2],o=t[3]):(e=(t=+"0x".concat(t.slice(1).replace(t.length<5&&/./g,"$&$&")))>>16,n=t>>8&255,o=255&t),Math.sqrt(e*e*.299+n*n*.587+o*o*.114)>145?"light":"dark"):"light";var e,n,o},v=function(t){return"light"===g(t)},b=function(t){return"dark"===g(t)},C=function(t){window.parent&&window.parent.postMessage(t,"*")},w=function(t,e){return e.forEach((function(e){t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.split(e).join(n)}(t,e)})),t};function k(t,e,n){var o;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var r=this;clearTimeout(o),o=setTimeout((function(){o=null,n||t.apply(r,s)}),e),n&&!o&&t.apply(r,s)}}Math.easeInOutQuad=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},Math.easeInCubic=function(t,e,n,o){return e+n*((t/=o)*t*t)},Math.inOutQuintic=function(t,e,n,o){var i=(t/=o)*t,s=i*t;return e+n*(6*s*i+-15*i*i+10*s)},window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;var y=function(t){var e="";return t.split("||").forEach((function(t){var n=t.trim();n&&(e+="||".concat(n))})),e.startsWith("||")&&(e=e.substring(2)),e.trim()},I=function(t){return t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},x=function(t){return t.replace(/[^0-9a-zA-Z\xC0-\xFF \-]/g,"")},_=function(t,e){return null==e&&(e="-"),t=I(t),t=x(t),f(t).replace(/ +/g,e).toLowerCase()},A=function(t){return t.replace(/<[^>]*>/g,"")},T=function(t){return"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?import=").concat(encodeURIComponent(c.pack(t)))},S=function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){return setTimeout(e,t)}))},O=function(t){for(var e={},n=t.split("&"),a=0;a<n.length;a++){var r=n[a].split("=");if(void 0===e[r[0]])e[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof e[r[0]]){var c=[e[r[0]],decodeURIComponent(r[1])];e[r[0]]=c}else e[r[0]].push(decodeURIComponent(r[1]))}return Object.entries(e).reduce((function(t,e){var n=Object(s.a)(e,2),a=n[0],r=n[1];return""===a||null==r||"undefined"===r?t:Object(i.a)(Object(i.a)({},t),{},Object(o.a)({},a,r))}),{})},E=function(t){for(var e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var o=e[n].split("=");if(decodeURIComponent(o[0])===t)return!0}return!1},B=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",o=new Blob([t],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{var i=document.createElement("a"),s=URL.createObjectURL(o);i.href=s,i.download=e,document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(s)}),0)}},F=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},$=function(t){return t?JSON.parse(JSON.stringify(t)):t},D=function(t){var e="";return t&&(e=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")),e},R=function(t,e){e||(e=window.location.href),t=t.replace(/[\]]/g,"\\$&");var n=new RegExp("[?&]".concat(t,"(=([^&#]*)|&|#|$)")).exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},P=function(t){var e=t,n=F();return e.id=u(),e.deepLink=_("".concat(t.deepLink,"-").concat(n)),e.name="".concat(t.name," - ").concat(n),e}}});
//# sourceMappingURL=app.f28bf842.js.map